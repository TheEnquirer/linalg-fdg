/*! For license information please see main.792ec082.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),i=n(3884),o=n(379),a=n(521);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),i=n(6860),o=n(379),a=n(8206);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},9085:function(e,t,n){var r=n(1564).clean,i=/[.*+?^${}()|[\]\\]/g,o=/[a-z0-9_]/i,a=/\s+/;e.exports=function(e,t,n){var s,u;return u={insideWords:!1,findAllOccurrences:!1,requireMatchAll:!1},s=(s=n)||{},Object.keys(s).forEach((function(e){u[e]=!!s[e]})),n=u,e=r(e),(t=r(t)).trim().split(a).filter((function(e){return e.length>0})).reduce((function(t,r){var a,s,u=r.length,l=!n.insideWords&&o.test(r[0])?"\\b":"",c=new RegExp(l+r.replace(i,"\\$&"),"i");if(a=c.exec(e),n.requireMatchAll&&null===a)return e="",[];for(;a&&(s=a.index,t.push([s,s+u]),e=e.slice(0,s)+new Array(u+1).join(" ")+e.slice(s+u),n.findAllOccurrences);)a=c.exec(e);return t}),[]).sort((function(e,t){return e[0]-t[0]}))}},4004:function(e){e.exports=function(e,t){var n=[];return 0===t.length?n.push({text:e,highlight:!1}):t[0][0]>0&&n.push({text:e.slice(0,t[0][0]),highlight:!1}),t.forEach((function(r,i){var o=r[0],a=r[1];n.push({text:e.slice(o,a),highlight:!0}),i===t.length-1?a<e.length&&n.push({text:e.slice(a,e.length),highlight:!1}):a<t[i+1][0]&&n.push({text:e.slice(a,t[i+1][0]),highlight:!1})})),n}},4255:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=l(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[l(e)]},f.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},f.prototype.set=function(e,t){this.map[l(e)]=c(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function O(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function x(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];w.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(_){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,o){var a=new b(e,n);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:x(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;r(new w(t,e))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=f,e.Request=b,e.Response=w),t.Headers=f,t.Request=b,t.Response=w,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},7494:function(e){function t(e,t,n){var r,i,o,a,s;function u(){var l=Date.now()-a;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var l=function(){o=this,i=arguments,a=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},l}t.debounce=t,e.exports=t},1564:function(e,t,n){var r,i,o;o=function(){for(var e={map:{}},t=[{base:" ",letters:"\xa0"},{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",letters:"\xde"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"ff",letters:"\ufb00"},{base:"fi",letters:"\ufb01"},{base:"fl",letters:"\ufb02"},{base:"ffi",letters:"\ufb03"},{base:"ffl",letters:"\ufb04"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\xf1n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"\u07c0o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oe",letters:"\u0152\u0153"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"ss",letters:"\xdf"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",letters:"\xfe"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],n=0,r=t.length;n<r;n++)for(var i=t[n].letters.split(""),o=0,a=i.length;o<a;o++)e.map[i[o]]=t[n].base;return e.clean=function(t){if(!t||!t.length||t.length<1)return"";for(var n,r="",i=t.split(""),o=0,a=i.length;o<a;o++)r+=(n=i[o])in e.map?e.map[n]:n;return r},e},e.exports?e.exports=o():void 0===(i="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},4210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},1189:function(e,t,n){var r=n(3038).default,i=n(319).default;e.exports=function(e){return i(e).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return e[i]=o,e}),{})}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{l(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,O=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return x(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===O||e.$$typeof===g)},t.typeOf=x},8309:function(e,t,n){"use strict";e.exports=n(746)},9010:function(e){e.exports=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,i){if("function"!==typeof r)throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){if("undefined"===typeof n)return t=Object.create(null),e;if(t[n])if("function"!==typeof r)delete t[n];else for(var i=t[n],o=0;o<i.length;++o)i[o].callback===r&&i.splice(o,1);return e},fire:function(n){var r,i=t[n];if(!i)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var a=i[o];a.callback.apply(a.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},2070:function(e,t,n){e.exports=function(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var o=(t&&t.createSimulator||n(8618))(t);if(Array.isArray(t))throw new Error("Physics settings is expected to be an object");var a=e.version>19?function(t){var n=e.getLinks(t);return n?1+n.size/3:1}:function(t){var n=e.getLinks(t);return n?1+n.length/3:1};t&&"function"===typeof t.nodeMass&&(a=t.nodeMass);var s=new Map,u={},l=0,c=o.settings.springTransform||i;l=0,e.forEachNode((function(e){m(e.id),l+=1})),e.forEachLink(y),e.on("changed",v);var h=!1,f={step:function(){if(0===l)return d(!0),!0;var e=o.step();f.lastMove=e,f.fire("step");var t=e/l<=.01;return d(t),t},getNodePosition:function(e){return x(e).pos},setNodePosition:function(e){var t=x(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(e){var t=u[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return o.getBBox()},forEachBody:p,pinNode:function(e,t){x(e.id).isPinned=!!t},isNodePinned:function(e){return x(e.id).isPinned},dispose:function(){e.off("changed",v),f.fire("disposed")},getBody:function(e){return s.get(e)},getSpring:function(t,n){var r;if(void 0===n)r="object"!==typeof t?t:t.id;else{var i=e.hasLink(t,n);if(!i)return;r=i.id}return u[r]},getForceVectorLength:function(){var e=0,t=0;return p((function(n){e+=Math.abs(n.force.x),t+=Math.abs(n.force.y)})),Math.sqrt(e*e+t*t)},simulator:o,graph:e,lastMove:0};return r(f),f;function d(e){var t;h!==e&&(h=e,t=e,f.fire("stable",t))}function p(e){s.forEach(e)}function v(t){for(var n=0;n<t.length;++n){var r=t[n];"add"===r.changeType?(r.node&&m(r.node.id),r.link&&y(r.link)):"remove"===r.changeType&&(r.node&&g(r.node),r.link&&b(r.link))}l=e.getNodesCount()}function m(t){var n=s.get(t);if(!n){var r=e.getNode(t);if(!r)throw new Error("initBody() was called with unknown node id");var i=r.position;if(!i){var a=function(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),r=0;r<n;++r){var i=e.links[r],o=i.fromId!==e.id?s.get(i.fromId):s.get(i.toId);o&&o.pos&&t.push(o)}return t}(r);i=o.getBestNewBodyPosition(a)}(n=o.addBodyAt(i)).id=t,s.set(t,n),O(t),function(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}(r)&&(n.isPinned=!0)}}function g(e){var t=e.id,n=s.get(t);n&&(s.delete(t),o.removeBody(n))}function y(e){O(e.fromId),O(e.toId);var t=s.get(e.fromId),n=s.get(e.toId),r=o.addSpring(t,n,e.length);c(e,r),u[e.id]=r}function b(t){var n=u[t.id];if(n){var r=e.getNode(t.fromId),i=e.getNode(t.toId);r&&O(r.id),i&&O(i.id),delete u[t.id],o.removeSpring(n)}}function O(e){var t=s.get(e);if(t.mass=a(e),Number.isNaN(t.mass))throw new Error("Node mass should be a number")}function x(e){var t=s.get(e);return t||(m(e),t=s.get(e)),t}},e.exports.simulator=n(8618);var r=n(9010);function i(){}},5842:function(e,t,n){var r=n(2302);e.exports=function(e){return function(t,n){for(var i=n&&n.indent||0,o=n&&void 0!==n.join?n.join:"\n",a=Array(i+1).join(" "),s=[],u=0;u<e;++u){var l=r(u),c=0===u?"":a;s.push(c+t.replace(/{var}/g,l))}return s.join(o)}}},1282:function(e,t,n){e.exports=function(e){var t=i(e);return new Function("bodies","settings","random",t)},e.exports.generateFunctionBody=i;var r=n(5842);function i(e){var t=r(e);return"\n  var boundingBox = {\n    ".concat(t("min_{var}: 0, max_{var}: 0,",{indent:4}),"\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ").concat(t("base_{var} = 0",{join:", "}),";\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ").concat(t("base_{var} += neighborPos.{var};",{indent:10}),"\n        }\n\n        ").concat(t("base_{var} /= neighbors.length;",{indent:8}),"\n      } else {\n        ").concat(t("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8}),"\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ").concat(t("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8}),"\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ").concat(t("var max_{var} = -Infinity;",{indent:4}),"\n    ").concat(t("var min_{var} = Infinity;",{indent:4}),"\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ").concat(t("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6}),"\n      ").concat(t("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6}),"\n    }\n\n    ").concat(t("boundingBox.min_{var} = min_{var};",{indent:4}),"\n    ").concat(t("boundingBox.max_{var} = max_{var};",{indent:4}),"\n  }\n\n  function resetBoundingBox() {\n    ").concat(t("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4}),"\n  }\n")}},2525:function(e,t,n){var r=n(5842);function i(e,t){return"\n".concat(a(e,t),"\n").concat(o(e),"\nreturn {Body: Body, Vector: Vector};\n")}function o(e){var t=r(e),n=t("{var}",{join:", "});return"\nfunction Body(".concat(n,") {\n  this.isPinned = false;\n  this.pos = new Vector(").concat(n,");\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (").concat(n,") {\n  ").concat(t("this.pos.{var} = {var} || 0;",{indent:2}),"\n};")}function a(e,t){var n=r(e),i="";t&&(i="".concat(n("\n   var v{var};\nObject.defineProperty(this, '{var}', {\n  set: function(v) { \n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\n    v{var} = v; \n  },\n  get: function() { return v{var}; }\n});")));var o=n("{var}",{join:", "});return"function Vector(".concat(o,") {\n  ").concat(i,"\n    if (typeof arguments[0] === 'object') {\n      // could be another vector\n      let v = arguments[0];\n      ").concat(n('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4}),"\n      ").concat(n("this.{var} = v.{var};",{indent:4}),"\n    } else {\n      ").concat(n('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4}),"\n    }\n  }\n  \n  Vector.prototype.reset = function () {\n    ").concat(n("this.{var} = ",{join:""}),"0;\n  };")}e.exports=function(e,t){var n=i(e,t);return new Function(n)().Body},e.exports.generateCreateBodyFunctionBody=i,e.exports.getVectorCode=a,e.exports.getBodyCode=o},5947:function(e,t,n){var r=n(5842);function i(e){var t=r(e);return"\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ".concat(t("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6}),"\n    }\n  };\n")}e.exports=function(e){var t=i(e);return new Function("options",t)},e.exports.generateCreateDragForceFunctionBody=i},9063:function(e,t,n){var r=n(5842);function i(e){var t=r(e);return"\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ".concat(t("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6}),"\n      var r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n\n      if (r === 0) {\n        ").concat(t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8}),"\n        r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ").concat(t("body1.force.{var} += coefficient * d{var}",{indent:6}),";\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ").concat(t("body2.force.{var} -= coefficient * d{var}",{indent:6}),";\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n")}e.exports=function(e){var t=i(e);return new Function("options","random",t)},e.exports.generateCreateSpringForceFunctionBody=i},100:function(e,t,n){var r=n(5842);function i(e){var t=r(e);return"\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ".concat(t("var d{var} = 0, t{var} = 0;",{indent:2}),"\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ").concat(t("body.velocity.{var} += coeff * body.force.{var};",{indent:4}),"\n    ").concat(t("var v{var} = body.velocity.{var};",{indent:4}),"\n    var v = Math.sqrt(").concat(t("v{var} * v{var}",{join:" + "}),");\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ").concat(t("body.velocity.{var} = v{var} / v;",{indent:6}),"\n    }\n\n    ").concat(t("d{var} = timeStep * body.velocity.{var};",{indent:4}),"\n\n    ").concat(t("body.pos.{var} += d{var};",{indent:4}),"\n\n    ").concat(t("t{var} += Math.abs(d{var});",{indent:4}),"\n  }\n\n  return (").concat(t("t{var} * t{var}",{join:" + "}),")/length;\n")}e.exports=function(e){var t=i(e);return new Function("bodies","timeStep","adaptiveTimeStepWeight",t)},e.exports.generateIntegratorFunctionBody=i},6547:function(e,t,n){var r=n(5842),i=n(2302);function o(e){var t=r(e),n=Math.pow(2,e);return"\n".concat("\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n","\n").concat(l(e),"\n").concat(a(e),"\n").concat(u(e),"\n").concat(s(e),"\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n").concat(function(e){for(var t=[],r=0;r<n;++r)t.push("".concat(e,"quad").concat(r," = null;"));return t.join("\n")}("      node."),"\n      node.body = null;\n      node.mass = ").concat(t("node.mass_{var} = ",{join:""}),"0;\n      ").concat(t("node.min_{var} = node.max_{var} = ",{join:""}),"0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ").concat(t("var d{var};",{indent:4}),"\n    var r; \n    ").concat(t("var f{var} = 0;",{indent:4}),"\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ").concat(t("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8}),"\n        r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ").concat(t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10}),"\n          r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ").concat(t("f{var} += v * d{var};",{indent:8}),"\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ").concat(t("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8}),"\n        r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ").concat(t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10}),"\n          r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n        }\n        // If s / r < \u03b8, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_").concat(i(0)," - node.min_").concat(i(0),") / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ").concat(t("f{var} += v * d{var};",{indent:10}),"\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n").concat(function(){for(var e=Array(11).join(" "),t=[],r=0;r<n;++r)t.push(e+"if (node.quad".concat(r,") {")),t.push(e+"  queue[pushIdx] = node.quad".concat(r,";")),t.push(e+"  queueLength += 1;"),t.push(e+"  pushIdx += 1;"),t.push(e+"}");return t.join("\n")}(),"\n        }\n      }\n    }\n\n    ").concat(t("sourceBody.force.{var} += f{var};",{indent:4}),"\n  }\n\n  function insertBodies(bodies) {\n    ").concat(t("var {var}min = Number.MAX_VALUE;",{indent:4}),"\n    ").concat(t("var {var}max = Number.MIN_VALUE;",{indent:4}),"\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ").concat(t("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6}),"\n      ").concat(t("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6}),"\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ").concat(t("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4}),"\n\n    currentInCache = 0;\n    root = newNode();\n    ").concat(t("root.min_{var} = {var}min;",{indent:4}),"\n    ").concat(t("root.max_{var} = {var}min + maxSideLength;",{indent:4}),"\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ").concat(t("var {var} = body.pos.{var};",{indent:8}),"\n        node.mass += body.mass;\n        ").concat(t("node.mass_{var} += body.mass * {var};",{indent:8}),"\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ").concat(t("var min_{var} = node.min_{var};",{indent:8}),"\n        ").concat(t("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8}),"\n\n").concat(function(t){for(var n=[],r=Array(t+1).join(" "),o=0;o<e;++o)n.push(r+"if (".concat(i(o)," > max_").concat(i(o),") {")),n.push(r+"  quadIdx = quadIdx + ".concat(Math.pow(2,o),";")),n.push(r+"  min_".concat(i(o)," = max_").concat(i(o),";")),n.push(r+"  max_".concat(i(o)," = node.max_").concat(i(o),";")),n.push(r+"}");return n.join("\n")}(8),"\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ").concat(t("child.min_{var} = min_{var};",{indent:10}),"\n          ").concat(t("child.max_{var} = max_{var};",{indent:10}),"\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ").concat(t("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12}),"\n\n            ").concat(t("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12}),"\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\nreturn createQuadTree;\n\n")}function a(e){var t=r(e);return"\n  function isSamePosition(point1, point2) {\n    ".concat(t("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2}),"\n  \n    return ").concat(t("d{var} < 1e-8",{join:" && "}),";\n  }  \n")}function s(e){var t=Math.pow(2,e);return"\nfunction setChild(node, idx, child) {\n  ".concat(function(){for(var e=[],n=0;n<t;++n){var r=0===n?"  ":"  else ";e.push("".concat(r,"if (idx === ").concat(n,") node.quad").concat(n," = child;"))}return e.join("\n")}(),"\n}")}function u(e){return"function getChild(node, idx) {\n".concat(function(){for(var t=[],n=Math.pow(2,e),r=0;r<n;++r)t.push("  if (idx === ".concat(r,") return node.quad").concat(r,";"));return t.join("\n")}(),"\n  return null;\n}")}function l(e){var t=r(e),n=Math.pow(2,e);return"\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n".concat(function(e){for(var t=[],r=0;r<n;++r)t.push("".concat(e,"quad").concat(r," = null;"));return t.join("\n")}("  this."),"\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ").concat(t("this.mass_{var} = 0;",{indent:2}),"\n\n  // bounding box coordinates\n  ").concat(t("this.min_{var} = 0;",{indent:2}),"\n  ").concat(t("this.max_{var} = 0;",{indent:2}),"\n}\n")}function c(){return"\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n"}e.exports=function(e){var t=o(e);return new Function(t)()},e.exports.generateQuadTreeFunctionBody=o,e.exports.getInsertStackCode=c,e.exports.getQuadNodeCode=l,e.exports.isSamePosition=a,e.exports.getChildBodyCode=u,e.exports.setChildBodyCode=s},2302:function(e){e.exports=function(e){return 0===e?"x":1===e?"y":2===e?"z":"c"+(e+1)}},8618:function(e,t,n){e.exports=function(e){var t=n(7422),h=n(6147),f=n(9010);if(e){if(void 0!==e.springCoeff)throw new Error("springCoeff was renamed to springCoefficient");if(void 0!==e.dragCoeff)throw new Error("dragCoeff was renamed to dragCoefficient")}e=h(e,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var d=l[e.dimensions];if(!d){var p=e.dimensions;d={Body:r(p,e.debug),createQuadTree:i(p),createBounds:o(p),createDragForce:a(p),createSpringForce:s(p),integrate:u(p)},l[p]=d}var v=d.Body,m=d.createQuadTree,g=d.createBounds,y=d.createDragForce,b=d.createSpringForce,O=d.integrate,x=n(2165).random(42),w=[],k=[],S=m(e,x),_=g(w,e,x),T=b(e,x),M=y(e),E=[],P=new Map,C=0;L("nbody",(function(){if(0===w.length)return;S.insertBodies(w);var e=w.length;for(;e--;){var t=w[e];t.isPinned||(t.reset(),S.updateBodyForce(t),M.update(t))}})),L("spring",(function(){var e=k.length;for(;e--;)T.update(k[e])}));var A={bodies:w,quadTree:S,springs:k,settings:e,addForce:L,removeForce:function(e){var t=E.indexOf(P.get(e));if(t<0)return;E.splice(t,1),P.delete(e)},getForces:function(){return P},step:function(){for(var t=0;t<E.length;++t)E[t](C);var n=O(w,e.timeStep,e.adaptiveTimeStepWeight);return C+=1,n},addBody:function(e){if(!e)throw new Error("Body is required");return w.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=function(e){return new v(e)}(e);return w.push(t),t},removeBody:function(e){if(e){var t=w.indexOf(e);if(!(t<0))return w.splice(t,1),0===w.length&&_.reset(),!0}},addSpring:function(e,n,r,i){if(!e||!n)throw new Error("Cannot add null spring to force simulator");"number"!==typeof r&&(r=-1);var o=new t(e,n,r,i>=0?i:-1);return k.push(o),o},getTotalMovement:function(){return 0},removeSpring:function(e){if(e){var t=k.indexOf(e);return t>-1?(k.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return _.getBestNewPosition(e)},getBBox:R,getBoundingBox:R,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(t){return void 0!==t?(e.gravity=t,S.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,S.options({theta:t}),this):e.theta},random:x};return function(e,t){for(var n in e)c(e,t,n)}(e,A),f(A),A;function R(){return _.update(),_.box}function L(e,t){if(P.has(e))throw new Error("Force "+e+" is already added");P.set(e,t),E.push(t)}};var r=n(2525),i=n(6547),o=n(1282),a=n(5947),s=n(9063),u=n(100),l={};function c(e,t,n){if(e.hasOwnProperty(n)&&"function"!==typeof t[n]){var r=Number.isFinite(e[n]);t[n]=r?function(r){if(void 0!==r){if(!Number.isFinite(r))throw new Error("Value of "+n+" should be a valid number.");return e[n]=r,t}return e[n]}:function(r){return void 0!==r?(e[n]=r,t):e[n]}}}},7422:function(e){e.exports=function(e,t,n,r){this.from=e,this.to=t,this.length=n,this.coefficient=r}},1700:function(e,t,n){e.exports=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);if("function"!==typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,n=[],l={},c=0,h=e.multigraph?function(e,t,n){var r=u(e,t),i=l.hasOwnProperty(r);if(i||T(e,t)){i||(l[r]=0);var o="@"+ ++l[r];r=u(e+o,t+o)}return new s(e,t,n,r)}:function(e,t,n){var r=u(e,t);return new s(e,t,n,r)},f=[],d=M,p=M,v=M,m=M,g={addNode:O,addLink:function(e,t,r){v();var i=x(e)||O(e),o=x(t)||O(t),s=h(e,t,r);n.push(s),a(i,s),e!==t&&a(o,s);return d(s,"add"),m(),s},removeLink:_,removeNode:w,getNode:x,getNodeCount:k,getLinkCount:S,getLinksCount:S,getNodesCount:k,getLinks:function(e){var t=x(e);return t?t.links:null},forEachNode:C,forEachLinkedNode:function(e,n,r){var i=x(e);if(i&&i.links&&"function"===typeof n)return r?function(e,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(o.fromId===n&&r(t.get(o.toId),o))return!0}}(i.links,e,n):function(e,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=o.fromId===n?o.toId:o.fromId;if(r(t.get(a),o))return!0}}(i.links,e,n)},forEachLink:function(e){var t,r;if("function"===typeof e)for(t=0,r=n.length;t<r;++t)e(n[t])},beginUpdate:v,endUpdate:m,clear:function(){v(),C((function(e){w(e.id)})),m()},hasLink:T,hasNode:x,getLink:T};return r(g),function(){var e=g.on;function t(){return g.beginUpdate=v=E,g.endUpdate=m=P,d=y,p=b,g.on=e,e.apply(g,arguments)}g.on=t}(),g;function y(e,t){f.push({link:e,changeType:t})}function b(e,t){f.push({node:e,changeType:t})}function O(e,n){if(void 0===e)throw new Error("Invalid node identifier");v();var r=x(e);return r?(r.data=n,p(r,"update")):(r=new o(e,n),p(r,"add")),t.set(e,r),m(),r}function x(e){return t.get(e)}function w(e){var n=x(e);if(!n)return!1;v();var r=n.links;if(r){n.links=null;for(var i=0;i<r.length;++i)_(r[i])}return t.delete(e),p(n,"remove"),m(),!0}function k(){return t.size}function S(){return n.length}function _(e){if(!e)return!1;var t=i(e,n);if(t<0)return!1;v(),n.splice(t,1);var r=x(e.fromId),o=x(e.toId);return r&&(t=i(e,r.links))>=0&&r.links.splice(t,1),o&&(t=i(e,o.links))>=0&&o.links.splice(t,1),d(e,"remove"),m(),!0}function T(e,t){var n,r=x(e);if(!r||!r.links)return null;for(n=0;n<r.links.length;++n){var i=r.links[n];if(i.fromId===e&&i.toId===t)return i}return null}function M(){}function E(){c+=1}function P(){0===(c-=1)&&f.length>0&&(g.fire("changed",f),f.length=0)}function C(e){if("function"!==typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var n=t.values(),r=n.next();!r.done;){if(e(r.value))return!0;r=n.next()}}};var r=n(9010);function i(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var n,r=t.length;for(n=0;n<r;n+=1)if(t[n]===e)return n;return-1}function o(e,t){this.id=e,this.links=null,this.data=t}function a(e,t){e.links?e.links.push(t):e.links=[t]}function s(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function u(e,t){return e.toString()+"\ud83d\udc49 "+t.toString()}},6147:function(e){e.exports=function e(t,n){var r;t||(t={});if(n)for(r in n)if(n.hasOwnProperty(r)){var i=t.hasOwnProperty(r),o=typeof n[r];!i||typeof t[r]!==o?t[r]=n[r]:"object"===o&&(t[r]=e(t[r],n[r]))}return t}},2165:function(e){function t(e){return new n("number"===typeof e?e:+new Date)}function n(e){this.seed=e}function r(e){return Math.sqrt(2*Math.PI/e)*Math.pow(1/Math.E*(e+1/(12*e-1/(10*e))),e)}function i(){var e=this.seed;return e=4294967295&(3042594569^(e=(e=4294967295&((e=(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+374761393+(e<<5)&4294967295)+3550635116^e<<9))+4251993797+(e<<3)&4294967295)^e>>>16),this.seed=e,(268435455&e)/268435456}e.exports=t,e.exports.random=t,e.exports.randomIterator=function(e,n){var r=n||t();if("function"!==typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var n,i,o;for(n=e.length-1;n>0;--n)i=r.next(n+1),o=e[i],e[i]=e[n],e[n]=o,t(o);e.length&&t(e[0])},shuffle:function(){var t,n,i;for(t=e.length-1;t>0;--t)n=r.next(t+1),i=e[n],e[n]=e[t],e[t]=i;return e}}},n.prototype.next=function(e){return Math.floor(this.nextDouble()*e)},n.prototype.nextDouble=i,n.prototype.uniform=i,n.prototype.gaussian=function(){var e,t,n;do{t=2*this.nextDouble()-1,n=2*this.nextDouble()-1,e=t*t+n*n}while(e>=1||0===e);return t*Math.sqrt(-2*Math.log(e)/e)},n.prototype.levy=function(){var e=1.5,t=Math.pow(r(2.5)*Math.sin(Math.PI*e/2)/(r(1.25)*e*Math.pow(2,.25)),1/e);return this.gaussian()*t/Math.pow(Math.abs(this.gaussian()),1/e)}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8961:function(e,t,n){"use strict";var r=n(1725),i={}.hasOwnProperty;function o(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}var a="$push",s="$unshift",u="$splice",l="$set",c="$merge",h="$apply",f=[a,s,u,l,c,h],d={};function p(e,t,n){o(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var r=t[n];o(Array.isArray(r),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,r)}f.forEach((function(e){d[e]=!0})),e.exports=function e(t,n){if(o("object"===typeof n,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",f.join(", "),l),i.call(n,l))return o(1===Object.keys(n).length,"Cannot have more than one key in an object with %s",l),n.$set;var v,m=(v=t,Array.isArray(v)?v.concat():v&&"object"===typeof v?r(new v.constructor,v):v);if(i.call(n,c)){var g=n.$merge;o(g&&"object"===typeof g,"update(): %s expects a spec of type 'object'; got %s",c,g),o(m&&"object"===typeof m,"update(): %s expects a target of type 'object'; got %s",c,m),r(m,n.$merge)}for(var y in i.call(n,a)&&(p(t,n,a),n.$push.forEach((function(e){m.push(e)}))),i.call(n,s)&&(p(t,n,s),n.$unshift.forEach((function(e){m.unshift(e)}))),i.call(n,u)&&(o(Array.isArray(t),"Expected %s target to be an array; got %s",u,t),o(Array.isArray(n.$splice),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",u,n.$splice),n.$splice.forEach((function(e){o(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",u,n.$splice),m.splice.apply(m,e)}))),i.call(n,h)&&(o("function"===typeof n.$apply,"update(): expected spec of %s to be a function; got %s.",h,n.$apply),m=n.$apply(m)),n)d.hasOwnProperty(y)&&d[y]||(m[y]=e(t[y],n[y]));return m}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function O(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,k=60106,S=60107,_=60108,T=60114,M=60109,E=60110,P=60112,C=60113,A=60120,R=60115,L=60116,Q=60121,D=60128,Z=60129,I=60130,N=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;w=z("react.element"),k=z("react.portal"),S=z("react.fragment"),_=z("react.strict_mode"),T=z("react.profiler"),M=z("react.provider"),E=z("react.context"),P=z("react.forward_ref"),C=z("react.suspense"),A=z("react.suspense_list"),R=z("react.memo"),L=z("react.lazy"),Q=z("react.block"),z("react.scope"),D=z("react.opaque.id"),Z=z("react.debug_trace_mode"),I=z("react.offscreen"),N=z("react.legacy_hidden")}var j,W="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=W&&e[W]||e["@@iterator"])?e:null}function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var $=!1;function V(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case T:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return H(e.type);case Q:return H(e._render);case L:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&O(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function le(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oe=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){Oe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Ee=null,Pe=null;function Ce(e){if(e=ri(e)){if("function"!==typeof Me)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Me(e.stateNode,e.type,t))}}function Ae(e){Ee?Pe?Pe.push(e):Pe=[e]:Ee=e}function Re(){if(Ee){var e=Ee,t=Pe;if(Pe=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Le(e,t){return e(t)}function Qe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Ze=Le,Ie=!1,Ne=!1;function ze(){null===Ee&&null===Pe||(De(),Re())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var We=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){We=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){We=!1}function Fe(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var $e=!1,Ve=null,Ue=!1,He=null,Ge={onError:function(e){$e=!0,Ve=e}};function qe(e,t,n,r,i,o,a,s,u){$e=!1,Ve=null,Fe.apply(Ge,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(a(188))}function Ke(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,lt=null,ct=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function Ot(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(bt),ht.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ot)))}function wt(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&xt(st,e),null!==ut&&xt(ut,e),null!==lt&&xt(lt,e),ct.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},_t={},Tt={};function Mt(e){if(_t[e])return _t[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return _t[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Et=Mt("animationend"),Pt=Mt("animationiteration"),Ct=Mt("animationstart"),At=Mt("transitionend"),Rt=new Map,Lt=new Map,Qt=["abort","abort",Et,"animationEnd",Pt,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Lt.set(r,t),Rt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Zt=8;function It(e){if(0!==(1&e))return Zt=15,1;if(0!==(2&e))return Zt=14,2;if(0!==(4&e))return Zt=13,4;var t=24&e;return 0!==t?(Zt=12,t):0!==(32&e)?(Zt=11,32):0!==(t=192&e)?(Zt=10,t):0!==(256&e)?(Zt=9,256):0!==(t=3584&e)?(Zt=8,t):0!==(4096&e)?(Zt=7,4096):0!==(t=4186112&e)?(Zt=6,t):0!==(t=62914560&e)?(Zt=5,t):67108864&e?(Zt=4,67108864):0!==(134217728&e)?(Zt=3,134217728):0!==(t=805306368&e)?(Zt=2,t):0!==(1073741824&e)?(Zt=1,1073741824):(Zt=8,e)}function Nt(e,t){var n=e.pendingLanes;if(0===n)return Zt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Zt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=It(u),i=Zt):0!==(s&=o)&&(r=It(s),i=Zt)}else 0!==(o=n&~a)?(r=It(o),i=Zt):0!==s&&(r=It(s),i=Zt);if(0===r)return 0;if(r=n&((0>(r=31-$t(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(It(t),i<=Zt)return t;Zt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-$t(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Wt(24&~t))?jt(10,t):e;case 10:return 0===(e=Wt(192&~t))?jt(8,t):e;case 8:return 0===(e=Wt(3584&~t))&&(0===(e=Wt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Wt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Wt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ft(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-$t(t)]=n}var $t=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Ut|0)|0},Vt=Math.log,Ut=Math.LN2;var Ht=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,qt=!0;function Xt(e,t,n,r){Ie||De();var i=Jt,o=Ie;Ie=!0;try{Qe(i,e,t,n,r)}finally{(Ie=o)||ze()}}function Yt(e,t,n,r){Gt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(qt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Kt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,mt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Dr(e,t,r,null,n)}}}function Kt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(ln=e.screenX-hn.screenX,cn=e.screenY-hn.screenY):cn=ln=0,hn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),On=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(xn),kn=un(i({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function En(){return Mn}var Pn=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=un(Pn),An=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Ln=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Qn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=un(Qn),Zn=[9,13,27,32],In=h&&"CompositionEvent"in window,Nn=null;h&&"documentMode"in document&&(Nn=document.documentMode);var zn=h&&"TextEvent"in window&&!Nn,jn=h&&(!In||Nn&&8<Nn&&11>=Nn),Wn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=Ir(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Yn(e){Pr(e,0)}function Jn(e){if(Y(ii(e)))return e}function Kn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){qn&&(qn.detachEvent("onpropertychange",or),Xn=qn=null)}function or(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if(Gn(t,Xn,e,Te(e)),e=Yn,Ie)e(t);else{Ie=!0;try{Le(e,t)}finally{Ie=!1,ze()}}}}function ar(e,t,n){"focusin"===e?(ir(),Xn=n,(qn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function ur(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,br=null,Or=null,xr=null,wr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==br||br!==J(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&fr(xr,r)||(xr=r,0<(r=Ir(Or,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Qt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<Sr.length;_r++)Lt.set(Sr[_r],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Er(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(qe.apply(this,arguments),$e){if(!$e)throw Error(a(198));var c=Ve;$e=!1,Ve=null,Ue||(Ue=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Er(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Er(i,s,l),o=u}}}if(Ue)throw e=He,Ue=!1,He=null,e}function Cr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Qr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Mr.has(t)||Lr(t,!1,e,null),Lr(t,!0,e,null)})))}function Lr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Mr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Qr(o,e,i,t),a.add(s))}function Qr(e,t,n,r){var i=Lt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ne)return e(t,n);Ne=!0;try{Ze(e,t,n)}finally{Ne=!1,ze()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,l=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Et:case Pt:case Ct:u=On;break;case At:u=Ln;break;case"scroll":u=vn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=je(p,f))&&c.push(Zr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(h=Xe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==l?s:ii(l),(s=new c(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ni(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Nr(d))p++;for(d=0,v=f;v;v=Nr(v))d++;for(;0<p-d;)c=Nr(c),p--;for(;0<d-p;)f=Nr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Nr(c),f=Nr(f)}c=null}else c=null;null!==u&&zr(a,s,u,c,!1),null!==l&&null!==h&&zr(a,h,l,c,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Kn;else if(Hn(s))if(er)m=lr;else{m=sr;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Gn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(br=g,Or=r,xr=null);break;case"focusout":xr=Or=br=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,kr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(a,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Vn=!0)),0<(g=Ir(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=$n(n))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Bn=!0,Wn);case"textInput":return(e=t.data)===Wn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&Fn(e,t)?(e=rn(),nn=tn=en=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ir(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Pr(a,t)}))}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Zr(e,o,i)),null!=(o=je(e,t))&&r.push(Zr(e,o,i))),e=e.return}return r}function Nr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=je(n,o))&&a.unshift(Zr(n,u,s)):i||null!=(u=je(n,o))&&a.push(Zr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var Wr=null,Br=null;function Fr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"===typeof setTimeout?setTimeout:void 0,Ur="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Kr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[Jr])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Kr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function li(e){return{current:e}}function ci(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function hi(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},di=li(fi),pi=li(!1),vi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(pi),ci(di)}function bi(e,t,n){if(di.current!==fi)throw Error(a(168));hi(di,t),hi(pi,n)}function Oi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,H(t)||"Unknown",o));return i({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=di.current,hi(di,e),hi(pi,pi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(di),hi(di,e)):ci(pi),hi(pi,n)}var ki=null,Si=null,_i=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Mi=o.unstable_cancelCallback,Ei=o.unstable_shouldYield,Pi=o.unstable_requestPaint,Ci=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Li=o.unstable_UserBlockingPriority,Qi=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Zi=o.unstable_IdlePriority,Ii={},Ni=void 0!==Pi?Pi:function(){},zi=null,ji=null,Wi=!1,Bi=Ci(),Fi=1e4>Bi?Ci:function(){return Ci()-Bi};function $i(){switch(Ai()){case Ri:return 99;case Li:return 98;case Qi:return 97;case Di:return 96;case Zi:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Ri;case 98:return Li;case 97:return Qi;case 96:return Di;case 95:return Zi;default:throw Error(a(332))}}function Ui(e,t){return e=Vi(e),_i(e,t)}function Hi(e,t,n){return e=Vi(e),Ti(e,t,n)}function Gi(){if(null!==ji){var e=ji;ji=null,Mi(e)}qi()}function qi(){if(!Wi&&null!==zi){Wi=!0;var e=0;try{var t=zi;Ui(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Ti(Ri,Gi),n}finally{Wi=!1}}}var Xi=x.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=li(null),Ki=null,eo=null,to=null;function no(){to=eo=Ki=null}function ro(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Ki=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ia=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ki)throw Error(a(308));eo=t,Ki.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==a){for(f=o.baseState,s=0,h=c=l=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=d,l=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Ws|=s,e.lanes=s,e.memoizedState=f}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ho(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function Oo(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?vi:di.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Gu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case k:return(t=Yu(t,e.mode,n)).return=e,t}if(ko(t)||B(t))return(t=Gu(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===S?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(ko(n)||B(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===S?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,h=m}if(v===s.length)return n(i,h),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),l}function m(i,s,u,l){var c=B(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===S&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===S){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=So(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===S?((r=Gu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Hu(o.type,o.key,o.props,null,e.mode,u)).ref=So(e,r,o),u.return=e,e=u)}return s(e);case k:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xu(o,e.mode,u)).return=e,e=r),s(e);if(ko(o))return v(e,r,o,u);if(B(o))return m(e,r,o,u);if(c&&_o(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return n(e,r)}}var Mo=To(!0),Eo=To(!1),Po={},Co=li(Po),Ao=li(Po),Ro=li(Po);function Lo(e){if(e===Po)throw Error(a(174));return e}function Qo(e,t){switch(hi(Ro,t),hi(Ao,e),hi(Co,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Co),hi(Co,t)}function Do(){ci(Co),ci(Ao),ci(Ro)}function Zo(e){Lo(Ro.current);var t=Lo(Co.current),n=pe(t,e.type);t!==n&&(hi(Ao,e),hi(Co,n))}function Io(e){Ao.current===e&&(ci(Co),ci(Ao))}var No=li(0);function zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Wo=null,Bo=!1;function Fo(e,t){var n=$u(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $o(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Vo(e){if(Bo){var t=Wo;if(t){var n=t;if(!$o(e,t)){if(!(t=Gr(n.nextSibling))||!$o(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(jo=e);Fo(jo,n)}jo=e,Wo=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,jo=e}}function Uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Ho(e){if(e!==jo)return!1;if(!Bo)return Uo(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!$r(t,e.memoizedProps))for(t=Wo;t;)Fo(e,t),t=Gr(t.nextSibling);if(Uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Wo=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Wo=null}}else Wo=jo?Gr(e.stateNode.nextSibling):null;return!0}function Go(){Wo=jo=null,Bo=!1}var qo=[];function Xo(){for(var e=0;e<qo.length;e++)qo[e]._workInProgressVersionPrimary=null;qo.length=0}var Yo=x.ReactCurrentDispatcher,Jo=x.ReactCurrentBatchConfig,Ko=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Ko=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?La:Qa,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Yo.current=Da,e=n(r,i)}while(ia)}if(Yo.current=Ra,t=null!==ta&&null!==ta.next,Ko=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function la(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ca(e,t){return"function"===typeof t?t(e):t}function ha(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Ko&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,ea.lanes|=c,Ws|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,cr(r,t.memoizedState)||(Ia=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Ia=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ko&e)===e)&&(t._workInProgressVersionPrimary=r,qo.push(t))),e)return n(t._source);throw qo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ls;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Yo.current,l=u.useState((function(){return da(i,t,n)})),c=l[1],h=l[0];l=na;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var m=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(h,e)||(c(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-$t(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:h}).dispatch=c=Aa.bind(null,ea,e),l.queue=e,l.baseQueue=null,h=da(i,t,n),l.memoizedState=l.baseState=h),h}function va(e,t,n){return pa(la(),e,t,n)}function ma(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Aa.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return la().memoizedState}function Oa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function xa(e,t,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function wa(e,t){return Oa(516,4,e,t)}function ka(e,t){return xa(516,4,e,t)}function Sa(e,t){return xa(4,2,e,t)}function _a(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,_a.bind(null,t,e),n)}function Ma(){}function Ea(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pa(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=$i();Ui(98>n?98:n,(function(){e(!0)})),Ui(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Aa(e,t,n){var r=fu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(l){}pu(e,i,r)}}var Ra={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},La={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Aa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:ma,useDebugValue:Ma,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return wa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ya(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Qa={readContext:ao,useCallback:Ea,useContext:ao,useEffect:ka,useImperativeHandle:Ta,useLayoutEffect:Sa,useMemo:Pa,useReducer:ha,useRef:ba,useState:function(){return ha(ca)},useDebugValue:Ma,useDeferredValue:function(e){var t=ha(ca),n=t[0],r=t[1];return ka((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(ca)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Ea,useContext:ao,useEffect:ka,useImperativeHandle:Ta,useLayoutEffect:Sa,useMemo:Pa,useReducer:fa,useRef:ba,useState:function(){return fa(ca)},useDebugValue:Ma,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return ka((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Za=x.ReactCurrentOwner,Ia=!1;function Na(e,t,n,r){t.child=null===e?Eo(t,null,n,r):Mo(t,e.child,n,r)}function za(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ia?(t.flags|=1,Na(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Vu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Wa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Uu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Wa(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Ia=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ia=!0)}return $a(e,t,n,r,o)}function Ba(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wu(t,e),null;t.memoizedState={baseLanes:0},wu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,wu(t,r);return Na(e,t,i,n),t.child}function Fa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function $a(e,t,n,r,i){var o=gi(n)?vi:di.current;return o=mi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ia?(t.flags|=1,Na(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Va(e,t,n,r,i){if(gi(n)){var o=!0;xi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Oo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=mi(t,l=gi(n)?vi:di.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&xo(t,a,r,l),so=!1;var f=t.memoizedState;a.state=f,po(t,r,a,i),u=t.memoizedState,s!==r||f!==u||pi.current||so?("function"===typeof c&&(go(t,n,c,r),u=t.memoizedState),(s=so||bo(t,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,lo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Yi(t.type,s),a.props=l,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&xo(t,a,r,u),so=!1,f=t.memoizedState,a.state=f,po(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||pi.current||so?("function"===typeof d&&(go(t,n,d,r),p=t.memoizedState),(l=so||bo(t,n,l,r,f,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ua(e,t,n,r,o,i)}function Ua(e,t,n,r,i,o){Fa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),os(e,t,o);r=t.stateNode,Za.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Mo(t,e.child,null,o),t.child=Mo(t,null,s,o)):Na(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Qo(e,t.containerInfo)}var Ga,qa,Xa,Ya={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=No.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(No,1&o),null===e?(void 0!==i.fallback&&Vo(t),e=i.children,o=i.fallback,a?(e=Ka(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ka(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Ka(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=qu(t,i,0,null),n=Gu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Uu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Uu(a,s),null!==e?r=Uu(e,r):(r=Gu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Na(e,t,r.children,n),0!==(2&(r=No.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(No,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===zo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===zo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ws|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Uu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Do(),ci(pi),ci(di),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Io(t);var o=Lo(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)qa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Lo(Co.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Kr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Cr(Tr[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ue(r,s),Cr("invalid",r)}for(var l in Se(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Cr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Jr]=t,e[Kr]=r,Ga(e,t),t.stateNode=e,l=_e(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),o=r;break;case"iframe":case"object":case"embed":Cr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Cr(Tr[o],e);o=r;break;case"source":Cr("error",e),o=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),o=r;break;case"details":Cr("toggle",e),o=r;break;case"input":ee(e,r),o=K(e,r),Cr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Cr("invalid",e);break;default:o=r}Se(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?we(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Cr("scroll",e):null!=h&&O(e,s,h,l))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=jr)}Fr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Lo(Ro.current),Lo(Co.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ci(No),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&No.current)?0===Ns&&(Ns=3):(0!==Ns&&3!==Ns||(Ns=4),null===Ls||0===(134217727&Ws)&&0===(134217727&Bs)||yu(Ls,Ds))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ci(No),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)as(r,!1);else{if(0!==Ns||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=zo(e))){for(t.flags|=64,as(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(No,1&No.current|2),t.child}e=e.sibling}null!==r.tail&&Fi()>Us&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=zo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>Us&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fi(),n.sibling=null,t=No.current,hi(No,s?1&t|2:1&t),n):null;case 23:case 24:return ku(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ci(pi),ci(di),Xo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Io(e),null;case 13:return ci(No),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(No),null;case 4:return Do(),null;case 10:return ro(e),null;case 23:case 24:return ku(),null;default:return null}}function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Lo(Co.current);var a,s=null;switch(n){case"input":o=K(e,o),r=K(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(h in Se(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var l=o[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Cr("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),cs(0,t)},n}function ds(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ju(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Iu(n,e),Zu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Fr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(ki,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Iu(t,n);else{r=t;try{i()}catch(o){ju(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){ju(t,o)}break;case 5:vs(t);break;case 4:_s(e,t)}}function Os(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(xs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||xs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ks(e,n,t):Ss(e,n,t)}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(bs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Kr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):O(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Vs=Fi(),ys(t.child,!0)),void Ms(t);case 19:return void Ms(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,Cs=x.ReactCurrentDispatcher,As=x.ReactCurrentOwner,Rs=0,Ls=null,Qs=null,Ds=0,Zs=0,Is=li(0),Ns=0,zs=null,js=0,Ws=0,Bs=0,Fs=0,$s=null,Vs=0,Us=1/0;function Hs(){Us=Fi()+500}var Gs,qs=null,Xs=!1,Ys=null,Js=null,Ks=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,lu=0,cu=null,hu=!1;function fu(){return 0!==(48&Rs)?Fi():-1!==su?su:su=Fi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===$i()?1:2;if(0===uu&&(uu=js),0!==Xi.transition){0!==lu&&(lu=null!==$s?$s.pendingLanes:0),e=uu;var t=4186112&~lu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=$i(),0!==(4&Rs)&&98===e?e=jt(12,uu):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;Ft(e,t,n),e===Ls&&(Bs|=t,4===Ns&&yu(e,Ds));var r=$i();1===t?0!==(8&Rs)&&0===(48&Rs)?bu(e):(mu(e,n),0===Rs&&(Hs(),Gi())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),$s=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-$t(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,It(l);var h=Zt;o[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Nt(e,e===Ls?Ds:0),t=Zt,0===r)null!==n&&(n!==Ii&&Mi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ii&&Mi(n)}15===t?(n=bu.bind(null,e),null===zi?(zi=[n],ji=Ti(Ri,qi)):zi.push(n),n=Ii):14===t?n=Hi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Hi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,lu=uu=0,0!==(48&Rs))throw Error(a(327));var t=e.callbackNode;if(Du()&&e.callbackNode!==t)return null;var n=Nt(e,e===Ls?Ds:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var o=Tu();for(Ls===e&&Ds===r||(Hs(),Su(e,r));;)try{Pu();break}catch(u){_u(e,u)}if(no(),Cs.current=o,Rs=i,null!==Qs?r=0:(Ls=null,Ds=0,r=Ns),0!==(js&Bs))Su(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=zt(e))&&(r=Mu(e,n))),1===r)throw t=zs,Su(e,0),yu(e,n),mu(e,Fi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ru(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Vs+500-Fi())){if(0!==Nt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-$t(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Fi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){e.timeoutHandle=Vr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(a(329))}}return mu(e,Fi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Fs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Rs))throw Error(a(327));if(Du(),e===Ls&&0!==(e.expiredLanes&Ds)){var t=Ds,n=Mu(e,t);0!==(js&Bs)&&(n=Mu(e,t=Nt(e,t)))}else n=Mu(e,t=Nt(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=zt(e))&&(n=Mu(e,t))),1===n)throw n=zs,Su(e,0),yu(e,t),mu(e,Fi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),mu(e,Fi()),null}function Ou(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Hs(),Gi())}}function xu(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Hs(),Gi())}}function wu(e,t){hi(Is,Zs),Zs|=t,js|=t}function ku(){Zs=Is.current,ci(Is)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ur(n)),null!==Qs)for(n=Qs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Do(),ci(pi),ci(di),Xo();break;case 5:Io(r);break;case 4:Do();break;case 13:case 19:ci(No);break;case 10:ro(r);break;case 23:case 24:ku()}n=n.return}Ls=e,Qs=Uu(e.current,null),Ds=Zs=js=t,Ns=0,zs=null,Fs=Bs=Ws=0}function _u(e,t){for(;;){var n=Qs;try{if(no(),Yo.current=Ra,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Ko=0,na=ta=ea=null,ia=!1,As.current=null,null===n||null===n.return){Ns=1,zs=t,Qs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&No.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(l),f.updateQueue=g}else m.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,ho(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new hs,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var O=Wu.bind(null,o,l,s);l.then(O,O)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ns&&(Ns=2),u=ls(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,fo(f,fs(0,o,t));break e;case 1:o=u;var x=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Js||!Js.has(w)))){f.flags|=4096,t&=-t,f.lanes|=t,fo(f,ds(f,o,t));break e}}f=f.return}while(null!==f)}Au(n)}catch(k){t=k,Qs===n&&null!==n&&(Qs=n=n.return);continue}break}}function Tu(){var e=Cs.current;return Cs.current=Ra,null===e?Ra:e}function Mu(e,t){var n=Rs;Rs|=16;var r=Tu();for(Ls===e&&Ds===t||Su(e,t);;)try{Eu();break}catch(i){_u(e,i)}if(no(),Rs=n,Cs.current=r,null!==Qs)throw Error(a(261));return Ls=null,Ds=0,Ns}function Eu(){for(;null!==Qs;)Cu(Qs)}function Pu(){for(;null!==Qs&&!Ei();)Cu(Qs)}function Cu(e){var t=Gs(e.alternate,e,Zs);e.memoizedProps=e.pendingProps,null===t?Au(e):Qs=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Zs)))return void(Qs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Zs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Qs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Qs=t);Qs=t=e}while(null!==t);0===Ns&&(Ns=5)}function Ru(e){var t=$i();return Ui(99,Lu.bind(null,e,t)),null}function Lu(e,t){do{Du()}while(null!==eu);if(0!==(48&Rs))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-$t(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ls&&(Qs=Ls=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,As.current=null,Wr=qt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(T){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==o&&3!==m.nodeType||(f=h+o),m!==l||0!==c&&3!==m.nodeType||(d=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===o&&(f=h),g===l&&++v===c&&(d=h),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},qt=!1,cu=null,hu=!1,qs=r;do{try{Qu()}catch(T){if(null===qs)throw Error(a(330));ju(qs,T),qs=qs.nextEffect}}while(null!==qs);cu=null,qs=r;do{try{for(s=e;null!==qs;){var b=qs.flags;if(16&b&&ye(qs.stateNode,""),128&b){var O=qs.alternate;if(null!==O){var x=O.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ws(qs),qs.flags&=-3;break;case 6:ws(qs),qs.flags&=-3,Ts(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,Ts(qs.alternate,qs);break;case 4:Ts(qs.alternate,qs);break;case 8:_s(s,u=qs);var w=u.alternate;Os(u),null!==w&&Os(w)}qs=qs.nextEffect}}catch(T){if(null===qs)throw Error(a(330));ju(qs,T),qs=qs.nextEffect}}while(null!==qs);if(x=Br,O=mr(),b=x.focusedElem,s=x.selectionRange,O!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(O=s.start,void 0===(x=s.end)&&(x=O),"selectionStart"in b?(b.selectionStart=O,b.selectionEnd=Math.min(x,b.value.length)):(x=(O=b.ownerDocument||document)&&O.defaultView||window).getSelection&&(x=x.getSelection(),u=b.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!x.extend&&w>s&&(u=s,s=w,w=u),u=pr(b,w),o=pr(b,s),u&&o&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((O=O.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),w>s?(x.addRange(O),x.extend(o.node,o.offset)):(O.setEnd(o.node,o.offset),x.addRange(O))))),O=[];for(x=b;x=x.parentNode;)1===x.nodeType&&O.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<O.length;b++)(x=O[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}qt=!!Wr,Br=Wr=null,e.current=n,qs=r;do{try{for(b=e;null!==qs;){var k=qs.flags;if(36&k&&gs(b,qs.alternate,qs),128&k){O=void 0;var S=qs.ref;if(null!==S){var _=qs.stateNode;qs.tag,O=_,"function"===typeof S?S(O):S.current=O}}qs=qs.nextEffect}}catch(T){if(null===qs)throw Error(a(330));ju(qs,T),qs=qs.nextEffect}}while(null!==qs);qs=null,Ni(),Rs=i}else e.current=n;if(Ks)Ks=!1,eu=e,tu=t;else for(qs=r;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((k=qs).sibling=null,k.stateNode=null),qs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,Fi()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&Rs)||Gi(),null}function Qu(){for(;null!==qs;){var e=qs.alternate;hu||null===cu||(0!==(8&qs.flags)?et(qs,cu)&&(hu=!0):13===qs.tag&&Es(e,qs)&&et(qs,cu)&&(hu=!0));var t=qs.flags;0!==(256&t)&&ms(e,qs),0===(512&t)||Ks||(Ks=!0,Hi(97,(function(){return Du(),null}))),qs=qs.nextEffect}}function Du(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ui(e,Nu)}return!1}function Zu(e,t){nu.push(t,e),Ks||(Ks=!0,Hi(97,(function(){return Du(),null})))}function Iu(e,t){ru.push(t,e),Ks||(Ks=!0,Hi(97,(function(){return Du(),null})))}function Nu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(a(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));ju(o,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));ju(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Gi(),!0}function zu(e,t,n){ho(e,t=fs(0,t=ls(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(Ft(e,1,t),mu(e,t))}function ju(e,t){if(3===e.tag)zu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=ls(t,e),1);if(ho(n,i),i=fu(),null!==(n=vu(n,1)))Ft(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Wu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Ls===e&&(Ds&n)===n&&(4===Ns||3===Ns&&(62914560&Ds)===Ds&&500>Fi()-Vs?Su(e,0):Fs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===$i()?1:2:(0===uu&&(uu=js),0===(t=Wt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(Ft(e,t,n),mu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function $u(e,t,n,r){return new Fu(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var n=e.alternate;return null===n?((n=$u(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Vu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Gu(n.children,i,o,t);case Z:s=8,i|=16;break;case _:s=8,i|=1;break;case T:return(e=$u(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case C:return(e=$u(13,n,t,i)).type=C,e.elementType=C,e.lanes=o,e;case A:return(e=$u(19,n,t,i)).elementType=A,e.lanes=o,e;case I:return qu(n,i,o,t);case N:return(e=$u(24,n,t,i)).elementType=N,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case E:s=9;break e;case P:s=11;break e;case R:s=14;break e;case L:s=16,r=null;break e;case Q:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=$u(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Gu(e,t,n,r){return(e=$u(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=$u(23,e,r,t)).elementType=I,e.lanes=n,e}function Xu(e,t,n){return(e=$u(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=$u(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Ku(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function el(e,t,n,r){var i=t.current,o=fu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=Oi(n,l,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),pu(i,s,o),s}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rl(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function il(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=$u(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ol(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function al(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tl(a);s.call(e)}}el(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new il(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tl(a);u.call(e)}}xu((function(){el(t,a,e,i)}))}return tl(a)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(t))throw Error(a(200));return Ku(e,t,null,n)}Gs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ia=!0;else{if(0===(n&r)){switch(Ia=!1,t.tag){case 3:Ha(t),Go();break;case 5:Zo(t);break;case 1:gi(t.type)&&xi(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(hi(No,1&No.current),null!==(t=os(e,t,n))?t.sibling:null);hi(No,1&No.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(No,No.current),r)break;return null;case 23:case 24:return t.lanes=0,Ba(e,t,n)}return os(e,t,n)}Ia=0!==(16384&e.flags)}else Ia=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;xi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=Ua(null,t,r,!0,o,n)}else t.tag=0,Na(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===R)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=$a(null,t,i,e,n);break e;case 1:t=Va(null,t,i,e,n);break e;case 11:t=za(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,$a(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Go(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Wo=Gr(t.stateNode.containerInfo.firstChild),jo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],qo.push(o);for(n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Na(e,t,r,n),Go();t=t.child}return t;case 5:return Zo(t),null===e&&Vo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,$r(r,i)?s=null:null!==o&&$r(r,o)&&(t.flags|=16),Fa(e,t),Na(e,t,s,n),t.child;case 6:return null===e&&Vo(t),null;case 13:return Ja(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Mo(t,null,r,n):Na(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(hi(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=co(-1,n&-n)).tag=2,ho(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),io(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Na(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Na(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),ja(e,t,i,o=Yi(i.type,o),r,n);case 15:return Wa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,xi(t)):e=!1,oo(t,n),Oo(t,r,i),wo(t,r,i,n),Ua(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ba(e,t,n)}throw Error(a(156,t.tag))},il.prototype.render=function(e){el(e,this._internalRoot,null,null)},il.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rl(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rl(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),rl(e,n)}},it=function(e,t){return t()},Me=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Le=Ou,Qe=function(e,t,n,r,i){var o=Rs;Rs|=4;try{return Ui(98,e.bind(null,t,n,r,i))}finally{0===(Rs=o)&&(Hs(),Gi())}},De=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Fi())}))}Gi()}(),Du())},Ze=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Hs(),Gi())}};var ul={Events:[ri,ii,oi,Ae,Re,Du,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{ki=hl.inject(cl),Si=hl}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Ui(99,e.bind(null,t))}finally{Rs=n,Gi()}},t.hydrate=function(e,t,n){if(!ol(t))throw Error(a(200));return al(null,e,t,!0,n)},t.render=function(e,t,n){if(!ol(t))throw Error(a(200));return al(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ol(e))throw Error(a(40));return!!e._reactRootContainer&&(xu((function(){al(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=Ou,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return al(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,l=60112,c=60113,h=60120,f=60115,d=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),u=b("react.context"),l=b("react.forward_ref"),c=b("react.suspense"),h=b("react.suspense_list"),f=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function O(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case c:case h:return e;default:switch(e=e&&e.$$typeof){case u:case l:case d:case f:case s:return e;default:return t}}case r:return t}}}},7441:function(e,t,n){"use strict";n(1372)},4467:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2791),s=["input"],u=a.createContext({shortcuts:[]});t.ShortcutConsumer=u.Consumer;var l=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.holdDurations={},n.holdListeners={},n.holdTimer=0,n.keysDown=[],n.listeners={},n.previousKeys=[],n.sequenceListeners={},n.shortcuts=[],n.state={shortcuts:[]},n.createTimer=function(e){n.holdInterval=window.setInterval((function(){e(),n.holdTimer+=100}),100)},n.keyDown=function(e){var t,r,i=n.props,a=i.ignoreKeys,u=void 0===a?[]:a,l=i.ignoreTagNames,c=i.preventDefault,h=void 0===c||c,f=e.target,d=l?o(l.map((function(e){return e.toLowerCase()})),s):s,p=null===(r=e.key)||void 0===r?void 0:r.toLowerCase();if(p&&d.indexOf(f.tagName.toLowerCase())<0&&n.keysDown.indexOf(p)<0){var v=[],m=[];("control"===p||!0===e.ctrlKey)&&u.indexOf("ctrl")<0&&(n.keysDown.indexOf("ctrl")<0&&v.push("ctrl"),"control"===p&&m.push(p)),("alt"===p||!0===e.altKey)&&u.indexOf("alt")<0&&(n.keysDown.indexOf("alt")<0&&v.push("alt"),"alt"===p&&m.push(p)),("meta"===p||!0===e.metaKey)&&u.indexOf("meta")<0&&u.indexOf("cmd")<0&&(n.keysDown.indexOf("meta")<0&&v.push("meta"),"meta"===p&&m.push(p)),("shift"===p||!0===e.shiftKey)&&u.indexOf("shift")<0&&(n.keysDown.indexOf("shift")<0&&v.push("shift"),"shift"===p&&m.push(p)),o(u,m).indexOf(p)<0&&v.push(p),n.keysDown=o(n.keysDown,v);var g=n.keysDown.join("+");n.listeners[g]&&(h&&e.preventDefault(),n.listeners[g].forEach((function(t){return t(e)}))),n.resetTimer(),n.createTimer((function(){v.forEach((function(t){n.holdTimer>=n.holdDurations[t]&&(n.holdListeners[g](e),n.resetTimer())}))})),void 0!==n.sequenceTimer&&window.clearTimeout(n.sequenceTimer),(t=n.previousKeys).push.apply(t,v);var y=n.previousKeys.join(",");void 0!==n.sequenceListeners[y]&&(n.sequenceListeners[y](e),n.sequenceTimer&&(window.clearTimeout(n.sequenceTimer),n.sequenceTimer=void 0,n.previousKeys=[])),n.sequenceTimer=window.setTimeout((function(){n.previousKeys=[],n.sequenceTimer=void 0}),2e3)}},n.keyUp=function(e){var t,r=[],i=null===(t=e.key)||void 0===t?void 0:t.toLowerCase();"control"!==i&&!0!==e.ctrlKey||r.push("ctrl"),"alt"!==i&&!0!==e.altKey||r.push("alt"),"meta"!==i&&!0!==e.metaKey||r.push("meta"),"shift"!==i&&!0!==e.shiftKey||r.push("shift"),["control","alt","meta","shift"].indexOf(i)<0&&r.push(i),n.keysDown=n.keysDown.filter((function(e){return r.indexOf(e)<0})),n.resetTimer()},n.windowBlur=function(e){n.keysDown=[],n.resetTimer()},n.registerShortcut=function(e,r,i,a,s){void 0===r&&(r=[]);var u=o(n.shortcuts),l=void 0!==s,c=void 0!==s?s:0,h=t.transformKeys(r),f={id:Date.now().toString(36),description:a,hold:l,holdDuration:c,keys:h,method:e,sequence:!1,title:i};u.push(f),h.forEach((function(t){l?(n.holdDurations[t]=c,n.holdListeners[t]=e):(n.listeners[t]||(n.listeners[t]=[]),n.listeners[t]=o(n.listeners[t],[e]))})),n.shortcuts=u,n.setState({shortcuts:u})},n.registerSequenceShortcut=function(e,t,r,i){void 0===t&&(t=[]);var a=o(n.shortcuts),s={id:Date.now().toString(36),description:i,hold:!1,holdDuration:0,keys:t,method:e,sequence:!0,title:r},u=!1,l=t.join(",").toLowerCase();Object.keys(n.sequenceListeners).forEach((function(e){u=u||l===e})),u||(a.push(s),n.sequenceListeners[l]=e,n.shortcuts=a,n.setState({shortcuts:a}))},n.resetTimer=function(){void 0!==n.holdInterval&&(window.clearInterval(n.holdInterval),n.holdInterval=void 0,n.holdTimer=0)},n.triggerShortcut=function(e){var r=t.transformKeys([e]).pop();r&&n.listeners[r]&&n.listeners[r].forEach((function(e){return e()}))},n.unregisterShortcut=function(e,r){void 0===r&&(r=!1);var i=t.transformKeys(e);if(r){var o=i.join(",");delete n.sequenceListeners[o]}else i.forEach((function(e){n.listeners[e]&&(n.listeners[e].pop(),0===n.listeners[e].length&&delete n.listeners[e]),delete n.holdListeners[e],delete n.holdDurations[e]}));var a=n.shortcuts.filter((function(e){var t=e.keys,n=!0;return t.forEach((function(e){n=n&&0<=i.indexOf(e)})),!n}));n.shortcuts=a,n.setState({shortcuts:a})},n}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp),window.addEventListener("blur",this.windowBlur)},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp),window.removeEventListener("blur",this.windowBlur)},t.prototype.render=function(){var e=this.state.shortcuts,t=this.props.children,n={registerSequenceShortcut:this.registerSequenceShortcut,registerShortcut:this.registerShortcut,shortcuts:e,triggerShortcut:this.triggerShortcut,unregisterShortcut:this.unregisterShortcut};return a.createElement(u.Provider,{value:n},t)},t.transformKeys=function(e){return e.map((function(e){return(""+e).split("+").map((function(e){var t=e.toLowerCase();switch(t){case"opt":case"option":return"alt";case"control":return"ctrl";case"cmd":case"command":return"meta";default:return t}})).join("+")}))},t}(a.PureComponent);t.ShortcutProvider=l,t.withShortcut=function(e){return o=a.Component,r(n,o),n.prototype.render=function(){var n=this;return a.createElement(t.ShortcutConsumer,null,(function(t){return a.createElement(e,i({},n.props,{shortcut:t}))}))},n;function n(){return null!==o&&o.apply(this,arguments)||this}var o}},335:function(e,t,n){n(4467)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var O={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:O.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),M(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+T(s=e[l],l);u+=M(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=M(s=s.value,t,n,c=r+T(s,l++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function E(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function A(){var e=C.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=O.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(P([])));x&&x!==n&&r.call(x,o)&&(b=x);var w=y.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:C}}function C(){return{value:t,done:!0}}return g.prototype=y,u(w,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},1515:function(e){var t={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),i=new RegExp(n,""),o=function(e){return e.replace(r,(function(e){return t[e]}))};e.exports=o,e.exports.has=function(e){return!!e.match(i)},e.exports.remove=o},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var O=new MessageChannel,x=O.port2;O.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?x.postMessage(null):(v=!1,m=null)}catch(n){throw x.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,x.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>_(a,n))void 0!==u&&0>_(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>_(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],M=[],E=1,P=null,C=3,A=!1,R=!1,L=!1;function Q(e){for(var t=k(M);null!==t;){if(null===t.callback)S(M);else{if(!(t.startTime<=e))break;S(M),t.sortIndex=t.expirationTime,w(T,t)}t=k(M)}}function D(e){if(L=!1,Q(e),!R)if(null!==k(T))R=!0,n(Z);else{var t=k(M);null!==t&&r(D,t.startTime-e)}}function Z(e,n){R=!1,L&&(L=!1,i()),A=!0;var o=C;try{for(Q(n),P=k(T);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,C=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?P.callback=s:P===k(T)&&S(T),Q(n)}else S(T);P=k(T)}if(null!==P)var u=!0;else{var l=k(M);null!==l&&r(D,l.startTime-n),u=!1}return u}finally{P=null,C=o,A=!1}}var I=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,n(Z))},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return k(T)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:E++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,w(M,e),null===k(T)&&e===k(M)&&(L?i():L=!0,r(D,a-s))):(e.sortIndex=u,w(T,e),R||A||(R=!0,n(Z))),e},t.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},7045:function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,l=i.min,c=i.max,h=i.random;function f(e,t){if(t=t||{},(e=e||"")instanceof f)return e;if(!(this instanceof f))return new f(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,h=!1,f=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(C[e])e=C[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=j.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=j.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=j.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=j.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=j.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=j.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=j.hex8.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:z(t[4]),format:n?"name":"hex8"};if(t=j.hex6.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:n?"name":"hex"};if(t=j.hex4.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:z(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=j.hex3.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(W(e.r)&&W(e.g)&&W(e.b)?(d=e.r,p=e.g,v=e.b,t={r:255*L(d,255),g:255*L(p,255),b:255*L(v,255)},h=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):W(e.h)&&W(e.s)&&W(e.v)?(r=I(e.s),s=I(e.v),t=function(e,t,n){e=6*L(e,360),t=L(t,100),n=L(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),l=r%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}(e.h,r,s),h=!0,f="hsv"):W(e.h)&&W(e.s)&&W(e.l)&&(r=I(e.s),u=I(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=L(e,360),t=L(t,100),n=L(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,u),h=!0,f="hsl"),e.hasOwnProperty("a")&&(n=e.a));var d,p,v;return n=R(n),{ok:h,format:e.format||f,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function d(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function v(e,t,n,r){var i=[Z(u(e).toString(16)),Z(u(t).toString(16)),Z(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,n,r){return[Z(N(r)),Z(u(e).toString(16)),Z(u(t).toString(16)),Z(u(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s-=t/100,n.s=Q(n.s),f(n)}function y(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s+=t/100,n.s=Q(n.s),f(n)}function b(e){return f(e).desaturate(100)}function O(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l+=t/100,n.l=Q(n.l),f(n)}function x(e,t){t=0===t?0:t||10;var n=f(e).toRgb();return n.r=c(0,l(255,n.r-u(-t/100*255))),n.g=c(0,l(255,n.g-u(-t/100*255))),n.b=c(0,l(255,n.b-u(-t/100*255))),f(n)}function w(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l-=t/100,n.l=Q(n.l),f(n)}function k(e,t){var n=f(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,f(n)}function S(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function _(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]}function T(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]}function M(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]}function E(e,t,n){t=t||6,n=n||30;var r=f(e).toHsl(),i=360/n,o=[f(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(f(r));return o}function P(e,t){t=t||6;for(var n=f(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(f({h:r,s:i,v:o})),o=(o+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return v(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[Z(u(e).toString(16)),Z(u(t).toString(16)),Z(u(n).toString(16)),Z(N(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*L(this._r,255))+"%",g:u(100*L(this._g,255))+"%",b:u(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*L(this._r,255))+"%, "+u(100*L(this._g,255))+"%, "+u(100*L(this._b,255))+"%)":"rgba("+u(100*L(this._r,255))+"%, "+u(100*L(this._g,255))+"%, "+u(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=f(e);n="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(E,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},f.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:I(e[r]));e=n}return f(e,t)},f.equals=function(e,t){return!(!e||!t)&&f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:h(),g:h(),b:h()})},f.mix=function(e,t,n){n=0===n?0:n||50;var r=f(e).toRgb(),i=f(t).toRgb(),o=n/100;return f({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},f.readability=function(e,t){var n=f(e),r=f(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(e,t,n){var r,i,o=f.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},f.mostReadable=function(e,t,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=f.readability(e,t[l]))>u&&(u=r,s=f(t[l]));return f.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],n))};var C=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=f.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(C);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function L(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Q(e){return l(1,c(0,e))}function D(e){return parseInt(e,16)}function Z(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function N(e){return i.round(255*parseFloat(e)).toString(16)}function z(e){return D(e)/255}var j=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function W(e){return!!j.CSS_UNIT.exec(e)}e.exports?e.exports=f:void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}(Math)},5087:function(e,t,n){var r;if("object"===typeof globalThis)r=globalThis;else try{r=n(4210)}catch(s){}finally{if(r||"undefined"===typeof window||(r=window),!r)throw new Error("Could not determine global this")}var i=r.WebSocket||r.MozWebSocket,o=n(1496);function a(e,t){return t?new i(e,t):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(a,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?a:null,version:o}},1496:function(e,t,n){e.exports=n(9794).version},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120),i=n(8814),o=n(6215);function a(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},6215:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return o}});var i=n(7326);function o(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878);var i=n(181),o=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},7102:function(e,t,n){"use strict";n.d(t,{ys:function(){return fe},Mb:function(){return g},B1:function(){return de},eC:function(){return y},Gn:function(){return ce}});var r=n(136),i=n(9388),o=n(3433),a=n(9439),s=n(7762),u=n(5671),l=n(3144),c=n(6580),h=n(3344),f=n(4294),d=n(204),p=n(1450),v=function(){function e(t,n,r){(0,u.Z)(this,e),this.state=t,this.pos=n,this.explicit=r,this.abortListeners=[]}return(0,l.Z)(e,[{key:"tokenBefore",value:function(e){for(var t=(0,p.qz)(this.state).resolveInner(this.pos,-1);t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}},{key:"matchBefore",value:function(e){var t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(x(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}},{key:"aborted",get:function(){return null==this.abortListeners}},{key:"addEventListener",value:function(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}]),e}();function m(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function g(e){var t=e.map((function(e){return"string"==typeof e?{label:e}:e})),n=t.every((function(e){return/^\w+$/.test(e.label)}))?[/\w*$/,/\w+$/]:function(e){var t,n=Object.create(null),r=Object.create(null),i=(0,s.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value.label;n[o[0]]=!0;for(var a=1;a<o.length;a++)r[o[a]]=!0}}catch(l){i.e(l)}finally{i.f()}var u=m(n)+m(r)+"*$";return[new RegExp("^"+u),new RegExp(u)]}(t),r=(0,a.Z)(n,2),i=r[0],o=r[1];return function(e){var n=e.matchBefore(o);return n||e.explicit?{from:n?n.from:e.pos,options:t,span:i}:null}}function y(e,t){return function(n){for(var r=(0,p.qz)(n.state).resolveInner(n.pos,-1);r;r=r.parent)if(e.indexOf(r.name)>-1)return null;return t(n)}}var b=(0,l.Z)((function e(t,n,r){(0,u.Z)(this,e),this.completion=t,this.source=n,this.match=r}));function O(e){return e.selection.main.head}function x(e,t){var n,r=e.source,i=t&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp("".concat(i?"^":"","(?:").concat(r,")").concat(o?"$":""),null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}var w=c.q6.define();function k(e,t){var n=t.completion.apply||t.completion.label,r=t.source;"string"==typeof n?e.dispatch({changes:{from:r.from,to:r.to,insert:n},selection:{anchor:r.from+n.length},userEvent:"input.complete",annotations:w.of(t.completion)}):n(e,t.completion,r.from,r.to)}var S=new WeakMap;function _(e){if(!Array.isArray(e))return e;var t=S.get(e);return t||S.set(e,t=g(e)),t}var T=function(){function e(t){(0,u.Z)(this,e),this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(var n=0;n<t.length;){var r=(0,h.gm)(t,n),i=(0,h.nZ)(r);this.chars.push(r);var o=t.slice(n,n+i),a=o.toUpperCase();this.folded.push((0,h.gm)(a==o?o.toLowerCase():a,0)),n+=i}this.astral=t.length!=this.chars.length}return(0,l.Z)(e,[{key:"match",value:function(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;var t=this.chars,n=this.folded,r=this.any,i=this.precise,o=this.byWord;if(1==t.length){var a=(0,h.gm)(e,0);return a==t[0]?[0,0,(0,h.nZ)(a)]:a==n[0]?[-200,0,(0,h.nZ)(a)]:null}var s=e.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];var u=t.length,l=0;if(s<0){for(var c=0,f=Math.min(e.length,200);c<f&&l<u;){var d=(0,h.gm)(e,c);d!=t[l]&&d!=n[l]||(r[l++]=c),c+=(0,h.nZ)(d)}if(l<u)return null}for(var p=0,v=0,m=!1,g=0,y=-1,b=-1,O=/[a-z]/.test(e),x=!0,w=0,k=Math.min(e.length,200),S=0;w<k&&v<u;){var _=(0,h.gm)(e,w);s<0&&(p<u&&_==t[p]&&(i[p++]=w),g<u&&(_==t[g]||_==n[g]?(0==g&&(y=w),b=w+1,g++):g=0));var T=void 0,M=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(T=(0,h.bg)(_))!=T.toLowerCase()?1:T!=T.toUpperCase()?2:0;(!w||1==M&&O||0==S&&0!=M)&&(t[v]==_||n[v]==_&&(m=!0)?o[v++]=w:o.length&&(x=!1)),S=M,w+=(0,h.nZ)(_)}return v==u&&0==o[0]&&x?this.result((m?-200:0)-100,o,e):g==u&&0==y?[-200-e.length,0,b]:s>-1?[-700-e.length,s,s+this.pattern.length]:g==u?[-900-e.length,y,b]:v==u?this.result((m?-200:0)-100-700+(x?0:-1100),o,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}},{key:"result",value:function(e,t,n){var r,i=[e-n.length],o=1,a=(0,s.Z)(t);try{for(a.s();!(r=a.n()).done;){var u=r.value,l=u+(this.astral?(0,h.nZ)((0,h.gm)(n,u)):1);o>1&&i[o-1]==u?i[o-1]=l:(i[o++]=u,i[o++]=l)}}catch(c){a.e(c)}finally{a.f()}return i}}]),e}(),M=c.r$.define({combine:function(e){return(0,c.BO)(e,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:function(e,t){return e&&t},icons:function(e,t){return e&&t},optionClass:function(e,t){return function(n){return function(e,t){return e?t?e+" "+t:e:t}(e(n),t(n))}},addToOptions:function(e,t){return e.concat(t)}})}});function E(e,t,n){if(e<=n)return{from:0,to:e};if(t<=e>>1){var r=Math.floor(t/n);return{from:r*n,to:(r+1)*n}}var i=Math.floor((e-t)/n);return{from:e-(i+1)*n,to:e-i*n}}var P=function(){function e(t,n){var r=this;(0,u.Z)(this,e),this.view=t,this.stateField=n,this.info=null,this.placeInfo={read:function(){return r.measureInfo()},write:function(e){return r.positionInfo(e)},key:this};var i=t.state.field(n),a=i.open,s=a.options,l=a.selected,c=t.state.facet(M);this.optionContent=function(e){var t=e.addToOptions.slice();return e.icons&&t.push({render:function(e){var t,n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&(t=n.classList).add.apply(t,(0,o.Z)(e.type.split(/\s+/g).map((function(e){return"cm-completionIcon-"+e})))),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render:function(e,t,n){var r=document.createElement("span");r.className="cm-completionLabel";for(var i=e.label,o=0,a=1;a<n.length;){var s=n[a++],u=n[a++];s>o&&r.appendChild(document.createTextNode(i.slice(o,s)));var l=r.appendChild(document.createElement("span"));l.appendChild(document.createTextNode(i.slice(s,u))),l.className="cm-completionMatchedText",o=u}return o<i.length&&r.appendChild(document.createTextNode(i.slice(o))),r},position:50},{render:function(e){if(!e.detail)return null;var t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((function(e,t){return e.position-t.position})).map((function(e){return e.render}))}(c),this.optionClass=c.optionClass,this.range=E(s.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(function(e){for(var n,i=e.target;i&&i!=r.dom;i=i.parentNode)if("LI"==i.nodeName&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<s.length)return k(t,s[+n[1]]),void e.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(s,i.id,this.range)),this.list.addEventListener("scroll",(function(){r.info&&r.view.requestMeasure(r.placeInfo)}))}return(0,l.Z)(e,[{key:"mount",value:function(){this.updateSel()}},{key:"update",value:function(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}},{key:"positioned",value:function(){this.info&&this.view.requestMeasure(this.placeInfo)}},{key:"updateSel",value:function(){var e=this,t=this.view.state.field(this.stateField),n=t.open;if((n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=E(n.options.length,n.selected,this.view.state.facet(M).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,t.id,this.range)),this.list.addEventListener("scroll",(function(){e.info&&e.view.requestMeasure(e.placeInfo)}))),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);var r=n.options[n.selected];r.completion.info&&(this.info=this.dom.appendChild(function(e,t){var n=document.createElement("div");n.className="cm-tooltip cm-completionInfo";var r=e.completion.info;if("string"==typeof r)n.textContent=r;else{var i=r(e.completion);i.then?i.then((function(e){return n.appendChild(e)}),(function(e){return(0,f.OO)(t.state,e,"completion info")})):n.appendChild(i)}return n}(r,this.view)),this.view.requestMeasure(this.placeInfo))}}},{key:"updateSelectedOption",value:function(e){for(var t=null,n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();r.top<n.top?e.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(e.scrollTop+=r.bottom-n.bottom)}(this.list,t),t}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect();if(r.top>Math.min(innerHeight,t.bottom)-10||r.bottom<Math.max(0,t.top)+10)return null;var i=Math.max(0,Math.min(r.top,innerHeight-n.height))-t.top,o=this.view.textDirection==f.Nm.RTL,a=t.left,s=innerWidth-t.right;return o&&a<Math.min(n.width,s)?o=!1:!o&&s<Math.min(n.width,a)&&(o=!0),{top:i,left:o}}},{key:"positionInfo",value:function(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}},{key:"createListBox",value:function(e,t,n){var r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox");for(var i=n.from;i<n.to;i++){var o=e[i],a=o.completion,u=o.match,l=r.appendChild(document.createElement("li"));l.id=t+"-"+i,l.setAttribute("role","option");var c=this.optionClass(a);c&&(l.className=c);var h,f=(0,s.Z)(this.optionContent);try{for(f.s();!(h=f.n()).done;){var d=(0,h.value)(a,this.view.state,u);d&&l.appendChild(d)}}catch(p){f.e(p)}finally{f.f()}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}]),e}();function C(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}var A=function(){function e(t,n,r,i,o){(0,u.Z)(this,e),this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o}return(0,l.Z)(e,[{key:"setSelected",value:function(t,n){return t==this.selected||t>=this.options.length?this:new e(this.options,Q(n,t),this.tooltip,this.timestamp,t)}},{key:"map",value:function(t){return new e(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}],[{key:"build",value:function(t,n,r,i,o){var a=function(e,t){var n,r=[],i=0,o=(0,s.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.hasResult())if(!1===a.result.filter){var u,l=(0,s.Z)(a.result.options);try{for(l.s();!(u=l.n()).done;){var c=u.value;r.push(new b(c,a,[1e9-i++]))}}catch(w){l.e(w)}finally{l.f()}}else{var h,f=new T(t.sliceDoc(a.from,a.to)),d=void 0,p=(0,s.Z)(a.result.options);try{for(p.s();!(h=p.n()).done;){var v=h.value;(d=f.match(v.label))&&(null!=v.boost&&(d[0]+=v.boost),r.push(new b(v,a,d)))}}catch(w){p.e(w)}finally{p.f()}}}}catch(w){o.e(w)}finally{o.f()}r.sort(Z);var m,g=[],y=null,O=(0,s.Z)(r.sort(Z));try{for(O.s();!(m=O.n()).done;){var x=m.value;if(300==g.length)break;y&&y.label==x.completion.label&&y.detail==x.completion.detail&&y.type==x.completion.type&&y.apply==x.completion.apply?C(x.completion)>C(y)&&(g[g.length-1]=x):g.push(x),y=x.completion}}catch(w){O.e(w)}finally{O.f()}return g}(t,n);if(!a.length)return null;var u,l=0;if(i&&i.selected)for(var c=i.options[i.selected].completion,h=0;h<a.length&&!l;h++)a[h].completion==c&&(l=h);return new e(a,Q(r,l),{pos:t.reduce((function(e,t){return t.hasResult()?Math.min(e,t.from):e}),1e8),create:(u=$,function(e){return new P(e,u)}),above:o.aboveCursor},i?i.timestamp:Date.now(),l)}}]),e}(),R=function(){function e(t,n,r){(0,u.Z)(this,e),this.active=t,this.id=n,this.open=r}return(0,l.Z)(e,[{key:"update",value:function(t){var n=this,r=t.state,i=r.facet(M),o=(i.override||r.languageDataAt("autocomplete",O(r)).map(_)).map((function(e){return(n.active.find((function(t){return t.source==e}))||new N(e,n.active.some((function(e){return 0!=e.state}))?1:0)).update(t,i)}));o.length==this.active.length&&o.every((function(e,t){return e==n.active[t]}))&&(o=this.active);var a=t.selection||o.some((function(e){return e.hasResult()&&t.changes.touchesRange(e.from,e.to)}))||!function(e,t){if(e==t)return!0;for(var n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;var i=n==e.length,o=r==t.length;if(i||o)return i==o;if(e[n++].result!=t[r++].result)return!1}}(o,this.active)?A.build(o,r,this.id,this.open,i):this.open&&t.docChanged?this.open.map(t.changes):this.open;!a&&o.every((function(e){return 1!=e.state}))&&o.some((function(e){return e.hasResult()}))&&(o=o.map((function(e){return e.hasResult()?new N(e.source,0):e})));var u,l=(0,s.Z)(t.effects);try{for(l.s();!(u=l.n()).done;){var c=u.value;c.is(F)&&(a=a&&a.setSelected(c.value,this.id))}}catch(h){l.e(h)}finally{l.f()}return o==this.active&&a==this.open?this:new e(o,this.id,a)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:L}}],[{key:"start",value:function(){return new e(D,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),e}();var L={"aria-autocomplete":"list","aria-expanded":"false"};function Q(e,t){return{"aria-autocomplete":"list","aria-expanded":"true","aria-activedescendant":e+"-"+t,"aria-controls":e}}var D=[];function Z(e,t){var n=t.match[0]-e.match[0];return n||e.completion.label.localeCompare(t.completion.label)}function I(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}var N=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(0,u.Z)(this,e),this.source=t,this.state=n,this.explicitPos=r}return(0,l.Z)(e,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(t,n){var r=I(t),i=this;r?i=i.handleUserEvent(t,r,n):t.docChanged?i=i.handleChange(t):t.selection&&0!=i.state&&(i=new e(i.source,0));var o,a=(0,s.Z)(t.effects);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(u.is(j))i=new e(i.source,1,u.value?O(t.state):-1);else if(u.is(W))i=new e(i.source,0);else if(u.is(B)){var l,c=(0,s.Z)(u.value);try{for(c.s();!(l=c.n()).done;){var h=l.value;h.source==i.source&&(i=h)}}catch(f){c.e(f)}finally{c.f()}}}}catch(f){a.e(f)}finally{a.f()}return i}},{key:"handleUserEvent",value:function(t,n,r){return"delete"!=n&&r.activateOnTyping?new e(this.source,1):this.map(t.changes)}},{key:"handleChange",value:function(t){return t.changes.touchesRange(O(t.startState))?new e(this.source,0):this.map(t.changes)}},{key:"map",value:function(t){return t.empty||this.explicitPos<0?this:new e(this.source,this.state,t.mapPos(this.explicitPos))}}]),e}(),z=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e,r,i,o,a,s){var l;return(0,u.Z)(this,n),(l=t.call(this,e,2,r)).result=i,l.from=o,l.to=a,l.span=s,l}return(0,l.Z)(n,[{key:"hasResult",value:function(){return!0}},{key:"handleUserEvent",value:function(e,t,r){var i=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=O(e.state);if((this.explicitPos>-1?a<i:a<=i)||a>o)return new N(this.source,"input"==t&&r.activateOnTyping?1:0);var s=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return this.span&&(i==o||this.span.test(e.state.sliceDoc(i,o)))?new n(this.source,s,this.result,i,o,this.span):new N(this.source,1,s)}},{key:"handleChange",value:function(e){return e.changes.touchesRange(this.from,this.to)?new N(this.source,0):this.map(e.changes)}},{key:"map",value:function(e){return e.empty?this:new n(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1),this.span)}}]),n}(N),j=c.Py.define(),W=c.Py.define(),B=c.Py.define({map:function(e,t){return e.map((function(e){return e.map(t)}))}}),F=c.Py.define(),$=c.QQ.define({create:function(){return R.start()},update:function(e,t){return e.update(t)},provide:function(e){return[d.hJ.from(e,(function(e){return e.tooltip})),f.tk.contentAttributes.from(e,(function(e){return e.attrs}))]}});function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return function(n){var r=n.state.field($,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;var i,o=1;"page"==t&&(i=(0,d.gB)(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));var a=r.open.selected+o*(e?1:-1),s=r.open.options.length;return a<0?a="page"==t?0:s-1:a>=s&&(a="page"==t?s-1:0),n.dispatch({effects:F.of(a)}),!0}}var U=(0,l.Z)((function e(t,n){(0,u.Z)(this,e),this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0})),H=f.lg.fromClass(function(){function e(t){(0,u.Z)(this,e),this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var n,r=(0,s.Z)(t.state.field($).active);try{for(r.s();!(n=r.n()).done;){var i=n.value;1==i.state&&this.startQuery(i)}}catch(o){r.e(o)}finally{r.f()}}return(0,l.Z)(e,[{key:"update",value:function(e){var t=this,n=e.state.field($);if(e.selectionSet||e.docChanged||e.startState.field($)!=n){for(var r=e.transactions.some((function(e){return(e.selection||e.docChanged)&&!I(e)})),i=0;i<this.running.length;i++){var a=this.running[i];if(r||a.updates.length+e.transactions.length>50&&a.time-Date.now()>1e3){var u,l=(0,s.Z)(a.context.abortListeners);try{for(l.s();!(u=l.n()).done;){var c=u.value;try{c()}catch(m){(0,f.OO)(this.view.state,m)}}}catch(g){l.e(g)}finally{l.f()}a.context.abortListeners=null,this.running.splice(i--,1)}else{var h;(h=a.updates).push.apply(h,(0,o.Z)(e.transactions))}}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some((function(e){return 1==e.state&&!t.running.some((function(t){return t.active.source==e.source}))}))?setTimeout((function(){return t.startUpdate()}),50):-1,0!=this.composing){var d,p=(0,s.Z)(e.transactions);try{for(p.s();!(d=p.n()).done;){var v=d.value;"input"==I(v)?this.composing=2:2==this.composing&&v.selection&&(this.composing=3)}}catch(g){p.e(g)}finally{p.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1;var t,n=this.view.state.field($),r=(0,s.Z)(n.active);try{var i=function(){var n=t.value;1!=n.state||e.running.some((function(e){return e.active.source==n.source}))||e.startQuery(n)};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}},{key:"startQuery",value:function(e){var t=this,n=this.view.state,r=O(n),i=new v(n,r,e.explicitPos==r),o=new U(e,i);this.running.push(o),Promise.resolve(e.source(i)).then((function(e){o.context.aborted||(o.done=e||null,t.scheduleAccept())}),(function(e){t.view.dispatch({effects:W.of(null)}),(0,f.OO)(t.view.state,e)}))}},{key:"scheduleAccept",value:function(){var e=this;this.running.every((function(e){return void 0!==e.done}))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((function(){return e.accept()}),50))}},{key:"accept",value:function(){var e,t=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var n=[],r=this.view.state.facet(M),i=function(i){var a=t.running[i];if(void 0===a.done)return o=i,"continue";if(t.running.splice(i--,1),a.done){var u,l=new z(a.active.source,a.active.explicitPos,a.done,a.done.from,null!==(e=a.done.to)&&void 0!==e?e:O(a.updates.length?a.updates[0].startState:t.view.state),a.done.span&&!1!==a.done.filter?x(a.done.span,!0):null),c=(0,s.Z)(a.updates);try{for(c.s();!(u=c.n()).done;){var h=u.value;l=l.update(h,r)}}catch(g){c.e(g)}finally{c.f()}if(l.hasResult())return n.push(l),o=i,"continue"}var f=t.view.state.field($).active.find((function(e){return e.source==a.active.source}));if(f&&1==f.state)if(null==a.done){var d,p=new N(a.active.source,0),v=(0,s.Z)(a.updates);try{for(v.s();!(d=v.n()).done;){var m=d.value;p=p.update(m,r)}}catch(g){v.e(g)}finally{v.f()}1!=p.state&&n.push(p)}else t.startQuery(f);o=i},o=0;o<this.running.length;o++)i(o);n.length&&this.view.dispatch({effects:B.of(n)})}}]),e}(),{eventHandlers:{compositionstart:function(){this.composing=1},compositionend:function(){var e=this;3==this.composing&&setTimeout((function(){return e.view.dispatch({effects:j.of(!1)})}),20),this.composing=0}}}),G=f.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),q=(0,l.Z)((function e(t,n,r,i){(0,u.Z)(this,e),this.field=t,this.line=n,this.from=r,this.to=i})),X=function(){function e(t,n,r){(0,u.Z)(this,e),this.field=t,this.from=n,this.to=r}return(0,l.Z)(e,[{key:"map",value:function(t){return new e(this.field,t.mapPos(this.from,-1),t.mapPos(this.to,1))}}]),e}(),Y=function(){function e(t,n){(0,u.Z)(this,e),this.lines=t,this.fieldPositions=n}return(0,l.Z)(e,[{key:"instantiate",value:function(e,t){var n,r=[],i=[t],o=e.doc.lineAt(t),a=/^\s*/.exec(o.text)[0],u=(0,s.Z)(this.lines);try{for(u.s();!(n=u.n()).done;){var l=n.value;if(r.length){for(var c=a,h=/^\t*/.exec(l)[0].length,f=0;f<h;f++)c+=e.facet(p.c);i.push(t+c.length-h),l=c+l.slice(h)}r.push(l),t+=l.length+1}}catch(v){u.e(v)}finally{u.f()}var d=this.fieldPositions.map((function(e){return new X(e.field,i[e.line]+e.from,i[e.line]+e.to)}));return{text:r,ranges:d}}}],[{key:"parse",value:function(t){var n,r,i=[],o=[],a=[],u=(0,s.Z)(t.split(/\r\n?|\n/));try{for(u.s();!(r=u.n()).done;){for(var l=r.value;n=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(l);){for(var c=n[1]?+n[1]:null,h=n[2]||n[3]||"",f=-1,d=0;d<i.length;d++)(null!=c?i[d].seq==c:h&&i[d].name==h)&&(f=d);if(f<0){for(var p=0;p<i.length&&(null==c||null!=i[p].seq&&i[p].seq<c);)p++;i.splice(p,0,{seq:c,name:h}),f=p;var v,m=(0,s.Z)(a);try{for(m.s();!(v=m.n()).done;){var g=v.value;g.field>=f&&g.field++}}catch(y){m.e(y)}finally{m.f()}}a.push(new q(f,o.length,n.index,n.index+h.length)),l=l.slice(0,n.index)+h+l.slice(n.index+n[0].length)}o.push(l)}}catch(y){u.e(y)}finally{u.f()}return new e(o,a)}}]),e}(),J=f.p.widget({widget:new(function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(f.l9))}),K=f.p.mark({class:"cm-snippetField"}),ee=function(){function e(t,n){(0,u.Z)(this,e),this.ranges=t,this.active=n,this.deco=f.p.set(t.map((function(e){return(e.from==e.to?J:K).range(e.from,e.to)})))}return(0,l.Z)(e,[{key:"map",value:function(t){return new e(this.ranges.map((function(e){return e.map(t)})),this.active)}},{key:"selectionInsideField",value:function(e){var t=this;return e.ranges.every((function(e){return t.ranges.some((function(n){return n.field==t.active&&n.from<=e.from&&n.to>=e.to}))}))}}]),e}(),te=c.Py.define({map:function(e,t){return e&&e.map(t)}}),ne=c.Py.define(),re=c.QQ.define({create:function(){return null},update:function(e,t){var n,r=(0,s.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(te))return i.value;if(i.is(ne)&&e)return new ee(e.ranges,i.value)}}catch(o){r.e(o)}finally{r.f()}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:function(e){return f.tk.decorations.from(e,(function(e){return e?e.deco:f.p.none}))}});function ie(e,t){return c.jT.create(e.filter((function(e){return e.field==t})).map((function(e){return c.jT.range(e.from,e.to)})))}function oe(e){var t=Y.parse(e);return function(e,n,r,i){var o=t.instantiate(e.state,r),a=o.text,s=o.ranges,u={changes:{from:r,to:i,insert:h.xv.of(a)}};if(s.length&&(u.selection=ie(s,0)),s.length>1){var l=new ee(s,0),f=u.effects=[te.of(l)];void 0===e.state.field(re,!1)&&f.push(c.Py.appendConfig.of([re,le,he,G]))}e.dispatch(e.state.update(u))}}function ae(e){return function(t){var n=t.state,r=t.dispatch,i=n.field(re,!1);if(!i||e<0&&0==i.active)return!1;var o=i.active+e,a=e>0&&!i.ranges.some((function(t){return t.field==o+e}));return r(n.update({selection:ie(i.ranges,o),effects:te.of(a?null:new ee(i.ranges,o))})),!0}}var se=[{key:"Tab",run:ae(1),shift:ae(-1)},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch;return!!t.field(re,!1)&&(n(t.update({effects:te.of(null)})),!0)}}],ue=c.r$.define({combine:function(e){return e.length?e[0]:se}}),le=c.Wl.highest(f.$f.compute([ue],(function(e){return e.facet(ue)})));function ce(e,t){return Object.assign(Object.assign({},t),{apply:oe(e)})}var he=f.tk.domEventHandlers({mousedown:function(e,t){var n,r=t.state.field(re,!1);if(!r||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;var i=r.ranges.find((function(e){return e.from<=n&&e.to>=n}));return!(!i||i.field==r.active)&&(t.dispatch({selection:ie(r.ranges,i.field),effects:te.of(r.ranges.some((function(e){return e.field>i.field}))?new ee(r.ranges,i.field):null)}),!0)}});function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[$,M.of(e),H,pe,G]}var de=[{key:"Ctrl-Space",run:function(e){return!!e.state.field($,!1)&&(e.dispatch({effects:j.of(!0)}),!0)}},{key:"Escape",run:function(e){var t=e.state.field($,!1);return!(!t||!t.active.some((function(e){return 0!=e.state})))&&(e.dispatch({effects:W.of(null)}),!0)}},{key:"ArrowDown",run:V(!0)},{key:"ArrowUp",run:V(!1)},{key:"PageDown",run:V(!0,"page")},{key:"PageUp",run:V(!1,"page")},{key:"Enter",run:function(e){var t=e.state.field($,!1);return!(e.state.readOnly||!t||!t.open||Date.now()-t.open.timestamp<75)&&(k(e,t.open.options[t.open.selected]),!0)}}],pe=c.Wl.highest(f.$f.computeN([M],(function(e){return e.facet(M).defaultKeymap?[de]:[]})))},27:function(e,t,n){"use strict";n.d(t,{Qf:function(){return k},R_:function(){return U},Gv:function(){return g},pJ:function(){return V}});var r=n(7762),i=n(5671),o=n(3144),a=n(4499),s=n(5745),u=n(4294),l=n(6580),c=n(1450),h=n(9357),f=0,d=function(){function e(t,n,r){(0,i.Z)(this,e),this.set=t,this.base=n,this.modified=r,this.id=f++}return(0,o.Z)(e,null,[{key:"define",value:function(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");var n=new e([],null,[]);if(n.set.push(n),t){var i,o=(0,r.Z)(t.set);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.set.push(a)}}catch(s){o.e(s)}finally{o.f()}}return n}},{key:"defineModifier",value:function(){var e=new v;return function(t){return t.modified.indexOf(e)>-1?t:v.get(t.base||t,t.modified.concat(e).sort((function(e,t){return e.id-t.id})))}}}]),e}(),p=0,v=function(){function e(){(0,i.Z)(this,e),this.instances=[],this.id=p++}return(0,o.Z)(e,null,[{key:"get",value:function(t,n){if(!n.length)return t;var i=n[0].instances.find((function(e){return e.base==t&&(r=n,i=e.modified,r.length==i.length&&r.every((function(e,t){return e==i[t]})));var r,i}));if(i)return i;var o,a=[],s=new d(a,t,n),u=(0,r.Z)(n);try{for(u.s();!(o=u.n()).done;){o.value.instances.push(s)}}catch(y){u.e(y)}finally{u.f()}var l,c=m(n),h=(0,r.Z)(t.set);try{for(h.s();!(l=h.n()).done;){var f,p=l.value,v=(0,r.Z)(c);try{for(v.s();!(f=v.n()).done;){var g=f.value;a.push(e.get(p,g))}}catch(y){v.e(y)}finally{v.f()}}}catch(y){h.e(y)}finally{h.f()}return s}}]),e}();function m(e){for(var t=[e],n=0;n<e.length;n++){var i,o=(0,r.Z)(m(e.slice(0,n).concat(e.slice(n+1))));try{for(o.s();!(i=o.n()).done;){var a=i.value;t.push(a)}}catch(s){o.e(s)}finally{o.f()}}return t}function g(e){var t=Object.create(null);for(var n in e){var i=e[n];Array.isArray(i)||(i=[i]);var o,a=(0,r.Z)(n.split(" "));try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s){for(var u=[],l=2,c=s,h=0;;){if("..."==c&&h>0&&h+3==s.length){l=1;break}var f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!f)throw new RangeError("Invalid path: "+s);if(u.push("*"==f[0]?null:'"'==f[0][0]?JSON.parse(f[0]):f[0]),(h+=f[0].length)==s.length)break;var d=s[h++];if(h==s.length&&"!"==d){l=0;break}if("/"!=d)throw new RangeError("Invalid path: "+s);c=s.slice(h)}var p=u.length-1,v=u[p];if(!v)throw new RangeError("Invalid path: "+s);var m=new w(i,l,p>0?u.slice(0,p):null);t[v]=m.sort(t[v])}}}catch(g){a.e(g)}finally{a.f()}}return y.add(t)}var y=new a.md,b=l.r$.define({combine:function(e){return e.length?k.combinedMatch(e):null}}),O=l.r$.define({combine:function(e){return e.length?e[0].match:null}});function x(e){return e.facet(b)||e.facet(O)}var w=function(){function e(t,n,r,o){(0,i.Z)(this,e),this.tags=t,this.mode=n,this.context=r,this.next=o}return(0,o.Z)(e,[{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),e}(),k=function(){function e(t,n){var o;function a(e){var t=s.V.newName();return(o||(o=Object.create(null)))["."+t]=e,t}(0,i.Z)(this,e),this.map=Object.create(null),this.all="string"==typeof n.all?n.all:n.all?a(n.all):null;var l,c=(0,r.Z)(t);try{for(c.s();!(l=c.n()).done;){var h=l.value,f=(h.class||a(Object.assign({},h,{tag:null})))+(this.all?" "+this.all:""),d=h.tag;if(Array.isArray(d)){var p,v=(0,r.Z)(d);try{for(v.s();!(p=v.n()).done;){var m=p.value;this.map[m.id]=f}}catch(y){v.e(y)}finally{v.f()}}else this.map[d.id]=f}}catch(y){c.e(y)}finally{c.f()}this.module=o?new s.V(o):null,this.scope=n.scope||null,this.match=this.match.bind(this);var g=[_];this.module&&g.push(u.tk.styleModule.of(this.module)),this.extension=g.concat(b.of(this)),this.fallback=g.concat(O.of(this))}return(0,o.Z)(e,[{key:"match",value:function(e,t){if(this.scope&&t!=this.scope)return null;var n,i=(0,r.Z)(e.set);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=this.map[o.id];if(void 0!==a)return o!=e&&(this.map[e.id]=a),a}}catch(s){i.e(s)}finally{i.f()}return this.map[e.id]=this.all}}],[{key:"combinedMatch",value:function(e){if(1==e.length)return e[0].match;var t=e.some((function(e){return e.scope}))?void 0:Object.create(null);return function(n,i){var o=t&&t[n.id];if(void 0!==o)return o;var a,s=null,u=(0,r.Z)(e);try{for(u.s();!(a=u.n()).done;){var l=a.value.match(n,i);l&&(s=s?s+" "+l:l)}}catch(c){u.e(c)}finally{u.f()}return t&&(t[n.id]=s),s}}},{key:"define",value:function(t,n){return new e(t,n||{})}},{key:"get",value:function(e,t,n){var r=x(e);return r&&r(t,n||a.Jq.none)}}]),e}();var S=function(){function e(t){(0,i.Z)(this,e),this.markCache=Object.create(null),this.tree=(0,c.qz)(t.state),this.decorations=this.buildDeco(t,x(t.state))}return(0,o.Z)(e,[{key:"update",value:function(e){var t=(0,c.qz)(e.state),n=x(e.state),r=n!=e.startState.facet(b);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}},{key:"buildDeco",value:function(e,t){var n=this;if(!t||!this.tree.length)return u.p.none;var i,o=new h.f_,a=(0,r.Z)(e.visibleRanges);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=s.from,c=s.to;E(this.tree,l,c,t,(function(e,t,r){o.add(e,t,n.markCache[r]||(n.markCache[r]=u.p.mark({class:r})))}))}}catch(f){a.e(f)}finally{a.f()}return o.finish()}}]),e}(),_=l.Wl.high(u.lg.fromClass(S,{decorations:function(e){return e.decorations}})),T=[""],M=function(){function e(t,n,r){(0,i.Z)(this,e),this.at=t,this.style=n,this.span=r,this.class=""}return(0,o.Z)(e,[{key:"startSpan",value:function(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,t,n,i,o,s){var u=e.type,l=e.from,c=e.to;if(!(l>=n||c<=t)){T[o]=u.name,u.isTop&&(s=u);for(var h=i,f=u.prop(y),d=!1;f;){if(!f.context||P(f.context,T,o)){var p,v=(0,r.Z)(f.tags);try{for(v.s();!(p=v.n()).done;){var m=p.value,g=this.style(m,s);g&&(h&&(h+=" "),h+=g,1==f.mode?i+=(i?" ":"")+g:0==f.mode&&(d=!0))}}catch(C){v.e(C)}finally{v.f()}break}f=f.next}if(this.startSpan(e.from,h),!d){var b=e.tree&&e.tree.prop(a.md.mounted);if(b&&b.overlay){for(var O=e.node.enter(b.overlay[0].from+l,1),x=e.firstChild(),w=0,k=l;;w++){var S=w<b.overlay.length?b.overlay[w]:null,_=S?S.from+l:c,M=Math.max(t,k),E=Math.min(n,_);if(M<E&&x)for(;e.from<E&&(this.highlightRange(e,M,E,i,o+1,s),this.startSpan(Math.min(n,e.to),h),!(e.to>=_)&&e.nextSibling()););if(!S||_>n)break;(k=S.to+l)>t&&(this.highlightRange(O.cursor,Math.max(t,S.from+l),Math.min(n,k),i,o,b.tree.type),this.startSpan(k,h))}x&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,o+1,s),this.startSpan(Math.min(n,e.to),h)}}while(e.nextSibling());e.parent()}}}}}]),e}();function E(e,t,n,r,i){var o=new M(t,r,i);o.highlightRange(e.cursor(),t,n,"",0,e.type),o.flush(n)}function P(e,t,n){if(e.length>n-1)return!1;for(var r=n-1,i=e.length-1;i>=0;i--,r--){var o=e[i];if(o&&o!=t[r])return!1}return!0}var C=d.define,A=C(),R=C(),L=C(R),Q=C(R),D=C(),Z=C(D),I=C(D),N=C(),z=C(N),j=C(),W=C(),B=C(),F=C(B),$=C(),V={comment:A,lineComment:C(A),blockComment:C(A),docComment:C(A),name:R,variableName:C(R),typeName:L,tagName:C(L),propertyName:Q,attributeName:C(Q),className:C(R),labelName:C(R),namespace:C(R),macroName:C(R),literal:D,string:Z,docString:C(Z),character:C(Z),attributeValue:C(Z),number:I,integer:C(I),float:C(I),bool:C(D),regexp:C(D),escape:C(D),color:C(D),url:C(D),keyword:j,self:C(j),null:C(j),atom:C(j),unit:C(j),modifier:C(j),operatorKeyword:C(j),controlKeyword:C(j),definitionKeyword:C(j),moduleKeyword:C(j),operator:W,derefOperator:C(W),arithmeticOperator:C(W),logicOperator:C(W),bitwiseOperator:C(W),compareOperator:C(W),updateOperator:C(W),definitionOperator:C(W),typeOperator:C(W),controlOperator:C(W),punctuation:B,separator:C(B),bracket:F,angleBracket:C(F),squareBracket:C(F),paren:C(F),brace:C(F),content:N,heading:z,heading1:C(z),heading2:C(z),heading3:C(z),heading4:C(z),heading5:C(z),heading6:C(z),contentSeparator:C(N),list:C(N),quote:C(N),emphasis:C(N),strong:C(N),link:C(N),monospace:C(N),strikethrough:C(N),inserted:C(),deleted:C(),changed:C(),invalid:C(),meta:$,documentMeta:C($),annotation:C($),processingInstruction:C($),definition:d.defineModifier(),constant:d.defineModifier(),function:d.defineModifier(),standard:d.defineModifier(),local:d.defineModifier(),special:d.defineModifier()},U=k.define([{tag:V.link,textDecoration:"underline"},{tag:V.heading,textDecoration:"underline",fontWeight:"bold"},{tag:V.emphasis,fontStyle:"italic"},{tag:V.strong,fontWeight:"bold"},{tag:V.strikethrough,textDecoration:"line-through"},{tag:V.keyword,color:"#708"},{tag:[V.atom,V.bool,V.url,V.contentSeparator,V.labelName],color:"#219"},{tag:[V.literal,V.inserted],color:"#164"},{tag:[V.string,V.deleted],color:"#a11"},{tag:[V.regexp,V.escape,V.special(V.string)],color:"#e40"},{tag:V.definition(V.variableName),color:"#00f"},{tag:V.local(V.variableName),color:"#30a"},{tag:[V.typeName,V.namespace],color:"#085"},{tag:V.className,color:"#167"},{tag:[V.special(V.variableName),V.macroName],color:"#256"},{tag:V.definition(V.propertyName),color:"#00c"},{tag:V.comment,color:"#940"},{tag:V.meta,color:"#7a757a"},{tag:V.invalid,color:"#f00"}]);V.link,V.heading,V.emphasis,V.strong,V.keyword,V.atom,V.bool,V.url,V.labelName,V.inserted,V.deleted,V.literal,V.string,V.number,V.regexp,V.escape,V.string,V.variableName,V.variableName,V.variableName,V.variableName,V.propertyName,V.typeName,V.namespace,V.className,V.macroName,V.propertyName,V.operator,V.comment,V.meta,V.invalid,V.punctuation},3121:function(e,t,n){"use strict";n.r(t),n.d(t,{css:function(){return _},cssCompletion:function(){return S},cssCompletionSource:function(){return w},cssLanguage:function(){return k}});var r=n(3242),i=n(4499),o=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function a(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}var s=new r.Jq((function(e,t){for(var n=!1,r=0,i=0;;i++){var o=e.next;if(!(a(o)||45==o||95==o||n&&(s=o,s>=48&&s<=57))){n&&e.acceptToken(40==o?94:2==r&&t.canShift(2)?2:95);break}!n&&(45!=o||i>0)&&(n=!0),r===i&&45==o&&r++,e.advance()}var s})),u=new r.Jq((function(e){if(o.includes(e.peek(-1))){var t=e.next;(a(t)||95==t||35==t||46==t||91==t||58==t||45==t)&&e.acceptToken(93)}})),l=new r.Jq((function(e){if(!o.includes(e.peek(-1))){var t=e.next;if(37==t&&(e.advance(),e.acceptToken(1)),a(t)){do{e.advance()}while(a(e.next));e.acceptToken(1)}}})),c={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,dir:32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},h={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},f={__proto__:null,not:128,only:128,from:158,to:160},d=r.WQ.deserialize({version:13,states:"7WOYQ[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO!ZQ[O'#CfO!}QXO'#CaO#UQ[O'#ChO#aQ[O'#DPO#fQ[O'#DTOOQP'#Ec'#EcO#kQdO'#DeO$VQ[O'#DrO#kQdO'#DtO$hQ[O'#DvO$sQ[O'#DyO$xQ[O'#EPO%WQ[O'#EROOQS'#Eb'#EbOOQS'#ES'#ESQYQ[OOOOQP'#Cg'#CgOOQP,59Q,59QO!ZQ[O,59QO%_Q[O'#EVO%yQWO,58{O&RQ[O,59SO#aQ[O,59kO#fQ[O,59oO%_Q[O,59sO%_Q[O,59uO%_Q[O,59vO'bQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO'iQWO,59SO'nQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO'sQ`O,59oOOQS'#Cp'#CpO#kQdO'#CqO'{QvO'#CsO)VQtO,5:POOQO'#Cx'#CxO'iQWO'#CwO)kQWO'#CyOOQS'#Ef'#EfOOQO'#Dh'#DhO)pQ[O'#DoO*OQWO'#EiO$xQ[O'#DmO*^QWO'#DpOOQO'#Ej'#EjO%|QWO,5:^O*cQpO,5:`OOQS'#Dx'#DxO*kQWO,5:bO*pQ[O,5:bOOQO'#D{'#D{O*xQWO,5:eO*}QWO,5:kO+VQWO,5:mOOQS-E8Q-E8QOOQP1G.l1G.lO+yQXO,5:qOOQO-E8T-E8TOOQS1G.g1G.gOOQP1G.n1G.nO'iQWO1G.nO'nQWO1G.nOOQP1G/V1G/VO,WQ`O1G/ZO,qQXO1G/_O-XQXO1G/aO-oQXO1G/bO.VQXO'#CdO.zQWO'#DaOOQS,59z,59zO/PQWO,59zO/XQ[O,59zO/`QdO'#CoO/gQ[O'#DOOOQP1G/Z1G/ZO#kQdO1G/ZO/nQpO,59]OOQS,59_,59_O#kQdO,59aO/vQWO1G/kOOQS,59c,59cO/{Q!bO,59eO0TQWO'#DhO0`QWO,5:TO0eQWO,5:ZO$xQ[O,5:VO$xQ[O'#EYO0mQWO,5;TO0xQWO,5:XO%_Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O1ZQWO1G/|O1`QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XOOQP7+$Y7+$YOOQP7+$u7+$uO#kQdO7+$uO#kQdO,59{O1nQ[O'#EXO1xQWO1G/fOOQS1G/f1G/fO1xQWO1G/fO2QQtO'#ETO2uQdO'#EeO3PQWO,59ZO3UQXO'#EhO3]QWO,59jO3bQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO3jQWO1G/PO#kQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO3oQWO,5:tOOQO-E8W-E8WO3}QXO1G/vOOQS7+%h7+%hO4UQYO'#CsO%|QWO'#EZO4^QdO,5:hOOQS,5:h,5:hO4lQpO<<HaO4tQtO1G/gOOQO,5:s,5:sO5XQ[O,5:sOOQO-E8V-E8VOOQS7+%Q7+%QO5cQWO7+%QOOQS-E8R-E8RO#kQdO'#EUO5kQWO,5;POOQT1G.u1G.uO5sQWO,5;SOOQP1G/U1G/UOOQP<<Ha<<HaOOQS7+$k7+$kO5{QdO7+%ZOOQO7+%b7+%bOOQS,5:u,5:uOOQS-E8X-E8XOOQS1G0S1G0SOOQPAN={AN={O6SQtO'#EWO#kQdO'#EWO6}QdO7+%ROOQO7+%R7+%ROOQO1G0_1G0_OOQS<<Hl<<HlO7_QdO,5:pOOQO-E8S-E8SOOQO<<Hu<<HuO7iQtO,5:rOOQS-E8U-E8UOOQO<<Hm<<Hm",stateData:"8j~O#TOSROS~OUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#RPO#WRO~O#RcO~O]hO^hOpfOtiOxjO|kO!PmO#PlO#WeO~O!RnO~P!`O`sO#QqO#RpO~O#RuO~O#RwO~OQ!QObzOf!QOh!QOn!PO#Q}O#RyO#Z{O~Ob!SO!b!UO!e!VO#R!RO!R#]P~Oh![On!PO#R!ZO~O#R!^O~Ob!SO!b!UO!e!VO#R!RO~O!W#]P~P$VOUWOXWO]TO^TOtUOxVO#RPO#WRO~OpfO!RnO~O`!hO#QqO#RpO~OQ!pOUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#R!oO#WRO~O!Q!qO~P&^Ob!tO~Ob!uO~Ov!vOz!wO~OP!yObgXjgX!WgX!bgX!egX#RgXagXQgXfgXhgXngXpgX#QgX#ZgXvgX!QgX!VgX~Ob!SOj!zO!b!UO!e!VO#R!RO!W#]P~Ob!}O~Ob!SO!b!UO!e!VO#R#OO~Op#SO!`#RO!R#]X!W#]X~Ob#VO~Oj!zO!W#XO~O!W#YO~Oh#ZOn!PO~O!R#[O~O!RnO!`#RO~O!RnO!W#_O~O]hO^hOtiOxjO|kO!PmO#PlO#WeO~Op!ya!R!yaa!ya~P+_Ov#aOz#bO~O]hO^hOtiOxjO#WeO~Op{i|{i!P{i!R{i#P{ia{i~P,`Op}i|}i!P}i!R}i#P}ia}i~P,`Op!Oi|!Oi!P!Oi!R!Oi#P!Oia!Oi~P,`O]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#PWX#WWX~O]#cO~O!Q#fO!W#dO~O!Q#fO~P&^Oa#XP~P#kOa#[P~P%_Oa#nOj!zO~O!W#pO~Oh#qOo#qO~O]!^Xa![X!`![X~O]#rO~Oa#sO!`#RO~Op#SO!R#]a!W#]a~O!`#ROp!aa!R!aa!W!aaa!aa~O!W#xO~O!Q#|O!q#zO!r#zO#Z#yO~O!Q!{X!W!{X~P&^O!Q$SO!W#dO~Oj!zOQ!wXa!wXb!wXf!wXh!wXn!wXp!wX#Q!wX#R!wX#Z!wX~Op$VOa#XX~P#kOa$XO~Oa#[X~P!`Oa$ZO~Oj!zOv$[O~Oa$]O~O!`#ROp!|a!R!|a!W!|a~Oa$_O~P+_OP!yO!RgX~O!Q$bO!q#zO!r#zO#Z#yO~Oj!zOv$cO~Oj!zOp$eO!V$gO!Q!Ti!W!Ti~P#kO!Q!{a!W!{a~P&^O!Q$iO!W#dO~Op$VOa#Xa~OpfOa#[a~Oa$lO~P#kOj!zOQ!zXb!zXf!zXh!zXn!zXp!zX!Q!zX!V!zX!W!zX#Q!zX#R!zX#Z!zX~Op$eO!V$oO!Q!Tq!W!Tq~P#kOa!xap!xa~P#kOj!zOQ!zab!zaf!zah!zan!zap!za!Q!za!V!za!W!za#Q!za#R!za#Z!za~Oo#Zj!Pj~",goto:",O#_PPPPP#`P#h#vP#h$U#hPP$[PPP$b$k$kP$}P$kP$k%e%wPPP&a&g#hP&mP#hP&sP#hP#h#hPPP&y']'iPP#`PP'o'o'y'oP'oP'o'oP#`P#`P#`P'|#`P(P(SPP#`P#`(V(e(s(y)T)Z)e)kPPPPPP)q)yP*e*hP+^+a+j]`Obn!s#d$QiWObfklmn!s!u#V#d$QiQObfklmn!s!u#V#d$QQdRR!ceQrTR!ghQ!gsQ!|!OR#`!hq!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jT#z#[#{q!OXZz!t!w!z#b#c#i#r$O$V$^$e$f$jp!QXZz!t!w!z#b#c#i#r$O$V$^$e$f$jQ![[R#Z!]QtTR!ihQ!gtR#`!iQvUR!jiQxVR!kjQoSQ!fgQ#W!XQ#^!`Q#_!aR$`#zQ!rnQ#g!sQ$P#dR$h$QX!pn!s#d$Qa!WY^_|!S!U#R#SR#P!SR!][R!_]R#]!_QbOU!bb!s$QQ!snR$Q#dQ#i!tU$U#i$^$jQ$^#rR$j$VQ$W#iR$k$WQgSS!eg$YR$Y#kQ$f$OR$n$fQ#e!rS$R#e$TR$T#gQ#T!TR#v#TQ#{#[R$a#{]aObn!s#d$Q[SObn!s#d$QQ!dfQ!lkQ!mlQ!nmQ#k!uR#w#VR#j!tQ|XQ!YZQ!xz[#h!t#i#r$V$^$jQ#m!wQ#o!zQ#}#bQ$O#cS$d$O$fR$m$eR#l!uQ!XYQ!a_R!{|U!TY_|Q!`^Q#Q!SQ#U!UQ#t#RR#u#S",nodeNames:"\u26a0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule",maxTerm:106,nodeProps:[[i.md.openedBy,17,"(",48,"{"],[i.md.closedBy,18,")",49,"}"]],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Ay~R![OX$wX^%]^p$wpq%]qr(crs+}st,otu2Uuv$wvw2rwx2}xy3jyz3uz{3z{|4_|}8U}!O8a!O!P8x!P!Q9Z!Q![;e![!]<Y!]!^<x!^!_$w!_!`=T!`!a=`!a!b$w!b!c>O!c!}$w!}#O?[#O#P$w#P#Q?g#Q#R2U#R#T$w#T#U?r#U#c$w#c#d@q#d#o$w#o#pAQ#p#q2U#q#rA]#r#sAh#s#y$w#y#z%]#z$f$w$f$g%]$g#BY$w#BY#BZ%]#BZ$IS$w$IS$I_%]$I_$I|$w$I|$JO%]$JO$JT$w$JT$JU%]$JU$KV$w$KV$KW%]$KW&FU$w&FU&FV%]&FV~$wW$zQOy%Qz~%QW%VQoWOy%Qz~%Q~%bf#T~OX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q~&}f#T~oWOX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q^(fSOy%Qz#]%Q#]#^(r#^~%Q^(wSoWOy%Qz#a%Q#a#b)T#b~%Q^)YSoWOy%Qz#d%Q#d#e)f#e~%Q^)kSoWOy%Qz#c%Q#c#d)w#d~%Q^)|SoWOy%Qz#f%Q#f#g*Y#g~%Q^*_SoWOy%Qz#h%Q#h#i*k#i~%Q^*pSoWOy%Qz#T%Q#T#U*|#U~%Q^+RSoWOy%Qz#b%Q#b#c+_#c~%Q^+dSoWOy%Qz#h%Q#h#i+p#i~%Q^+wQ!VUoWOy%Qz~%Q~,QUOY+}Zr+}rs,ds#O+}#O#P,i#P~+}~,iOh~~,lPO~+}_,tWtPOy%Qz!Q%Q!Q![-^![!c%Q!c!i-^!i#T%Q#T#Z-^#Z~%Q^-cWoWOy%Qz!Q%Q!Q![-{![!c%Q!c!i-{!i#T%Q#T#Z-{#Z~%Q^.QWoWOy%Qz!Q%Q!Q![.j![!c%Q!c!i.j!i#T%Q#T#Z.j#Z~%Q^.qWfUoWOy%Qz!Q%Q!Q![/Z![!c%Q!c!i/Z!i#T%Q#T#Z/Z#Z~%Q^/bWfUoWOy%Qz!Q%Q!Q![/z![!c%Q!c!i/z!i#T%Q#T#Z/z#Z~%Q^0PWoWOy%Qz!Q%Q!Q![0i![!c%Q!c!i0i!i#T%Q#T#Z0i#Z~%Q^0pWfUoWOy%Qz!Q%Q!Q![1Y![!c%Q!c!i1Y!i#T%Q#T#Z1Y#Z~%Q^1_WoWOy%Qz!Q%Q!Q![1w![!c%Q!c!i1w!i#T%Q#T#Z1w#Z~%Q^2OQfUoWOy%Qz~%QY2XSOy%Qz!_%Q!_!`2e!`~%QY2lQzQoWOy%Qz~%QX2wQXPOy%Qz~%Q~3QUOY2}Zw2}wx,dx#O2}#O#P3d#P~2}~3gPO~2}_3oQbVOy%Qz~%Q~3zOa~_4RSUPjSOy%Qz!_%Q!_!`2e!`~%Q_4fUjS!PPOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q^4}SoWOy%Qz!Q%Q!Q![5Z![~%Q^5bWoW#ZUOy%Qz!Q%Q!Q![5Z![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q^6PWoWOy%Qz{%Q{|6i|}%Q}!O6i!O!Q%Q!Q![6z![~%Q^6nSoWOy%Qz!Q%Q!Q![6z![~%Q^7RSoW#ZUOy%Qz!Q%Q!Q![6z![~%Q^7fYoW#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q_8ZQpVOy%Qz~%Q^8fUjSOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q_8}S#WPOy%Qz!Q%Q!Q![5Z![~%Q~9`RjSOy%Qz{9i{~%Q~9nSoWOy9iyz9zz{:o{~9i~9}ROz9zz{:W{~9z~:ZTOz9zz{:W{!P9z!P!Q:j!Q~9z~:oOR~~:tUoWOy9iyz9zz{:o{!P9i!P!Q;W!Q~9i~;_QR~oWOy%Qz~%Q^;jY#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%QX<_S]POy%Qz![%Q![!]<k!]~%QX<rQ^PoWOy%Qz~%Q_<}Q!WVOy%Qz~%QY=YQzQOy%Qz~%QX=eS|POy%Qz!`%Q!`!a=q!a~%QX=xQ|PoWOy%Qz~%QX>RUOy%Qz!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX>lY!YPoWOy%Qz}%Q}!O>e!O!Q%Q!Q![>e![!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX?aQxPOy%Qz~%Q^?lQvUOy%Qz~%QX?uSOy%Qz#b%Q#b#c@R#c~%QX@WSoWOy%Qz#W%Q#W#X@d#X~%QX@kQ!`PoWOy%Qz~%QX@tSOy%Qz#f%Q#f#g@d#g~%QXAVQ!RPOy%Qz~%Q_AbQ!QVOy%Qz~%QZAmS!PPOy%Qz!_%Q!_!`2e!`~%Q",tokenizers:[u,l,s,0,1,2,3],topRules:{StyleSheet:[0,4]},specialized:[{term:94,get:function(e){return c[e]||-1}},{term:56,get:function(e){return h[e]||-1}},{term:95,get:function(e){return f[e]||-1}}],tokenPrec:1078}),p=n(1450),v=n(27),m=null;function g(){if(!m&&"object"==typeof document&&document.body){var e=[];for(var t in document.body.style)/[A-Z]|^-|^(item|length)$/.test(t)||e.push(t);m=e.sort().map((function(e){return{type:"property",label:e}}))}return m||[]}var y=["active","after","before","checked","default","disabled","empty","enabled","first-child","first-letter","first-line","first-of-type","focus","hover","in-range","indeterminate","invalid","lang","last-child","last-of-type","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-of-type","only-child","optional","out-of-range","placeholder","read-only","read-write","required","root","selection","target","valid","visited"].map((function(e){return{type:"class",label:e}})),b=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map((function(e){return{type:"keyword",label:e}})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map((function(e){return{type:"constant",label:e}}))),O=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map((function(e){return{type:"type",label:e}})),x=/^[\w-]*/,w=function(e){var t=e.state,n=e.pos,r=(0,p.qz)(t).resolveInner(n,-1);if("PropertyName"==r.name)return{from:r.from,options:g(),span:x};if("ValueName"==r.name)return{from:r.from,options:b,span:x};if("PseudoClassName"==r.name)return{from:r.from,options:y,span:x};if("TagName"==r.name){for(var i=r.parent;i;i=i.parent)if("Block"==i.name)return{from:r.from,options:g(),span:x};return{from:r.from,options:O,span:x}}if(!e.explicit)return null;var o=r.resolve(n),a=o.childBefore(n);return a&&":"==a.name&&"PseudoClassSelector"==o.name?{from:n,options:y,span:x}:a&&":"==a.name&&"Declaration"==o.name||"ArgList"==o.name?{from:n,options:b,span:x}:"Block"==o.name?{from:n,options:g(),span:x}:null},k=p.qp.define({parser:d.configure({props:[p.uj.add({Declaration:(0,p.tC)()}),p.x0.add({Block:p.Dv}),(0,v.Gv)({"import charset namespace keyframes":v.pJ.definitionKeyword,"media supports":v.pJ.controlKeyword,"from to selector":v.pJ.keyword,NamespaceName:v.pJ.namespace,KeyframeName:v.pJ.labelName,TagName:v.pJ.tagName,ClassName:v.pJ.className,PseudoClassName:v.pJ.constant(v.pJ.className),IdName:v.pJ.labelName,"FeatureName PropertyName":v.pJ.propertyName,AttributeName:v.pJ.attributeName,NumberLiteral:v.pJ.number,KeywordQuery:v.pJ.keyword,UnaryQueryOp:v.pJ.operatorKeyword,"CallTag ValueName":v.pJ.atom,VariableName:v.pJ.variableName,Callee:v.pJ.operatorKeyword,Unit:v.pJ.unit,"UniversalSelector NestingSelector":v.pJ.definitionOperator,AtKeyword:v.pJ.keyword,MatchOp:v.pJ.compareOperator,"ChildOp SiblingOp, LogicOp":v.pJ.logicOperator,BinOp:v.pJ.arithmeticOperator,Important:v.pJ.modifier,Comment:v.pJ.blockComment,ParenthesizedContent:v.pJ.special(v.pJ.name),ColorLiteral:v.pJ.color,StringLiteral:v.pJ.string,":":v.pJ.punctuation,"PseudoOp #":v.pJ.derefOperator,"; ,":v.pJ.separator,"( )":v.pJ.paren,"[ ]":v.pJ.squareBracket,"{ }":v.pJ.brace})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}}),S=k.data.of({autocomplete:w});function _(){return new p.ri(k,S)}},1679:function(e,t,n){"use strict";n.r(t),n.d(t,{autoCloseTags:function(){return re},html:function(){return ne},htmlCompletion:function(){return te},htmlCompletionSource:function(){return K},htmlLanguage:function(){return ee}});var r=n(7762),i=n(3242),o=n(4499),a={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},s={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},u={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function l(e){return 9==e||10==e||13==e||32==e}var c=null,h=null,f=0;function d(e,t){var n=e.pos+t;if(f==n&&h==e)return c;for(var r=e.peek(t);l(r);)r=e.peek(++t);for(var i,o="";45==(i=r)||46==i||58==i||i>=65&&i<=90||95==i||i>=97&&i<=122||i>=161;)o+=String.fromCharCode(r),r=e.peek(++t);return h=e,f=n,c=o||(r==p||r==v?void 0:null)}var p=63,v=33;function m(e,t){this.name=e,this.parent=t,this.hash=t?t.hash:0;for(var n=0;n<e.length;n++)this.hash+=(this.hash<<4)+e.charCodeAt(n)+(e.charCodeAt(n)<<8)}var g=[4,5,6,7],y=new i.IK({start:null,shift:function(e,t,n,r){return g.indexOf(t)>-1?new m(d(r,1)||"",e):e},reduce:function(e,t){return 18==t&&e?e.parent:e},reuse:function(e,t,n,r){var i=t.type.id;return 4==i||35==i?new m(d(r,1)||"",e):e},hash:function(e){return e?e.hash:0},strict:!1}),b=new i.Jq((function(e,t){if(60==e.next){e.advance();var n=47==e.next;n&&e.advance();var r=d(e,0);if(void 0!==r){if(!r)return e.acceptToken(n?11:4);var i=t.context?t.context.name:null;if(n){if(r==i)return e.acceptToken(8);if(i&&s[i])return e.acceptToken(56,-2);if(t.dialectEnabled(0))return e.acceptToken(9);for(var o=t.context;o;o=o.parent)if(o.name==r)return;e.acceptToken(10)}else{if("script"==r)return e.acceptToken(5);if("style"==r)return e.acceptToken(6);if("textarea"==r)return e.acceptToken(7);i&&u[i]&&u[i][r]?e.acceptToken(56,-1):e.acceptToken(4)}}}else e.next<0&&t.context&&e.acceptToken(56)}),{contextual:!0}),O=new i.Jq((function(e,t){var n=1;if(47==e.next){if(62!=e.peek(1))return;n=2}else if(62!=e.next)return;t.context&&a[t.context.name]&&e.acceptToken(12,n)})),x=new i.Jq((function(e){for(var t=0,n=0;;n++){if(e.next<0){n&&e.acceptToken(57);break}if(e.next=="--\x3e".charCodeAt(t)){if(3==++t){n>3&&e.acceptToken(57,-2);break}}else t=0;e.advance()}}));function w(e,t,n){var r=2+e.length;return new i.Jq((function(i){for(var o=0,a=0,s=0;;s++){if(i.next<0){s&&i.acceptToken(t);break}if(0==o&&60==i.next||1==o&&47==i.next||o>=2&&o<r&&i.next==e.charCodeAt(o-2))o++,a++;else if(2!=o&&o!=r||!l(i.next)){if(o==r&&62==i.next){s>a?i.acceptToken(t,-a):i.acceptToken(n,-(a-2));break}if((10==i.next||13==i.next)&&s){i.acceptToken(t,1);break}o=a=0}else a++;i.advance()}}))}var k=w("script",53,1),S=w("style",54,2),_=w("textarea",55,3),T=i.WQ.deserialize({version:13,states:",fOVO!jOOO!TQ#tO'#CoO!YQ#tO'#CyO!_Q#tO'#C|O!dQ#tO'#DPO!iOXO'#CnO!tOYO'#CnO#PO[O'#CnO$YO!jO'#CnOOOW'#Cn'#CnO$aO$fO'#DSO$iQ#tO'#DUO$nQ#tO'#DVOOOW'#Dj'#DjOOOW'#DX'#DXQVO!jOOO$sQ&jO,59ZO${Q&jO,59eO%TQ&jO,59hO%]Q&zO,59kOOOX'#D]'#D]O%hOXO'#CwO%sOXO,59YOOOY'#D^'#D^O%{OYO'#CzO&WOYO,59YOOO['#D_'#D_O&`O[O'#C}O&kO[O,59YOOOW'#D`'#D`O&sO!jO,59YO&zQ#tO'#DQOOOW,59Y,59YOOOp'#Da'#DaO'PO$fO,59nOOOW,59n,59nO'XQ#tO,59pO'^Q#tO,59qOOOW-E7V-E7VO'cQ&zO'#CqOOQ`'#DY'#DYO'qQ&jO1G.uOOOX1G.u1G.uO'yQ&jO1G/POOOY1G/P1G/PO(RQ&jO1G/SOOO[1G/S1G/SO(ZQ&zO1G/VOOOW1G/V1G/VOOOW1G/X1G/XOOOX-E7Z-E7ZO(fQ#tO'#CxOOOW1G.t1G.tOOOY-E7[-E7[O(kQ#tO'#C{OOO[-E7]-E7]O(pQ#tO'#DOOOOW-E7^-E7^O(uQ#tO,59lOOOp-E7_-E7_OOOW1G/Y1G/YOOOW1G/[1G/[OOOW1G/]1G/]O(zQ,UO,59]OOQ`-E7W-E7WOOOX7+$a7+$aOOOY7+$k7+$kOOO[7+$n7+$nOOOW7+$q7+$qOOOW7+$s7+$sO)VQ#tO,59dO)[Q#tO,59gO)aQ#tO,59jOOOW1G/W1G/WO)fO7[O'#CtO)tOMhO'#CtOOQ`1G.w1G.wOOOW1G/O1G/OOOOW1G/R1G/ROOOW1G/U1G/UOOOO'#DZ'#DZO*SO7[O,59`OOQ`,59`,59`OOOO'#D['#D[O*bOMhO,59`OOOO-E7X-E7XOOQ`1G.z1G.zOOOO-E7Y-E7Y",stateData:"*x~O!]OS~OSSOTPOUQOVROX[OYZOZ]O^]O_]O`]Oa]Ow]Oz^O!cYO~Od`O~OdaO~OdbO~OdcO~O!VdOPkP!YkP~O!WgOQnP!YnP~O!XjORqP!YqP~OSSOTPOUQOVROWoOX[OYZOZ]O^]O_]O`]Oa]Ow]O!cYO~O!YpO~P#[O!ZqO!dsO~OdtO~OduO~OfwOjzO~OfwOj|O~OfwOj!OO~O[!ROfwOj!QO~O!VdOPkX!YkX~OP!TO!Y!UO~O!WgOQnX!YnX~OQ!WO!Y!UO~O!XjORqX!YqX~OR!YO!Y!UO~O!Y!UO~P#[Od![O~O!ZqO!d!^O~Oj!_O~Oj!`O~Og!aOfeXjeX[eX~OfwOj!cO~OfwOj!dO~OfwOj!eO~O[!gOfwOj!fO~Od!hO~Od!iO~Od!jO~Oj!kO~Oi!nO!_!lO!a!mO~Oj!oO~Oj!pO~Oj!qO~O_!rO`!rO!_!tO!`!rO~O_!uO`!uO!a!tO!b!uO~O_!rO`!rO!_!xO!`!rO~O_!uO`!uO!a!xO!b!uO~O`_a!cwz!c~",goto:"%i!_PPPPPPPPPPPPPPPPPP!`!fP!lPP!vPP!y!|#P#V#Y#]#c#f#i#o#u!`P!`!`P#{$R$e$k$q$w$}%T%ZPPPPPPPP%aX]OW_nXTOW_nax`abcy{}!PR!n!aRfTR!UfXUOW_nRiUR!UiXVOW_nRlVR!UlXWOW_nQpWR!UnXXOW_nQ_ORv_Qy`Q{aQ}bQ!PcX!by{}!PQ!s!lR!w!sQ!v!mR!y!vQeTR!SeQhUR!VhQkVR!XkQnWR!ZnQrYR!]rS^O_TmWn",nodeNames:"\u26a0 StartCloseTag StartCloseTag StartCloseTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag SelfCloseEndTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue EndTag ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:66,context:y,nodeProps:[[o.md.closedBy,-9,1,2,3,5,6,7,8,9,10,"EndTag",4,"EndTag SelfCloseEndTag",-4,19,29,32,35,"CloseTag"],[o.md.group,-9,11,15,16,17,18,38,39,40,41,"Entity",14,"Entity TextContent",-3,27,30,33,"TextContent Entity"],[o.md.openedBy,12,"StartTag",26,"StartTag StartCloseTag",-4,28,31,34,36,"OpenTag"]],skippedNodes:[0],repeatNodeCount:9,tokenData:"!#b!aR!WOX$kXY)sYZ)sZ]$k]^)s^p$kpq)sqr$krs*zsv$kvw+dwx2yx}$k}!O3f!O!P$k!P!Q7_!Q![$k![!]8u!]!^$k!^!_>b!_!`!!p!`!a8T!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U$k4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!Z$vc^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!R&[V^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&Rq&xT^P!bpOv&qwx'Xx!^&q!^!_'g!_~&qP'^R^POv'Xw!^'X!_~'Xp'lQ!bpOv'gx~'ga'yU^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r`(bR!``Or(]sv(]w~(]!Q(rT!``!bpOr(krs'gsv(kwx(]x~(kW)WXiWOX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!a*O^^P!``!bp!]^OX&RXY)sYZ)sZ]&R]^)s^p&Rpq)sqr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!Z+TT!_h^P!bpOv&qwx'Xx!^&q!^!_'g!_~&q!Z+kbiWaPOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst/]tw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^)R!^!a.Q!a$f,s$f$g.Q$g~,s!Z,xbiWOX,sXZ.QZ],s]^.Q^p,sqr,srs.Qst)Rtw,swx.Qx!P,s!P!Q.Q!Q!],s!]!^.i!^!a.Q!a$f,s$f$g.Q$g~,s!R.TTOp.Qqs.Qt!].Q!]!^.d!^~.Q!R.iO_!R!Z.pXiW_!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z/baiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^)R!^!a1q!a$f0g$f$g1q$g~0g!Z0laiWOX0gXZ1qZ]0g]^1q^p0gqr0grs1qsw0gwx1qx!P0g!P!Q1q!Q!]0g!]!^2V!^!a1q!a$f0g$f$g1q$g~0g!R1tSOp1qq!]1q!]!^2Q!^~1q!R2VO`!R!Z2^XiW`!ROX)RZ])R^p)Rqr)Rsw)Rx!P)R!Q!^)R!a$f)R$g~)R!Z3SU!ax^P!``Or'rrs'Xsv'rw!^'r!^!_(]!_~'r!]3qe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O5S!O!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g~$k!]5_d^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!`&R!`!a6m!a$f$k$f$g&R$g~$k!T6xV^P!``!bp!dQOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!X7hX^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_!`&R!`!a8T!a~&R!X8`VjU^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R!a9U!YfSdQ^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx}$k}!O8u!O!P8u!P!Q&R!Q![8u![!]8u!]!^$k!^!_(k!_!a&R!a!c$k!c!}8u!}#R$k#R#S8u#S#T$k#T#o8u#o$f$k$f$g&R$g$}$k$}%O8u%O%W$k%W%o8u%o%p$k%p&a8u&a&b$k&b1p8u1p4U8u4U4d8u4d4e$k4e$IS8u$IS$I`$k$I`$Ib8u$Ib$Je$k$Je$Jg8u$Jg$Kh$k$Kh%#t8u%#t&/x$k&/x&Et8u&Et&FV$k&FV;'S8u;'S;:j<t;:j?&r$k?&r?Ah8u?Ah?BY$k?BY?Mn8u?Mn~$k!a=Pe^PiW!``!bpOX$kXZ&RZ]$k]^&R^p$kpq&Rqr$krs&qsv$kvw)Rwx'rx!P$k!P!Q&R!Q!^$k!^!_(k!_!a&R!a$f$k$f$g&R$g;=`$k;=`<%l8u<%l~$k!R>iW!``!bpOq(kqr?Rrs'gsv(kwx(]x!a(k!a!bKj!b~(k!R?YZ!``!bpOr(krs'gsv(kwx(]x}(k}!O?{!O!f(k!f!gAR!g#W(k#W#XGz#X~(k!R@SV!``!bpOr(krs'gsv(kwx(]x}(k}!O@i!O~(k!R@rT!``!bp!cPOr(krs'gsv(kwx(]x~(k!RAYV!``!bpOr(krs'gsv(kwx(]x!q(k!q!rAo!r~(k!RAvV!``!bpOr(krs'gsv(kwx(]x!e(k!e!fB]!f~(k!RBdV!``!bpOr(krs'gsv(kwx(]x!v(k!v!wBy!w~(k!RCQV!``!bpOr(krs'gsv(kwx(]x!{(k!{!|Cg!|~(k!RCnV!``!bpOr(krs'gsv(kwx(]x!r(k!r!sDT!s~(k!RD[V!``!bpOr(krs'gsv(kwx(]x!g(k!g!hDq!h~(k!RDxW!``!bpOrDqrsEbsvDqvwEvwxFfx!`Dq!`!aGb!a~DqqEgT!bpOvEbvxEvx!`Eb!`!aFX!a~EbPEyRO!`Ev!`!aFS!a~EvPFXOzPqF`Q!bpzPOv'gx~'gaFkV!``OrFfrsEvsvFfvwEvw!`Ff!`!aGQ!a~FfaGXR!``zPOr(]sv(]w~(]!RGkT!``!bpzPOr(krs'gsv(kwx(]x~(k!RHRV!``!bpOr(krs'gsv(kwx(]x#c(k#c#dHh#d~(k!RHoV!``!bpOr(krs'gsv(kwx(]x#V(k#V#WIU#W~(k!RI]V!``!bpOr(krs'gsv(kwx(]x#h(k#h#iIr#i~(k!RIyV!``!bpOr(krs'gsv(kwx(]x#m(k#m#nJ`#n~(k!RJgV!``!bpOr(krs'gsv(kwx(]x#d(k#d#eJ|#e~(k!RKTV!``!bpOr(krs'gsv(kwx(]x#X(k#X#YDq#Y~(k!RKqW!``!bpOrKjrsLZsvKjvwLowxNPx!aKj!a!b! g!b~KjqL`T!bpOvLZvxLox!aLZ!a!bM^!b~LZPLrRO!aLo!a!bL{!b~LoPMORO!`Lo!`!aMX!a~LoPM^OwPqMcT!bpOvLZvxLox!`LZ!`!aMr!a~LZqMyQ!bpwPOv'gx~'gaNUV!``OrNPrsLosvNPvwLow!aNP!a!bNk!b~NPaNpV!``OrNPrsLosvNPvwLow!`NP!`!a! V!a~NPa! ^R!``wPOr(]sv(]w~(]!R! nW!``!bpOrKjrsLZsvKjvwLowxNPx!`Kj!`!a!!W!a~Kj!R!!aT!``!bpwPOr(krs'gsv(kwx(]x~(k!V!!{VgS^P!``!bpOr&Rrs&qsv&Rwx'rx!^&R!^!_(k!_~&R",tokenizers:[k,S,_,b,O,x,0,1,2,3,4,5],topRules:{Document:[0,13]},dialects:{noMatch:0},tokenPrec:446});function M(e,t){var n,i=Object.create(null),o=(0,r.Z)(e.firstChild.getChildren("Attribute"));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.getChild("AttributeName"),u=a.getChild("AttributeValue")||a.getChild("UnquotedAttributeValue");s&&(i[t.read(s.from,s.to)]=u?"AttributeValue"==u.name?t.read(u.from+1,u.to-1):t.read(u.from,u.to):"")}}catch(l){o.e(l)}finally{o.f()}return i}function E(e,t,n){var i,o,a=(0,r.Z)(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!s.attrs||s.attrs(i||(i=M(e.node.parent,t))))return{parser:s.parser}}}catch(u){a.e(u)}finally{a.f()}return null}function P(e){var t,n=[],i=[],a=[],s=(0,r.Z)(e);try{for(s.s();!(t=s.n()).done;){var u=t.value,l="script"==u.tag?n:"style"==u.tag?i:"textarea"==u.tag?a:null;if(!l)throw new RangeError("Only script, style, and textarea tags can host nested parsers");l.push(u)}}catch(c){s.e(c)}finally{s.f()}return(0,o.FE)((function(e,t){var r=e.type.id;return 27==r?E(e,t,n):30==r?E(e,t,i):33==r?E(e,t,a):null}))}var C=n(3121),A=n(9211),R=n(4294),L=n(6580),Q=n(1450),D=n(27),Z=["_blank","_self","_top","_parent"],I=["ascii","utf-8","utf-16","latin1","latin1"],N=["get","post","put","delete"],z=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],j=["true","false"],W={},B={a:{attrs:{href:null,ping:null,type:null,media:null,target:Z,hreflang:null}},abbr:W,acronym:W,address:W,applet:W,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:W,aside:W,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:W,base:{attrs:{href:null,target:Z}},basefont:W,bdi:W,bdo:W,big:W,blockquote:{attrs:{cite:null}},body:W,br:W,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:z,formmethod:N,formnovalidate:["novalidate"],formtarget:Z,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:W,center:W,cite:W,code:W,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:W,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:W,dir:W,div:W,dl:W,dt:W,em:W,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:W,figure:W,font:W,footer:W,form:{attrs:{action:null,name:null,"accept-charset":I,autocomplete:["on","off"],enctype:z,method:N,novalidate:["novalidate"],target:Z}},frame:W,frameset:W,h1:W,h2:W,h3:W,h4:W,h5:W,h6:W,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:W,hgroup:W,hr:W,html:{attrs:{manifest:null}},i:W,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:z,formmethod:N,formnovalidate:["novalidate"],formtarget:Z,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:W,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:W,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:W,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:I,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:W,noframes:W,noscript:W,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:W,param:{attrs:{name:null,value:null}},pre:W,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:W,rt:W,ruby:W,s:W,samp:W,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:I}},section:W,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},small:W,source:{attrs:{src:null,type:null,media:null}},span:W,strike:W,strong:W,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:W,summary:W,sup:W,table:W,tbody:W,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:W,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:W,time:{attrs:{datetime:null}},title:W,tr:W,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},tt:W,u:W,ul:{children:["li","script","template","ul","ol"]},var:W,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:W},F={accesskey:null,class:null,contenteditable:j,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:j,autocorrect:j,autocapitalize:j,style:null,tabindex:null,title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":j,"aria-autocomplete":["inline","list","both","none"],"aria-busy":j,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":j,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":j,"aria-hidden":j,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":j,"aria-multiselectable":j,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":j,"aria-relevant":null,"aria-required":j,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},$=Object.keys(B),V=Object.keys(F);function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;if(!t)return"";var r=t.firstChild,i=r&&r.getChild("TagName");return i?e.sliceString(i.from,Math.min(i.to,n)):""}function H(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.parent;n;n=n.parent)if("Element"==n.name){if(!t)return n;t=!1}return null}function G(e,t){var n=B[U(e,H(t,!0))];return(null===n||void 0===n?void 0:n.children)||$}function q(e,t){for(var n=[],r=t;r=H(r);){var i=U(e,r);if(i&&"CloseTag"==r.lastChild.name)break;i&&n.indexOf(i)<0&&("EndTag"==t.name||t.from>=r.firstChild.to)&&n.push(i)}return n}var X=/^[:\-\.\w\u00b7-\uffff]+$/;function Y(e,t,n,r){var i=/\s*>/.test(e.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:G(e.doc,t).map((function(e){return{label:e,type:"type"}})).concat(q(e.doc,t).map((function(e,t){return{label:"/"+e,apply:"/"+e+i,type:"type",boost:99-t}}))),span:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function J(e,t,n,r){var i=/\s*>/.test(e.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:q(e.doc,t).map((function(e,t){return{label:e,apply:e+i,type:"type",boost:99-t}})),span:X}}function K(e){for(var t,n=e.state,i=e.pos,o=(0,Q.qz)(n).resolveInner(i),a=o.resolve(i,-1),s=i;o==a&&(t=a.childBefore(s));){var u=t.lastChild;if(!u||!u.type.isError||u.from<u.to)break;o=a=t,s=u.from}return"TagName"==a.name?a.parent&&/CloseTag$/.test(a.parent.name)?J(n,a,a.from,i):Y(n,a,a.from,i):"StartTag"==a.name?Y(n,a,i,i):"StartCloseTag"==a.name||"IncompleteCloseTag"==a.name?J(n,a,i,i):e.explicit&&("OpenTag"==a.name||"SelfClosingTag"==a.name)||"AttributeName"==a.name?function(e,t,n,r){var i=H(t),o=i?B[U(e.doc,i)]:null;return{from:n,to:r,options:(o&&o.attrs?Object.keys(o.attrs).concat(V):V).map((function(e){return{label:e,type:"property"}})),span:X}}(n,a,"AttributeName"==a.name?a.from:i,i):"Is"==a.name||"AttributeValue"==a.name||"UnquotedAttributeValue"==a.name?function(e,t,n,i){var o,a=null===(o=t.parent)||void 0===o?void 0:o.getChild("AttributeName"),s=[],u=void 0;if(a){var l=e.sliceDoc(a.from,a.to),c=F[l];if(!c){var h=H(t),f=h?B[U(e.doc,h)]:null;c=(null===f||void 0===f?void 0:f.attrs)&&f.attrs[l]}if(c){var d=e.sliceDoc(n,i).toLowerCase(),p='"',v='"';/^['"]/.test(d)?(u='"'==d[0]?/^[^"]*$/:/^[^']*$/,p="",v=e.sliceDoc(i,i+1)==d[0]?"":d[0],d=d.slice(1),n++):u=/^[^\s<>='"]*$/;var m,g=(0,r.Z)(c);try{for(g.s();!(m=g.n()).done;){var y=m.value;s.push({label:y,apply:p+y+v,type:"constant"})}}catch(b){g.e(b)}finally{g.f()}}}return{from:n,to:i,options:s,span:u}}(n,a,"Is"==a.name?i:a.from,i):!e.explicit||"Element"!=o.name&&"Text"!=o.name&&"Document"!=o.name?null:function(e,t,n){var i,o=[],a=0,s=(0,r.Z)(G(e.doc,t));try{for(s.s();!(i=s.n()).done;){var u=i.value;o.push({label:"<"+u,type:"type"})}}catch(f){s.e(f)}finally{s.f()}var l,c=(0,r.Z)(q(e.doc,t));try{for(c.s();!(l=c.n()).done;){var h=l.value;o.push({label:"</"+h+">",type:"type",boost:99-a++})}}catch(f){c.e(f)}finally{c.f()}return{from:n,to:n,options:o,span:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}(n,a,i)}var ee=Q.qp.define({parser:T.configure({props:[Q.uj.add({Element:function(e){var t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag":function(e){return e.column(e.node.from)+e.unit},Document:function(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();for(var t,n=null,r=e.node;;){var i=r.lastChild;if(!i||"Element"!=i.name||i.to!=r.to)break;n=r=i}return n&&(!(t=n.lastChild)||"CloseTag"!=t.name&&"SelfClosingTag"!=t.name)?e.lineIndent(n.from)+e.unit:null}}),Q.x0.add({Element:function(e){var t=e.firstChild,n=e.lastChild;return t&&"OpenTag"==t.name?{from:t.to,to:"CloseTag"==n.name?n.from:e.to}:null}}),(0,D.Gv)({"Text RawText":D.pJ.content,"StartTag StartCloseTag SelfCloserEndTag EndTag SelfCloseEndTag":D.pJ.angleBracket,TagName:D.pJ.tagName,"MismatchedCloseTag/TagName":[D.pJ.tagName,D.pJ.invalid],AttributeName:D.pJ.attributeName,"AttributeValue UnquotedAttributeValue":D.pJ.attributeValue,Is:D.pJ.definitionOperator,"EntityReference CharacterReference":D.pJ.character,Comment:D.pJ.blockComment,ProcessingInst:D.pJ.processingInstruction,DoctypeDecl:D.pJ.documentMeta})],wrap:P([{tag:"script",attrs:function(e){return!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type)},parser:A.javascriptLanguage.parser},{tag:"style",attrs:function(e){return(!e.lang||"css"==e.lang)&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type))},parser:C.cssLanguage.parser}])}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),te=ee.data.of({autocomplete:K});function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ee;return!1===e.matchClosingTags&&(t=t.configure({dialect:"noMatch"})),new Q.ri(t,[te,!1!==e.autoCloseTags?re:[],(0,A.javascript)().support,(0,C.css)().support])}var re=R.tk.inputHandler.of((function(e,t,n,r){if(e.composing||e.state.readOnly||t!=n||">"!=r&&"/"!=r||!ee.isActiveAt(e.state,t,-1))return!1;var i=e.state,o=i.changeByRange((function(e){var t,n,o,a,s=e.head,u=(0,Q.qz)(i).resolveInner(s,-1);if("TagName"!=u.name&&"StartTag"!=u.name||(u=u.parent),">"==r&&"OpenTag"==u.name){if("CloseTag"!=(null===(n=null===(t=u.parent)||void 0===t?void 0:t.lastChild)||void 0===n?void 0:n.name)&&(a=U(i.doc,u.parent,s)))return{range:L.jT.cursor(s+1),changes:{from:s,insert:"></".concat(a,">")}}}else if("/"==r&&"OpenTag"==u.name){var l=u.parent,c=null===l||void 0===l?void 0:l.parent;if(l.from==s-1&&"CloseTag"!=(null===(o=c.lastChild)||void 0===o?void 0:o.name)&&(a=U(i.doc,c,s))){var h="/".concat(a,">");return{range:L.jT.cursor(s+h.length),changes:{from:s,insert:h}}}}return{range:e}}));return!o.changes.empty&&(e.dispatch(o,{userEvent:"input.type",scrollIntoView:!0}),!0)}))},9211:function(e,t,n){"use strict";n.r(t),n.d(t,{esLint:function(){return T},javascript:function(){return _},javascriptLanguage:function(){return x},jsxLanguage:function(){return k},snippets:function(){return O},tsxLanguage:function(){return S},typescriptLanguage:function(){return w}});var r=n(7762),i=n(3242),o=n(4499),a=276,s=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],u=new i.IK({start:!1,shift:function(e,t){return 4==t||5==t||281==t?e:282==t},strict:!1}),l=new i.Jq((function(e,t){var n=e.next;(125==n||-1==n||t.context)&&t.canShift(279)&&e.acceptToken(279)}),{contextual:!0,fallback:!0}),c=new i.Jq((function(e,t){var n,r=e.next;s.indexOf(r)>-1||(47!=r||47!=(n=e.peek(1))&&42!=n)&&125!=r&&59!=r&&-1!=r&&!t.context&&t.canShift(275)&&e.acceptToken(275)}),{contextual:!0}),h=new i.Jq((function(e,t){var n=e.next;if((43==n||45==n)&&(e.advance(),n==e.next)){e.advance();var r=!t.context&&t.canShift(1);e.acceptToken(r?1:2)}}),{contextual:!0}),f=new i.Jq((function(e){for(var t=!1,n=0;;n++){var r=e.next;if(r<0){n&&e.acceptToken(a);break}if(96==r){n?e.acceptToken(a):e.acceptToken(278,1);break}if(123==r&&t){1==n?e.acceptToken(277,1):e.acceptToken(a,-1);break}if(10==r&&n){e.advance(),e.acceptToken(a);break}92==r&&e.advance(),t=36==r,e.advance()}}));var d={__proto__:null,export:16,as:21,from:25,default:30,async:35,function:36,this:46,true:54,false:54,void:60,typeof:64,null:78,super:80,new:114,await:131,yield:133,delete:134,class:144,extends:146,public:189,private:189,protected:189,readonly:191,instanceof:212,in:214,const:216,import:248,keyof:299,unique:303,infer:309,is:343,abstract:363,implements:365,type:367,let:370,var:372,interface:379,enum:383,namespace:389,module:391,declare:395,global:399,for:420,of:429,while:432,with:436,do:440,if:444,else:446,switch:450,case:456,try:462,catch:464,finally:466,return:470,throw:474,break:478,continue:482,debugger:486},p={__proto__:null,async:101,get:103,set:105,public:153,private:153,protected:153,static:155,abstract:157,override:159,readonly:165,new:347},v={__proto__:null,"<":121},m=i.WQ.deserialize({version:13,states:"$1WO`QYOOO'QQ!LdO'#CgO'XOSO'#DSO)dQYO'#DXO)tQYO'#DdO){QYO'#DnO-xQYO'#DtOOQO'#EX'#EXO.]QWO'#EWO.bQWO'#EWOOQ!LS'#Eb'#EbO0aQ!LdO'#IqO2wQ!LdO'#IrO3eQWO'#EvO3jQpO'#F]OOQ!LS'#FO'#FOO3rO!bO'#FOO4QQWO'#FdO5_QWO'#FcOOQ!LS'#Ir'#IrOOQ!LQ'#Iq'#IqOOQQ'#J['#J[O5dQWO'#HjO5iQ!LYO'#HkOOQQ'#Ic'#IcOOQQ'#Hl'#HlQ`QYOOO){QYO'#DfO5qQWO'#GWO5vQ#tO'#ClO6UQWO'#EVO6aQWO'#EcO6fQ#tO'#E}O7QQWO'#GWO7VQWO'#G[O7bQWO'#G[O7pQWO'#G_O7pQWO'#G`O7pQWO'#GbO5qQWO'#GeO8aQWO'#GhO9oQWO'#CcO:PQWO'#GuO:XQWO'#G{O:XQWO'#G}O`QYO'#HPO:XQWO'#HRO:XQWO'#HUO:^QWO'#H[O:cQ!LZO'#H`O){QYO'#HbO:nQ!LZO'#HdO:yQ!LZO'#HfO5iQ!LYO'#HhO){QYO'#IsOOOS'#Hn'#HnO;UOSO,59nOOQ!LS,59n,59nO=gQbO'#CgO=qQYO'#HoO>OQWO'#ItO?}QbO'#ItO'dQYO'#ItO@UQWO,59sO@lQ&jO'#D^OAeQWO'#EXOArQWO'#JPOA}QWO'#JOOBVQWO,5:uOB[QWO'#I}OBcQWO'#DuO5vQ#tO'#EVOBqQWO'#EVOB|Q`O'#E}OOQ!LS,5:O,5:OOCUQYO,5:OOESQ!LdO,5:YOEpQWO,5:`OFZQ!LYO'#I|O7VQWO'#I{OFbQWO'#I{OFjQWO,5:tOFoQWO'#I{OF}QYO,5:rOH}QWO'#ESOJXQWO,5:rOKhQWO'#DhOKoQYO'#DmOKyQ&jO,5:{O){QYO,5:{OOQQ'#En'#EnOOQQ'#Ep'#EpO){QYO,5:}O){QYO,5:}O){QYO,5:}O){QYO,5:}O){QYO,5:}O){QYO,5:}O){QYO,5:}O){QYO,5:}O){QYO,5:}O){QYO,5:}O){QYO,5:}OOQQ'#Et'#EtOLRQYO,5;_OOQ!LS,5;d,5;dOOQ!LS,5;e,5;eONRQWO,5;eOOQ!LS,5;f,5;fO){QYO'#HyONWQ!LYO,5<PONrQWO,5:}O){QYO,5;bO! [QpO'#JTONyQpO'#JTO! cQpO'#JTO! tQpO,5;mOOOO,5;w,5;wO!!SQYO'#F_OOOO'#Hx'#HxO3rO!bO,5;jO!!ZQpO'#FaOOQ!LS,5;j,5;jO!!wQ,UO'#CqOOQ!LS'#Ct'#CtO!#[QWO'#CtO!#aOSO'#CxO!#}Q#tO,5;|O!$UQWO,5<OO!%bQWO'#FnO!%oQWO'#FoO!%tQWO'#FsO!&vQ&jO'#FwO!'iQ,UO'#IlOOQ!LS'#Il'#IlO!'sQWO'#IkO!(RQWO'#IjOOQ!LS'#Cr'#CrOOQ!LS'#Cy'#CyO!(ZQWO'#C{OJ^QWO'#FfOJ^QWO'#FhO!(`QWO'#FjO!(eQWO'#FkO!(jQWO'#FqOJ^QWO'#FvO!(oQWO'#EYO!)WQWO,5;}O`QYO,5>UOOQQ'#If'#IfOOQQ,5>V,5>VOOQQ-E;j-E;jO!+SQ!LdO,5:QOOQ!LQ'#Co'#CoO!+sQ#tO,5<rOOQO'#Ce'#CeO!,UQWO'#CpO!,^Q!LYO'#IgO5_QWO'#IgO:^QWO,59WO!,lQpO,59WO!,tQ#tO,59WO5vQ#tO,59WO!-PQWO,5:rO!-XQWO'#GtO!-dQWO'#J`O){QYO,5;gO!-lQ&jO,5;iO!-qQWO,5=_O!-vQWO,5=_O!-{QWO,5=_O5iQ!LYO,5=_O5qQWO,5<rO!.ZQWO'#EZO!.lQ&jO'#E[OOQ!LQ'#I}'#I}O!.}Q!LYO'#J]O5iQ!LYO,5<vO7pQWO,5<|OOQO'#Cq'#CqO!/YQpO,5<yO!/bQ#tO,5<zO!/mQWO,5<|O!/rQ`O,5=PO:^QWO'#GjO5qQWO'#GlO!/zQWO'#GlO5vQ#tO'#GoO!0PQWO'#GoOOQQ,5=S,5=SO!0UQWO'#GpO!0^QWO'#ClO!0cQWO,58}O!0mQWO,58}O!2oQYO,58}OOQQ,58},58}O!2|Q!LYO,58}O){QYO,58}O!3XQYO'#GwOOQQ'#Gx'#GxOOQQ'#Gy'#GyO`QYO,5=aO!3iQWO,5=aO){QYO'#DtO`QYO,5=gO`QYO,5=iO!3nQWO,5=kO`QYO,5=mO!3sQWO,5=pO!3xQYO,5=vOOQQ,5=z,5=zO){QYO,5=zO5iQ!LYO,5=|OOQQ,5>O,5>OO!7yQWO,5>OOOQQ,5>Q,5>QO!7yQWO,5>QOOQQ,5>S,5>SO!8OQ`O,5?_OOOS-E;l-E;lOOQ!LS1G/Y1G/YO!8TQbO,5>ZO){QYO,5>ZOOQO-E;m-E;mO!8_QWO,5?`O!8gQbO,5?`O!8nQWO,5?jOOQ!LS1G/_1G/_O!8vQpO'#DQOOQO'#Iv'#IvO){QYO'#IvO!9eQpO'#IvO!:SQpO'#D_O!:eQ&jO'#D_O!<pQYO'#D_O!<wQWO'#IuO!=PQWO,59xO!=UQWO'#E]O!=dQWO'#JQO!=lQWO,5:vO!>SQ&jO'#D_O){QYO,5?kO!>^QWO'#HtO!8nQWO,5?jOOQ!LQ1G0a1G0aO!?jQ&jO'#DxOOQ!LS,5:a,5:aO){QYO,5:aOH}QWO,5:aO!?qQWO,5:aO:^QWO,5:qO!,lQpO,5:qO!,tQ#tO,5:qO5vQ#tO,5:qOOQ!LS1G/j1G/jOOQ!LS1G/z1G/zOOQ!LQ'#ER'#ERO){QYO,5?hO!?|Q!LYO,5?hO!@_Q!LYO,5?hO!@fQWO,5?gO!@nQWO'#HvO!@fQWO,5?gOOQ!LQ1G0`1G0`O7VQWO,5?gOOQ!LS1G0^1G0^O!AYQ!LdO1G0^O!AyQ!LbO,5:nOOQ!LS'#Fm'#FmO!BgQ!LdO'#IlOF}QYO1G0^O!DfQ#tO'#IwO!DpQWO,5:SO!DuQbO'#IxO){QYO'#IxO!EPQWO,5:XOOQ!LS'#DQ'#DQOOQ!LS1G0g1G0gO!EUQWO1G0gO!GgQ!LdO1G0iO!GnQ!LdO1G0iO!JRQ!LdO1G0iO!JYQ!LdO1G0iO!LaQ!LdO1G0iO!LtQ!LdO1G0iO# eQ!LdO1G0iO# lQ!LdO1G0iO#$PQ!LdO1G0iO#$WQ!LdO1G0iO#%{Q!LdO1G0iO#(uQ7^O'#CgO#*pQ7^O1G0yO#,kQ7^O'#IrOOQ!LS1G1P1G1PO#-OQ!LdO,5>eOOQ!LQ-E;w-E;wO#-oQ!LdO1G0iOOQ!LS1G0i1G0iO#/qQ!LdO1G0|O#0bQpO,5;oO#0gQpO,5;pO#0lQpO'#FWO#1QQWO'#FVOOQO'#JU'#JUOOQO'#Hw'#HwO#1VQpO1G1XOOQ!LS1G1X1G1XOOOO1G1b1G1bO#1eQ7^O'#IqO#1oQWO,5;yOLRQYO,5;yOOOO-E;v-E;vOOQ!LS1G1U1G1UOOQ!LS,5;{,5;{O#1tQpO,5;{OOQ!LS,59`,59`OH}QWO'#InOOOS'#Hm'#HmO#1yOSO,59dOOQ!LS,59d,59dO){QYO1G1hO!(eQWO'#H{O#2UQWO,5<aOOQ!LS,5<^,5<^OOQO'#GR'#GROJ^QWO,5<lOOQO'#GT'#GTOJ^QWO,5<nOJ^QWO,5<pOOQO1G1j1G1jO#2aQ`O'#CoO#2tQ`O,5<YO#2{QWO'#JXO5qQWO'#JXO#3ZQWO,5<[OJ^QWO,5<ZO#3`Q`O'#FmO#3mQ`O'#JYO#3wQWO'#JYOH}QWO'#JYO#3|QWO,5<_OOQ!LQ'#Dc'#DcO#4RQWO'#FpO#4^QpO'#FxO!&qQ&jO'#FxO!&qQ&jO'#FzO#4oQWO'#F{O!(jQWO'#GOOOQO'#H}'#H}O#4tQ&jO,5<cOOQ!LS,5<c,5<cO#4{Q&jO'#FxO#5ZQ&jO'#FyO#5cQ&jO'#FyOOQ!LS,5<q,5<qOJ^QWO,5?VOJ^QWO,5?VO#5hQWO'#IOO#5sQWO,5?UOOQ!LS'#Cg'#CgO#6gQ#tO,59gOOQ!LS,59g,59gO#7YQ#tO,5<QO#7{Q#tO,5<SO#8VQWO,5<UOOQ!LS,5<V,5<VO#8[QWO,5<]O#8aQ#tO,5<bOF}QYO1G1iO#8qQWO1G1iOOQQ1G3p1G3pOOQ!LS1G/l1G/lONRQWO1G/lOOQQ1G2^1G2^OH}QWO1G2^O){QYO1G2^OH}QWO1G2^O#8vQWO1G2^O#9UQWO,59[O#:_QWO'#ESOOQ!LQ,5?R,5?RO#:iQ!LYO,5?ROOQQ1G.r1G.rO:^QWO1G.rO!,lQpO1G.rO!,tQ#tO1G.rO#:wQWO1G0^O#:|QWO'#CgO#;XQWO'#JaO#;aQWO,5=`O#;fQWO'#JaO#;kQWO'#JaO#;pQWO'#IWO#<OQWO,5?zO#<WQbO1G1ROOQ!LS1G1T1G1TO5qQWO1G2yO#<_QWO1G2yO#<dQWO1G2yO#<iQWO1G2yOOQQ1G2y1G2yO#<nQ#tO1G2^O7VQWO'#JOO7VQWO'#E]O7VQWO'#IQO#=PQ!LYO,5?wOOQQ1G2b1G2bO!/mQWO1G2hOH}QWO1G2eO#=[QWO1G2eOOQQ1G2f1G2fOH}QWO1G2fO#=aQWO1G2fO#=iQ&jO'#GdOOQQ1G2h1G2hO!&qQ&jO'#ISO!/rQ`O1G2kOOQQ1G2k1G2kOOQQ,5=U,5=UO#=qQ#tO,5=WO5qQWO,5=WO#4oQWO,5=ZO5_QWO,5=ZO!,lQpO,5=ZO!,tQ#tO,5=ZO5vQ#tO,5=ZO#>SQWO'#J_O#>_QWO,5=[OOQQ1G.i1G.iO#>dQ!LYO1G.iO#>oQWO1G.iO!(ZQWO1G.iO5iQ!LYO1G.iO#>tQbO,5?|O#?OQWO,5?|O#?ZQYO,5=cO#?bQWO,5=cO7VQWO,5?|OOQQ1G2{1G2{O`QYO1G2{OOQQ1G3R1G3ROOQQ1G3T1G3TO:XQWO1G3VO#?gQYO1G3XO#CbQYO'#HWOOQQ1G3[1G3[O:^QWO1G3bO#CoQWO1G3bO5iQ!LYO1G3fOOQQ1G3h1G3hOOQ!LQ'#Ft'#FtO5iQ!LYO1G3jO5iQ!LYO1G3lOOOS1G4y1G4yO#CwQ`O,5<PO#DPQbO1G3uO#DZQWO1G4zO#DcQWO1G5UO#DkQWO,5?bOLRQYO,5:wO7VQWO,5:wO:^QWO,59yOLRQYO,59yO!,lQpO,59yO#DpQ7^O,59yOOQO,5:w,5:wO#DzQ&jO'#HpO#EbQWO,5?aOOQ!LS1G/d1G/dO#EjQ&jO'#HuO#FOQWO,5?lOOQ!LQ1G0b1G0bO!:eQ&jO,59yO#FWQbO1G5VOOQO,5>`,5>`O7VQWO,5>`OOQO-E;r-E;rOOQ!LQ'#EO'#EOO#FbQ!LrO'#EPO!?bQ&jO'#DyOOQO'#Hs'#HsO#F|Q&jO,5:dOOQ!LS,5:d,5:dO#GTQ&jO'#DyO#GfQ&jO'#DyO#GmQ&jO'#EUO#GpQ&jO'#EPO#G}Q&jO'#EPO!?bQ&jO'#EPO#HbQWO1G/{O#HgQ`O1G/{OOQ!LS1G/{1G/{O){QYO1G/{OH}QWO1G/{OOQ!LS1G0]1G0]O:^QWO1G0]O!,lQpO1G0]O!,tQ#tO1G0]O#HnQ!LdO1G5SO){QYO1G5SO#IOQ!LYO1G5SO#IaQWO1G5RO7VQWO,5>bOOQO,5>b,5>bO#IiQWO,5>bOOQO-E;t-E;tO#IaQWO1G5RO#IwQ!LdO,59gO#KvQ!LdO,5<QO#MxQ!LdO,5<SO$ zQ!LdO,5<bOOQ!LS7+%x7+%xO$$SQ!LdO7+%xO$$sQWO'#HqO$$}QWO,5?cOOQ!LS1G/n1G/nO$%VQYO'#HrO$%dQWO,5?dO$%lQbO,5?dOOQ!LS1G/s1G/sOOQ!LS7+&R7+&RO$%vQ7^O,5:YO){QYO7+&eO$&QQ7^O,5:QOOQO1G1Z1G1ZOOQO1G1[1G1[O$&_QMhO,5;rOLRQYO,5;qOOQO-E;u-E;uOOQ!LS7+&s7+&sOOOO7+&|7+&|OOOO1G1e1G1eO$&jQWO1G1eOOQ!LS1G1g1G1gO$&oQ`O,5?YOOOS-E;k-E;kOOQ!LS1G/O1G/OO$&vQ!LdO7+'SOOQ!LS,5>g,5>gO$'gQWO,5>gOOQ!LS1G1{1G1{P$'lQWO'#H{POQ!LS-E;y-E;yO$(]Q#tO1G2WO$)OQ#tO1G2YO$)YQ#tO1G2[OOQ!LS1G1t1G1tO$)aQWO'#HzO$)oQWO,5?sO$)oQWO,5?sO$)wQWO,5?sO$*SQWO,5?sOOQO1G1v1G1vO$*bQ#tO1G1uO$*rQWO'#H|O$+SQWO,5?tOH}QWO,5?tO$+[Q`O,5?tOOQ!LS1G1y1G1yO5iQ!LYO,5<dO5iQ!LYO,5<eO$+fQWO,5<eO#4jQWO,5<eO!,lQpO,5<dO$+kQWO,5<fO5iQ!LYO,5<gO$+fQWO,5<jOOQO-E;{-E;{OOQ!LS1G1}1G1}O!&qQ&jO,5<dO$+sQWO,5<eO!&qQ&jO,5<fO!&qQ&jO,5<eO$,OQ#tO1G4qO$,YQ#tO1G4qOOQO,5>j,5>jOOQO-E;|-E;|O!-lQ&jO,59iO){QYO,59iO$,gQWO1G1pOJ^QWO1G1wO$,lQ!LdO7+'TOOQ!LS7+'T7+'TOF}QYO7+'TOOQ!LS7+%W7+%WO$-]Q`O'#JZO#HbQWO7+'xO$-gQWO7+'xO$-oQ`O7+'xOOQQ7+'x7+'xOH}QWO7+'xO){QYO7+'xOH}QWO7+'xOOQO1G.v1G.vO$-yQ!LbO'#CgO$.ZQ!LbO,5<hO$.xQWO,5<hOOQ!LQ1G4m1G4mOOQQ7+$^7+$^O:^QWO7+$^O!,lQpO7+$^OF}QYO7+%xO$.}QWO'#IVO$/]QWO,5?{OOQO1G2z1G2zO5qQWO,5?{O$/]QWO,5?{O$/eQWO,5?{OOQO,5>r,5>rOOQO-E<U-E<UOOQ!LS7+&m7+&mO$/jQWO7+(eO5iQ!LYO7+(eO5qQWO7+(eO$/oQWO7+(eO$/tQWO7+'xOOQ!LQ,5>l,5>lOOQ!LQ-E<O-E<OOOQQ7+(S7+(SO$0SQ!LbO7+(POH}QWO7+(PO$0^Q`O7+(QOOQQ7+(Q7+(QOH}QWO7+(QO$0eQWO'#J^O$0pQWO,5=OOOQO,5>n,5>nOOQO-E<Q-E<QOOQQ7+(V7+(VO$1jQ&jO'#GmOOQQ1G2r1G2rOH}QWO1G2rO){QYO1G2rOH}QWO1G2rO$1qQWO1G2rO$2PQ#tO1G2rO5iQ!LYO1G2uO#4oQWO1G2uO5_QWO1G2uO!,lQpO1G2uO!,tQ#tO1G2uO$2bQWO'#IUO$2mQWO,5?yO$2uQ&jO,5?yOOQ!LQ1G2v1G2vOOQQ7+$T7+$TO$2zQWO7+$TO5iQ!LYO7+$TO$3PQWO7+$TO){QYO1G5hO){QYO1G5iO$3UQYO1G2}O$3]QWO1G2}O$3bQYO1G2}O$3iQ!LYO1G5hOOQQ7+(g7+(gO5iQ!LYO7+(qO`QYO7+(sOOQQ'#Jd'#JdOOQQ'#IX'#IXO$3sQYO,5=rOOQQ,5=r,5=rO){QYO'#HXO$4QQWO'#HZOOQQ7+(|7+(|O$4VQYO7+(|O7VQWO7+(|OOQQ7+)Q7+)QOOQQ7+)U7+)UOOQQ7+)W7+)WOOQO1G4|1G4|O$8TQ7^O1G0cO$8_QWO1G0cOOQO1G/e1G/eO$8jQ7^O1G/eO:^QWO1G/eOLRQYO'#D_OOQO,5>[,5>[OOQO-E;n-E;nOOQO,5>a,5>aOOQO-E;s-E;sO!,lQpO1G/eOOQO1G3z1G3zO:^QWO,5:eOOQO,5:k,5:kO){QYO,5:kO$8tQ!LYO,5:kO$9PQ!LYO,5:kO!,lQpO,5:eOOQO-E;q-E;qOOQ!LS1G0O1G0OO!?bQ&jO,5:eO$9_Q&jO,5:eO$9pQ!LrO,5:kO$:[Q&jO,5:eO!?bQ&jO,5:kOOQO,5:p,5:pO$:cQ&jO,5:kO$:pQ!LYO,5:kOOQ!LS7+%g7+%gO#HbQWO7+%gO#HgQ`O7+%gOOQ!LS7+%w7+%wO:^QWO7+%wO!,lQpO7+%wO$;UQ!LdO7+*nO){QYO7+*nOOQO1G3|1G3|O7VQWO1G3|O$;fQWO7+*mO$;nQ!LdO1G2WO$=pQ!LdO1G2YO$?rQ!LdO1G1uO$AzQ#tO,5>]OOQO-E;o-E;oO$BUQbO,5>^O){QYO,5>^OOQO-E;p-E;pO$B`QWO1G5OO$BhQ7^O1G0^O$DoQ7^O1G0iO$DvQ7^O1G0iO$FwQ7^O1G0iO$GOQ7^O1G0iO$HsQ7^O1G0iO$IWQ7^O1G0iO$KeQ7^O1G0iO$KlQ7^O1G0iO$MmQ7^O1G0iO$MtQ7^O1G0iO% iQ7^O1G0iO% |Q!LdO<<JPO%!mQ7^O1G0iO%$]Q7^O'#IlO%&YQ7^O1G0|OLRQYO'#FYOOQO'#JV'#JVOOQO1G1^1G1^O%&gQWO1G1]O%&lQ7^O,5>eOOOO7+'P7+'POOOS1G4t1G4tOOQ!LS1G4R1G4ROJ^QWO7+'vO%&vQWO,5>fO5qQWO,5>fOOQO-E;x-E;xO%'UQWO1G5_O%'UQWO1G5_O%'^QWO1G5_O%'iQ`O,5>hO%'sQWO,5>hOH}QWO,5>hOOQO-E;z-E;zO%'xQ`O1G5`O%(SQWO1G5`OOQO1G2O1G2OOOQO1G2P1G2PO5iQ!LYO1G2PO$+fQWO1G2PO5iQ!LYO1G2OO%([QWO1G2QOH}QWO1G2QOOQO1G2R1G2RO5iQ!LYO1G2UO!,lQpO1G2OO#4jQWO1G2PO%(aQWO1G2QO%(iQWO1G2POJ^QWO7+*]OOQ!LS1G/T1G/TO%(tQWO1G/TOOQ!LS7+'[7+'[O%(yQ#tO7+'cO%)ZQ!LdO<<JoOOQ!LS<<Jo<<JoOH}QWO'#IPO%)zQWO,5?uOOQQ<<Kd<<KdOH}QWO<<KdO#HbQWO<<KdO%*SQWO<<KdO%*[Q`O<<KdOH}QWO1G2SOOQQ<<Gx<<GxO:^QWO<<GxO%*fQ!LdO<<IdOOQ!LS<<Id<<IdOOQO,5>q,5>qO%+VQWO,5>qO#;kQWO,5>qOOQO-E<T-E<TO%+[QWO1G5gO%+[QWO1G5gO5qQWO1G5gO%+dQWO<<LPOOQQ<<LP<<LPO%+iQWO<<LPO5iQ!LYO<<LPO){QYO<<KdOH}QWO<<KdOOQQ<<Kk<<KkO$0SQ!LbO<<KkOOQQ<<Kl<<KlO$0^Q`O<<KlO%+nQ&jO'#IRO%+yQWO,5?xOLRQYO,5?xOOQQ1G2j1G2jO#FbQ!LrO'#EPO!?bQ&jO'#GnOOQO'#IT'#ITO%,RQ&jO,5=XOOQQ,5=X,5=XO%,YQ&jO'#EPO%,eQ&jO'#EPO%,|Q&jO'#EPO%-WQ&jO'#GnO%-iQWO7+(^O%-nQWO7+(^O%-vQ`O7+(^OOQQ7+(^7+(^OH}QWO7+(^O){QYO7+(^OH}QWO7+(^O%.QQWO7+(^OOQQ7+(a7+(aO5iQ!LYO7+(aO#4oQWO7+(aO5_QWO7+(aO!,lQpO7+(aO%.`QWO,5>pOOQO-E<S-E<SOOQO'#Gq'#GqO%.kQWO1G5eO5iQ!LYO<<GoOOQQ<<Go<<GoO%.sQWO<<GoO%.xQWO7++SO%.}QWO7++TOOQQ7+(i7+(iO%/SQWO7+(iO%/XQYO7+(iO%/`QWO7+(iO){QYO7++SO){QYO7++TOOQQ<<L]<<L]OOQQ<<L_<<L_OOQQ-E<V-E<VOOQQ1G3^1G3^O%/eQWO,5=sOOQQ,5=u,5=uO:^QWO<<LhO%/jQWO<<LhOLRQYO7+%}OOQO7+%P7+%PO%/oQ7^O1G5VO:^QWO7+%POOQO1G0P1G0PO%/yQ!LdO1G0VOOQO1G0V1G0VO){QYO1G0VO%0TQ!LYO1G0VO:^QWO1G0PO!,lQpO1G0PO!?bQ&jO1G0PO%0`Q!LYO1G0VO%0nQ&jO1G0PO%1PQ!LYO1G0VO%1eQ!LrO1G0VO%1oQ&jO1G0PO!?bQ&jO1G0VOOQ!LS<<IR<<IROOQ!LS<<Ic<<IcO:^QWO<<IcO%1vQ!LdO<<NYOOQO7+)h7+)hO%2WQ!LdO7+'cO%4`QbO1G3xO%4jQ7^O7+%xO%4wQ7^O,59gO%6tQ7^O,5<QO%8qQ7^O,5<SO%:nQ7^O,5<bO%<^Q7^O7+'SO%<kQ7^O7+'TO%<xQWO,5;tOOQO7+&w7+&wO%<}Q#tO<<KbOOQO1G4Q1G4QO%=_QWO1G4QO%=jQWO1G4QO%=xQWO7+*yO%=xQWO7+*yOH}QWO1G4SO%>QQ`O1G4SO%>[QWO7+*zOOQO7+'k7+'kO5iQ!LYO7+'kOOQO7+'j7+'jO$+fQWO7+'lO%>dQ`O7+'lOOQO7+'p7+'pO5iQ!LYO7+'jO$+fQWO7+'kO%>kQWO7+'lOH}QWO7+'lO#4jQWO7+'kO%>pQ#tO<<MwOOQ!LS7+$o7+$oO%>zQ`O,5>kOOQO-E;}-E;}O#HbQWOANAOOOQQANAOANAOOH}QWOANAOO%?UQ!LbO7+'nOOQQAN=dAN=dO5qQWO1G4]OOQO1G4]1G4]O%?cQWO1G4]O%?hQWO7++RO%?hQWO7++RO5iQ!LYOANAkO%?pQWOANAkOOQQANAkANAkO%?uQWOANAOO%?}Q`OANAOOOQQANAVANAVOOQQANAWANAWO%@XQWO,5>mOOQO-E<P-E<PO%@dQ7^O1G5dO#4oQWO,5=YO5_QWO,5=YO!,lQpO,5=YOOQO-E<R-E<ROOQQ1G2s1G2sO$9pQ!LrO,5:kO!?bQ&jO,5=YO%@nQ&jO,5=YO%APQ&jO,5:kOOQQ<<Kx<<KxOH}QWO<<KxO%-iQWO<<KxO%AZQWO<<KxO%AcQ`O<<KxO){QYO<<KxOH}QWO<<KxOOQQ<<K{<<K{O5iQ!LYO<<K{O#4oQWO<<K{O5_QWO<<K{O%AmQ&jO1G4[O%ArQWO7++POOQQAN=ZAN=ZO5iQ!LYOAN=ZOOQQ<<Nn<<NnOOQQ<<No<<NoOOQQ<<LT<<LTO%AzQWO<<LTO%BPQYO<<LTO%BWQWO<<NnO%B]QWO<<NoOOQQ1G3_1G3_OOQQANBSANBSO:^QWOANBSO%BbQ7^O<<IiOOQO<<Hk<<HkOOQO7+%q7+%qO%/yQ!LdO7+%qO){QYO7+%qOOQO7+%k7+%kO:^QWO7+%kO!,lQpO7+%kO%BlQ!LYO7+%qO!?bQ&jO7+%kO%BwQ!LYO7+%qO%CVQ&jO7+%kO%ChQ!LYO7+%qOOQ!LSAN>}AN>}O%C|Q!LdO<<KbO%FUQ7^O<<JPO%FcQ7^O1G1uO%HRQ7^O1G2WO%JOQ7^O1G2YO%K{Q7^O<<JoO%LYQ7^O<<IdOOQO1G1`1G1`OOQO7+)l7+)lO%LgQWO7+)lO%LrQWO<<NeO%LzQ`O7+)nOOQO<<KV<<KVO5iQ!LYO<<KWO$+fQWO<<KWOOQO<<KU<<KUO5iQ!LYO<<KVO%MUQ`O<<KWO$+fQWO<<KVOOQQG26jG26jO#HbQWOG26jOOQO7+)w7+)wO5qQWO7+)wO%M]QWO<<NmOOQQG27VG27VO5iQ!LYOG27VOH}QWOG26jOLRQYO1G4XO%MeQWO7++OO5iQ!LYO1G2tO#4oQWO1G2tO5_QWO1G2tO!,lQpO1G2tO!?bQ&jO1G2tO%1eQ!LrO1G0VO%MmQ&jO1G2tO%-iQWOANAdOOQQANAdANAdOH}QWOANAdO%NOQWOANAdO%NWQ`OANAdOOQQANAgANAgO5iQ!LYOANAgO#4oQWOANAgOOQO'#Gr'#GrOOQO7+)v7+)vOOQQG22uG22uOOQQANAoANAoO%NbQWOANAoOOQQANDYANDYOOQQANDZANDZO%NgQYOG27nOOQO<<I]<<I]O%/yQ!LdO<<I]OOQO<<IV<<IVO:^QWO<<IVO){QYO<<I]O!,lQpO<<IVO&$eQ!LYO<<I]O!?bQ&jO<<IVO&$pQ!LYO<<I]O&%OQ7^O7+'cOOQO<<MW<<MWOOQOAN@rAN@rO5iQ!LYOAN@rOOQOAN@qAN@qO$+fQWOAN@rO5iQ!LYOAN@qOOQQLD,ULD,UOOQO<<Mc<<McOOQQLD,qLD,qO#HbQWOLD,UO&&nQ7^O7+)sOOQO7+(`7+(`O5iQ!LYO7+(`O#4oQWO7+(`O5_QWO7+(`O!,lQpO7+(`O!?bQ&jO7+(`OOQQG27OG27OO%-iQWOG27OOH}QWOG27OOOQQG27RG27RO5iQ!LYOG27ROOQQG27ZG27ZO:^QWOLD-YOOQOAN>wAN>wOOQOAN>qAN>qO%/yQ!LdOAN>wO:^QWOAN>qO){QYOAN>wO!,lQpOAN>qO&&xQ!LYOAN>wO&'TQ7^O<<KbOOQOG26^G26^O5iQ!LYOG26^OOQOG26]G26]OOQQ!$( p!$( pOOQO<<Kz<<KzO5iQ!LYO<<KzO#4oQWO<<KzO5_QWO<<KzO!,lQpO<<KzOOQQLD,jLD,jO%-iQWOLD,jOOQQLD,mLD,mOOQQ!$(!t!$(!tOOQOG24cG24cOOQOG24]G24]O%/yQ!LdOG24cO:^QWOG24]O){QYOG24cOOQOLD+xLD+xOOQOANAfANAfO5iQ!LYOANAfO#4oQWOANAfO5_QWOANAfOOQQ!$(!U!$(!UOOQOLD)}LD)}OOQOLD)wLD)wO%/yQ!LdOLD)}OOQOG27QG27QO5iQ!LYOG27QO#4oQWOG27QOOQO!$'Mi!$'MiOOQOLD,lLD,lO5iQ!LYOLD,lOOQO!$(!W!$(!WOLRQYO'#DnO&(sQbO'#IqOLRQYO'#DfO&(zQ!LdO'#CgO&)eQbO'#CgO&)uQYO,5:rOLRQYO,5:}OLRQYO,5:}OLRQYO,5:}OLRQYO,5:}OLRQYO,5:}OLRQYO,5:}OLRQYO,5:}OLRQYO,5:}OLRQYO,5:}OLRQYO,5:}OLRQYO,5:}OLRQYO'#HyO&+uQWO,5<PO&-XQWO,5:}OLRQYO,5;bO!(ZQWO'#C{O!(ZQWO'#C{OH}QWO'#FfO&+}QWO'#FfOH}QWO'#FhO&+}QWO'#FhOH}QWO'#FvO&+}QWO'#FvOLRQYO,5?kO&)uQYO1G0^O&-`Q7^O'#CgOLRQYO1G1hOH}QWO,5<lO&+}QWO,5<lOH}QWO,5<nO&+}QWO,5<nOH}QWO,5<ZO&+}QWO,5<ZO&)uQYO1G1iOLRQYO7+&eOH}QWO1G1wO&+}QWO1G1wO&)uQYO7+'TO&)uQYO7+%xOH}QWO7+'vO&+}QWO7+'vO&-jQWO'#EWO&-oQWO'#EWO&-wQWO'#EvO&-|QWO'#EcO&.RQWO'#JPO&.^QWO'#I}O&.iQWO,5:rO&.nQ#tO,5;|O&.uQWO'#FoO&.zQWO'#FoO&/PQWO,5;}O&/XQWO,5:rO&/aQ7^O1G0yO&/hQWO,5<]O&/mQWO,5<]O&/rQWO1G1iO&/wQWO1G0^O&/|Q#tO1G2[O&0TQ#tO1G2[O4QQWO'#FdO5_QWO'#FcOBqQWO'#EVOLRQYO,5;_O!(jQWO'#FqO!(jQWO'#FqOJ^QWO,5<pOJ^QWO,5<p",stateData:"&1Q~O'TOS'UOSSOSTOS~OPTOQTOWyO]cO^hOanObmOgcOiTOjcOkcOnTOpTOuROwcOxcOycO!PSO!ZkO!`UO!cTO!dTO!eTO!fTO!gTO!jlO#`sO#ppO#t^O${qO$}tO%PrO%QrO%TuO%VvO%YwO%ZwO%]xO%jzO%p{O%r|O%t}O%v!OO%y!PO&P!QO&T!RO&V!SO&X!TO&Z!UO&]!VO'WPO'aQO'mYO'zaO~OPZXYZX^ZXiZXrZXsZXuZX}ZX!]ZX!^ZX!`ZX!fZX!wZX#ScX#WZX#XZX#YZX#ZZX#[ZX#]ZX#^ZX#_ZX#aZX#cZX#eZX#fZX#kZX'RZX'aZX'nZX'uZX'vZX~O!X$hX~P$zO'O!XO'P!WO'Q!ZO~OPTOQTO]cOa!jOb!iOgcOiTOjcOkcOnTOpTOuROwcOxcOycO!P!bO!ZkO!`UO!cTO!dTO!eTO!fTO!gTO!j!hO#p!kO#t^O'W![O'aQO'mYO'zaO~O|!`O}!]Oz'hPz'rP~P'dO!O!lO~P`OPTOQTO]cOa!jOb!iOgcOiTOjcOkcOnTOpTOuROwcOxcOycO!P!bO!ZkO!`UO!cTO!dTO!eTO!fTO!gTO!j!hO#p!kO#t^O'W9VO'aQO'mYO'zaO~OPTOQTO]cOa!jOb!iOgcOiTOjcOkcOnTOpTOuROwcOxcOycO!P!bO!ZkO!`UO!cTO!dTO!eTO!fTO!gTO!j!hO#p!kO#t^O'aQO'mYO'zaO~O|!qO#Q!tO#R!qO'W9WO!_'oP~P+{O#S!uO~O!X!vO#S!uO~OP#]OY#cOi#QOr!zOs!zOu!{O}#aO!]#SO!^!xO!`!yO!f#]O#W#OO#X#PO#Y#PO#Z#PO#[#RO#]#SO#^#SO#_#SO#a#TO#c#VO#e#XO#f#YO'aQO'n#ZO'u!|O'v!}O~O^'eX'R'eX!_'eXz'eX!P'eX$|'eX!X'eX~P.jO!w#dO#k#dOP'fXY'fX^'fXi'fXr'fXs'fXu'fX}'fX!]'fX!^'fX!`'fX!f'fX#W'fX#X'fX#Y'fX#Z'fX#['fX#]'fX#^'fX#a'fX#c'fX#e'fX#f'fX'a'fX'n'fX'u'fX'v'fX~O#_'fX'R'fXz'fX!_'fX'c'fX!P'fX$|'fX!X'fX~P0zO!w#dO~O#v#eO#}#iO~O!P#jO#t^O$Q#kO$S#mO~O]#pOg#}Oi#qOj#pOk#pOn$OOp$POu#wO!P#xO!Z$UO!`#uO#R$VO#p$SO$Z$QO$]$RO$`$TO'W#oO'a#rO'['^P~O!`$WO~O!X$YO~O^$ZO'R$ZO~O'W$_O~O!`$WO'W$_O'X$aO']$bO~Ob$hO!`$WO'W$_O~O#_#SO~O]$qOr$mO!P$jO!`$lO$}$pO'W$_O'X$aO[(SP~O!j$rO~Ou$sO!P$tO'W$_O~Ou$sO!P$tO%V$xO'W$_O~O'W$yO~O#`sO$}tO%PrO%QrO%TuO%VvO%YwO%ZwO~Oa%SOb%RO!j%PO${%QO%_%OO~P7uOa%VObmO!P%UO!jlO#`sO${qO%PrO%QrO%TuO%VvO%YwO%ZwO%]xO~O_%YO!w%]O$}%WO'X$aO~P8tO!`%^O!c%bO~O!`%cO~O!PSO~O^$ZO&}%kO'R$ZO~O^$ZO&}%nO'R$ZO~O^$ZO&}%pO'R$ZO~O'O!XO'P!WO'Q%tO~OPZXYZXiZXrZXsZXuZX}ZX}cX!]ZX!^ZX!`ZX!fZX!wZX!wcX#ScX#WZX#XZX#YZX#ZZX#[ZX#]ZX#^ZX#_ZX#aZX#cZX#eZX#fZX#kZX'aZX'nZX'uZX'vZX~OzZXzcX~P;aO|%vOz&cX}&cX~P){O}!]Oz'hX~OP#]OY#cOi#QOr!zOs!zOu!{O}!]O!]#SO!^!xO!`!yO!f#]O#W#OO#X#PO#Y#PO#Z#PO#[#RO#]#SO#^#SO#_#SO#a#TO#c#VO#e#XO#f#YO'aQO'n#ZO'u!|O'v!}O~Oz'hX~P>WOz%{O~Ou&OO!S&YO!T&RO!U&RO'X$aO~O]&POj&PO|&SO'd%|O!O'iP!O'tP~P@ZOz'qX}'qX!X'qX!_'qX'n'qX~O!w'qX#S!{X!O'qX~PASO!w&ZOz'sX}'sX~O}&[Oz'rX~Oz&^O~O!w#dO~PASOR&bO!P&_O!k&aO'W$_O~Ob&gO!`$WO'W$_O~Or$mO!`$lO~O!O&hO~P`Or!zOs!zOu!{O!^!xO!`!yO'aQOP!baY!bai!ba}!ba!]!ba!f!ba#W!ba#X!ba#Y!ba#Z!ba#[!ba#]!ba#^!ba#_!ba#a!ba#c!ba#e!ba#f!ba'n!ba'u!ba'v!ba~O^!ba'R!baz!ba!_!ba'c!ba!P!ba$|!ba!X!ba~PC]O!_&iO~O!X!vO!w&kO'n&jO}'pX^'pX'R'pX~O!_'pX~PEuO}&oO!_'oX~O!_&qO~Ou$sO!P$tO#R&rO'W$_O~OPTOQTO]cOa!jOb!iOgcOiTOjcOkcOnTOpTOuROwcOxcOycO!PSO!ZkO!`UO!cTO!dTO!eTO!fTO!gTO!j!hO#p!kO#t^O'W9VO'aQO'mYO'zaO~O]#pOg#}Oi#qOj#pOk#pOn$OOp9iOu#wO!P#xO!Z:lO!`#uO#R9oO#p$SO$Z9kO$]9mO$`$TO'W&vO'a#rO~O#S&xO~O]#pOg#}Oi#qOj#pOk#pOn$OOp$POu#wO!P#xO!Z$UO!`#uO#R$VO#p$SO$Z$QO$]$RO$`$TO'W&vO'a#rO~O'['kP~PJ^O|&|O!_'lP~P){O'd'OO'mYO~OP9SOQ9SO]cOa:jOb!iOgcOi9SOjcOkcOn9SOp9SOuROwcOxcOycO!P!bO!Z9UO!`UO!c9SO!d9SO!e9SO!f9SO!g9SO!j!hO#p!kO#t^O'W'^O'aQO'mYO'z:hO~O!`!yO~O}#aO^$Xa'R$Xa!_$Xaz$Xa!P$Xa$|$Xa!X$Xa~O#`'eO~PH}O!X'gO!P'wX#s'wX#v'wX#}'wX~Or'hO~PNyOr'hO!P'wX#s'wX#v'wX#}'wX~O!P'jO#s'nO#v'iO#}'oO~O|'rO~PLRO#v#eO#}'uO~Or$aXu$aX!^$aX'n$aX'u$aX'v$aX~OReX}eX!weX'[eX'[$aX~P!!cOj'wO~O'O'yO'P'xO'Q'{O~Or'}Ou(OO'n#ZO'u(QO'v(SO~O'['|O~P!#lO'[(VO~O]#pOg#}Oi#qOj#pOk#pOn$OOp9iOu#wO!P#xO!Z:lO!`#uO#R9oO#p$SO$Z9kO$]9mO$`$TO'a#rO~O|(ZO'W(WO!_'{P~P!$ZO#S(]O~O|(aO'W(^Oz'|P~P!$ZO^(jOi(oOu(gO!S(mO!T(fO!U(fO!`(dO!t(nO$s(iO'X$aO'd(cO~O!O(lO~P!&RO!^!xOr'`Xu'`X'n'`X'u'`X'v'`X}'`X!w'`X~O'['`X#i'`X~P!&}OR(rO!w(qO}'_X'['_X~O}(sO'['^X~O'W(uO~O!`(zO~O'W&vO~O!`(dO~Ou$sO|!qO!P$tO#Q!tO#R!qO'W$_O!_'oP~O!X!vO#S)OO~OP#]OY#cOi#QOr!zOs!zOu!{O!]#SO!^!xO!`!yO!f#]O#W#OO#X#PO#Y#PO#Z#PO#[#RO#]#SO#^#SO#_#SO#a#TO#c#VO#e#XO#f#YO'aQO'n#ZO'u!|O'v!}O~O^!Ya}!Ya'R!Yaz!Ya!_!Ya'c!Ya!P!Ya$|!Ya!X!Ya~P!)`OR)WO!P&_O!k)VO$|)UO']$bO~O'W$yO'['^P~O!X)ZO!P'ZX^'ZX'R'ZX~O!`$WO']$bO~O!`$WO'W$_O']$bO~O!X!vO#S&xO~O$})gO'W)cO!O(TP~O})hO[(SX~O'd'OO~OY)lO~O[)mO~O!P$jO'W$_O'X$aO[(SP~Ou$sO|)rO!P$tO'W$_Oz'rP~O]&VOj&VO|)sO'd'OO!O'tP~O})tO^(PX'R(PX~O!w)xO']$bO~OR){O!P#xO']$bO~O!P)}O~Or*PO!PSO~O!j*UO~Ob*ZO~O'W(uO!O(RP~Ob$hO~O$}tO'W$yO~P8tOY*aO[*`O~OPTOQTO]cOanObmOgcOiTOjcOkcOnTOpTOuROwcOxcOycO!ZkO!`UO!cTO!dTO!eTO!fTO!gTO!jlO#t^O${qO'aQO'mYO'zaO~O!P!bO#p!kO'W9VO~P!0uO[*`O^$ZO'R$ZO~O^*eO#`*gO%P*gO%Q*gO~P){O!`%^O~O%p*lO~O!P*nO~O&Q*qO&R*pOP&OaQ&OaW&Oa]&Oa^&Oaa&Oab&Oag&Oai&Oaj&Oak&Oan&Oap&Oau&Oaw&Oax&Oay&Oa!P&Oa!Z&Oa!`&Oa!c&Oa!d&Oa!e&Oa!f&Oa!g&Oa!j&Oa#`&Oa#p&Oa#t&Oa${&Oa$}&Oa%P&Oa%Q&Oa%T&Oa%V&Oa%Y&Oa%Z&Oa%]&Oa%j&Oa%p&Oa%r&Oa%t&Oa%v&Oa%y&Oa&P&Oa&T&Oa&V&Oa&X&Oa&Z&Oa&]&Oa&|&Oa'W&Oa'a&Oa'm&Oa'z&Oa!O&Oa%w&Oa_&Oa%|&Oa~O'W*tO~O'c*wO~Oz&ca}&ca~P!)`O}!]Oz'ha~Oz'ha~P>WO}&[Oz'ra~O}tX}!VX!OtX!O!VX!XtX!X!VX!`!VX!wtX']!VX~O!X+OO!w*}O}#PX}'jX!O#PX!O'jX!X'jX!`'jX']'jX~O!X+QO!`$WO']$bO}!RX!O!RX~O]%}Oj%}Ou&OO'd(cO~OP9SOQ9SO]cOa:jOb!iOgcOi9SOjcOkcOn9SOp9SOuROwcOxcOycO!P!bO!Z9UO!`UO!c9SO!d9SO!e9SO!f9SO!g9SO!j!hO#p!kO#t^O'aQO'mYO'z:hO~O'W9sO~P!:sO}+UO!O'iX~O!O+WO~O!X+OO!w*}O}#PX!O#PX~O}+XO!O'tX~O!O+ZO~O]%}Oj%}Ou&OO'X$aO'd(cO~O!T+[O!U+[O~P!=qOu$sO|+_O!P$tO'W$_Oz&hX}&hX~O^+dO!S+gO!T+cO!U+cO!n+kO!o+iO!p+jO!q+hO!t+lO'X$aO'd(cO'm+aO~O!O+fO~P!>rOR+qO!P&_O!k+pO~O!w+wO}'pa!_'pa^'pa'R'pa~O!X!vO~P!?|O}&oO!_'oa~Ou$sO|+zO!P$tO#Q+|O#R+zO'W$_O}&jX!_&jX~O^!zi}!zi'R!ziz!zi!_!zi'c!zi!P!zi$|!zi!X!zi~P!)`O#S!va}!va!_!va!w!va!P!va^!va'R!vaz!va~P!#lO#S'`XP'`XY'`X^'`Xi'`Xs'`X!]'`X!`'`X!f'`X#W'`X#X'`X#Y'`X#Z'`X#['`X#]'`X#^'`X#_'`X#a'`X#c'`X#e'`X#f'`X'R'`X'a'`X!_'`Xz'`X!P'`X'c'`X$|'`X!X'`X~P!&}O},VO'['kX~P!#lO'[,XO~O},YO!_'lX~P!)`O!_,]O~Oz,^O~OP#]Or!zOs!zOu!{O!^!xO!`!yO!f#]O'aQOY#Vi^#Vii#Vi}#Vi!]#Vi#X#Vi#Y#Vi#Z#Vi#[#Vi#]#Vi#^#Vi#_#Vi#a#Vi#c#Vi#e#Vi#f#Vi'R#Vi'n#Vi'u#Vi'v#Viz#Vi!_#Vi'c#Vi!P#Vi$|#Vi!X#Vi~O#W#Vi~P!EZO#W#OO~P!EZOP#]Or!zOs!zOu!{O!^!xO!`!yO!f#]O#W#OO#X#PO#Y#PO#Z#PO'aQOY#Vi^#Vi}#Vi!]#Vi#[#Vi#]#Vi#^#Vi#_#Vi#a#Vi#c#Vi#e#Vi#f#Vi'R#Vi'n#Vi'u#Vi'v#Viz#Vi!_#Vi'c#Vi!P#Vi$|#Vi!X#Vi~Oi#Vi~P!GuOi#QO~P!GuOP#]Oi#QOr!zOs!zOu!{O!^!xO!`!yO!f#]O#W#OO#X#PO#Y#PO#Z#PO#[#RO'aQO^#Vi}#Vi#a#Vi#c#Vi#e#Vi#f#Vi'R#Vi'n#Vi'u#Vi'v#Viz#Vi!_#Vi'c#Vi!P#Vi$|#Vi!X#Vi~OY#Vi!]#Vi#]#Vi#^#Vi#_#Vi~P!JaOY#cO!]#SO#]#SO#^#SO#_#SO~P!JaOP#]OY#cOi#QOr!zOs!zOu!{O!]#SO!^!xO!`!yO!f#]O#W#OO#X#PO#Y#PO#Z#PO#[#RO#]#SO#^#SO#_#SO#a#TO'aQO^#Vi}#Vi#c#Vi#e#Vi#f#Vi'R#Vi'n#Vi'v#Viz#Vi!_#Vi'c#Vi!P#Vi$|#Vi!X#Vi~O'u#Vi~P!MXO'u!|O~P!MXOP#]OY#cOi#QOr!zOs!zOu!{O!]#SO!^!xO!`!yO!f#]O#W#OO#X#PO#Y#PO#Z#PO#[#RO#]#SO#^#SO#_#SO#a#TO#c#VO'aQO'u!|O^#Vi}#Vi#e#Vi#f#Vi'R#Vi'n#Viz#Vi!_#Vi'c#Vi!P#Vi$|#Vi!X#Vi~O'v#Vi~P# sO'v!}O~P# sOP#]OY#cOi#QOr!zOs!zOu!{O!]#SO!^!xO!`!yO!f#]O#W#OO#X#PO#Y#PO#Z#PO#[#RO#]#SO#^#SO#_#SO#a#TO#c#VO#e#XO'aQO'u!|O'v!}O~O^#Vi}#Vi#f#Vi'R#Vi'n#Viz#Vi!_#Vi'c#Vi!P#Vi$|#Vi!X#Vi~P#$_OPZXYZXiZXrZXsZXuZX!]ZX!^ZX!`ZX!fZX!wZX#ScX#WZX#XZX#YZX#ZZX#[ZX#]ZX#^ZX#_ZX#aZX#cZX#eZX#fZX#kZX'aZX'nZX'uZX'vZX}ZX!OZX~O#iZX~P#&rOP#]OY9gOi9[Or!zOs!zOu!{O!]9^O!^!xO!`!yO!f#]O#W9YO#X9ZO#Y9ZO#Z9ZO#[9]O#]9^O#^9^O#_9^O#a9_O#c9aO#e9cO#f9dO'aQO'n#ZO'u!|O'v!}O~O#i,`O~P#(|OP'fXY'fXi'fXr'fXs'fXu'fX!]'fX!^'fX!`'fX!f'fX#W'fX#X'fX#Y'fX#Z'fX#['fX#]'fX#^'fX#a'fX#c'fX#e'fX#f'fX'a'fX'n'fX'u'fX'v'fX}'fX~O!w9hO#k9hO#_'fX#i'fX!O'fX~P#*wO^&ma}&ma'R&ma!_&ma'c&maz&ma!P&ma$|&ma!X&ma~P!)`OP#ViY#Vi^#Vii#Vis#Vi}#Vi!]#Vi!^#Vi!`#Vi!f#Vi#W#Vi#X#Vi#Y#Vi#Z#Vi#[#Vi#]#Vi#^#Vi#_#Vi#a#Vi#c#Vi#e#Vi#f#Vi'R#Vi'a#Viz#Vi!_#Vi'c#Vi!P#Vi$|#Vi!X#Vi~P!#lO^#ji}#ji'R#jiz#ji!_#ji'c#ji!P#ji$|#ji!X#ji~P!)`O#v,bO~O#v,cO~O!X'gO!w,dO!P#zX#s#zX#v#zX#}#zX~O|,eO~O!P'jO#s,gO#v'iO#},hO~O}9eO!O'eX~P#(|O!O,iO~O#},kO~O'O'yO'P'xO'Q,nO~O],qOj,qOz,rO~O}cX!XcX!_cX!_$aX'ncX~P!!cO!_,xO~P!#lO},yO!X!vO'n&jO!_'{X~O!_-OO~Oz$aX}$aX!X$hX~P!!cO}-QOz'|X~P!#lO!X-SO~Oz-UO~O|(ZO'W$_O!_'{P~Oi-YO!X!vO!`$WO']$bO'n&jO~O!X)ZO~O!O-`O~P!&RO!T-aO!U-aO'X$aO'd(cO~Ou-cO'd(cO~O!t-dO~O'W$yO}&rX'[&rX~O}(sO'['^a~Or-iOs-iOu-jO'noa'uoa'voa}oa!woa~O'[oa#ioa~P#5{Or'}Ou(OO'n$Ya'u$Ya'v$Ya}$Ya!w$Ya~O'[$Ya#i$Ya~P#6qOr'}Ou(OO'n$[a'u$[a'v$[a}$[a!w$[a~O'[$[a#i$[a~P#7dO]-kO~O#S-lO~O'[$ja}$ja#i$ja!w$ja~P!#lO#S-oO~OR-xO!P&_O!k-wO$|-vO~O'[-yO~O]#pOi#qOj#pOk#pOn$OOp9iOu#wO!P#xO!Z:lO!`#uO#R9oO#p$SO$Z9kO$]9mO$`$TO'a#rO~Og-{O'W-zO~P#9ZO!X)ZO!P'Za^'Za'R'Za~O#S.RO~OYZX}cX!OcX~O}.SO!O(TX~O!O.UO~OY.VO~O'W)cO~O!P$jO'W$_O[&zX}&zX~O})hO[(Sa~O!_.[O~P!)`O].^O~OY._O~O[.`O~OR-xO!P&_O!k-wO$|-vO']$bO~O})tO^(Pa'R(Pa~O!w.fO~OR.iO!P#xO~O'd'OO!O(QP~OR.sO!P.oO!k.rO$|.qO']$bO~OY.}O}.{O!O(RX~O!O/OO~O[/QO^$ZO'R$ZO~O]/RO~O#_/TO%n/UO~P0zO!w#dO#_/TO%n/UO~O^/VO~P){O^/XO~O%w/]OP%uiQ%uiW%ui]%ui^%uia%uib%uig%uii%uij%uik%uin%uip%uiu%uiw%uix%uiy%ui!P%ui!Z%ui!`%ui!c%ui!d%ui!e%ui!f%ui!g%ui!j%ui#`%ui#p%ui#t%ui${%ui$}%ui%P%ui%Q%ui%T%ui%V%ui%Y%ui%Z%ui%]%ui%j%ui%p%ui%r%ui%t%ui%v%ui%y%ui&P%ui&T%ui&V%ui&X%ui&Z%ui&]%ui&|%ui'W%ui'a%ui'm%ui'z%ui!O%ui_%ui%|%ui~O_/cO!O/aO%|/bO~P`O!PSO!`/fO~O}#aO'c$Xa~Oz&ci}&ci~P!)`O}!]Oz'hi~O}&[Oz'ri~Oz/jO~O}!Ra!O!Ra~P#(|O]%}Oj%}O|/pO'd(cO}&dX!O&dX~P@ZO}+UO!O'ia~O]&VOj&VO|)sO'd'OO}&iX!O&iX~O}+XO!O'ta~Oz'si}'si~P!)`O^$ZO!X!vO!`$WO!f/{O!w/yO'R$ZO']$bO'n&jO~O!O0OO~P!>rO!T0PO!U0PO'X$aO'd(cO'm+aO~O!S0QO~P#GTO!PSO!S0QO!q0SO!t0TO~P#GTO!S0QO!o0VO!p0VO!q0SO!t0TO~P#GTO!P&_O~O!P&_O~P!#lO}'pi!_'pi^'pi'R'pi~P!)`O!w0`O}'pi!_'pi^'pi'R'pi~O}&oO!_'oi~Ou$sO!P$tO#R0bO'W$_O~O#SoaPoaYoa^oaioa!]oa!^oa!`oa!foa#Woa#Xoa#Yoa#Zoa#[oa#]oa#^oa#_oa#aoa#coa#eoa#foa'Roa'aoa!_oazoa!Poa'coa$|oa!Xoa~P#5{O#S$YaP$YaY$Ya^$Yai$Yas$Ya!]$Ya!^$Ya!`$Ya!f$Ya#W$Ya#X$Ya#Y$Ya#Z$Ya#[$Ya#]$Ya#^$Ya#_$Ya#a$Ya#c$Ya#e$Ya#f$Ya'R$Ya'a$Ya!_$Yaz$Ya!P$Ya'c$Ya$|$Ya!X$Ya~P#6qO#S$[aP$[aY$[a^$[ai$[as$[a!]$[a!^$[a!`$[a!f$[a#W$[a#X$[a#Y$[a#Z$[a#[$[a#]$[a#^$[a#_$[a#a$[a#c$[a#e$[a#f$[a'R$[a'a$[a!_$[az$[a!P$[a'c$[a$|$[a!X$[a~P#7dO#S$jaP$jaY$ja^$jai$jas$ja}$ja!]$ja!^$ja!`$ja!f$ja#W$ja#X$ja#Y$ja#Z$ja#[$ja#]$ja#^$ja#_$ja#a$ja#c$ja#e$ja#f$ja'R$ja'a$ja!_$jaz$ja!P$ja!w$ja'c$ja$|$ja!X$ja~P!#lO^!zq}!zq'R!zqz!zq!_!zq'c!zq!P!zq$|!zq!X!zq~P!)`O}&eX'[&eX~PJ^O},VO'['ka~O|0jO}&fX!_&fX~P){O},YO!_'la~O},YO!_'la~P!)`O#i!ba!O!ba~PC]O#i!Ya}!Ya!O!Ya~P#(|O!P0}O#t^O#{1OO~O!O1SO~O'c1TO~P!#lO^$Uq}$Uq'R$Uqz$Uq!_$Uq'c$Uq!P$Uq$|$Uq!X$Uq~P!)`Oz1UO~O],qOj,qO~Or'}Ou(OO'v(SO'n$ti'u$ti}$ti!w$ti~O'[$ti#i$ti~P$'tOr'}Ou(OO'n$vi'u$vi'v$vi}$vi!w$vi~O'[$vi#i$vi~P$(gO#i1VO~P!#lO|1XO'W$_O}&nX!_&nX~O},yO!_'{a~O},yO!X!vO!_'{a~O},yO!X!vO'n&jO!_'{a~O'[$ci}$ci#i$ci!w$ci~P!#lO|1`O'W(^Oz&pX}&pX~P!$ZO}-QOz'|a~O}-QOz'|a~P!#lO!X!vO~O!X!vO#_1jO~Oi1nO!X!vO'n&jO~O}'_i'['_i~P!#lO!w1qO}'_i'['_i~P!#lO!_1tO~O^$Vq}$Vq'R$Vqz$Vq!_$Vq'c$Vq!P$Vq$|$Vq!X$Vq~P!)`O}1xO!P'}X~P!#lO!P&_O$|1{O~O!P&_O$|1{O~P!#lO!P$aX$qZX^$aX'R$aX~P!!cO$q2POrfXufX!PfX'nfX'ufX'vfX^fX'RfX~O$q2PO~O$}2WO'W)cO}&yX!O&yX~O}.SO!O(Ta~OY2[O~O[2]O~O]2`O~OR2bO!P&_O!k2aO$|1{O~O^$ZO'R$ZO~P!#lO!P#xO~P!#lO}2gO!w2iO!O(QX~O!O2jO~Ou(gO!S2sO!T2lO!U2lO!n2rO!o2qO!p2qO!t2pO'X$aO'd(cO'm+aO~O!O2oO~P$0uOR2zO!P.oO!k2yO$|2xO~OR2zO!P.oO!k2yO$|2xO']$bO~O'W(uO}&xX!O&xX~O}.{O!O(Ra~O'd3TO~O]3VO~O[3XO~O!_3[O~P){O^3^O~O^3^O~P){O#_3`O%n3aO~PEuO_/cO!O3eO%|/bO~P`O!X3gO~O&R3hOP&OqQ&OqW&Oq]&Oq^&Oqa&Oqb&Oqg&Oqi&Oqj&Oqk&Oqn&Oqp&Oqu&Oqw&Oqx&Oqy&Oq!P&Oq!Z&Oq!`&Oq!c&Oq!d&Oq!e&Oq!f&Oq!g&Oq!j&Oq#`&Oq#p&Oq#t&Oq${&Oq$}&Oq%P&Oq%Q&Oq%T&Oq%V&Oq%Y&Oq%Z&Oq%]&Oq%j&Oq%p&Oq%r&Oq%t&Oq%v&Oq%y&Oq&P&Oq&T&Oq&V&Oq&X&Oq&Z&Oq&]&Oq&|&Oq'W&Oq'a&Oq'm&Oq'z&Oq!O&Oq%w&Oq_&Oq%|&Oq~O}#Pi!O#Pi~P#(|O!w3jO}#Pi!O#Pi~O}!Ri!O!Ri~P#(|O^$ZO!w3qO'R$ZO~O^$ZO!X!vO!w3qO'R$ZO~O!T3uO!U3uO'X$aO'd(cO'm+aO~O^$ZO!X!vO!`$WO!f3vO!w3qO'R$ZO']$bO'n&jO~O!S3wO~P$9_O!S3wO!q3zO!t3{O~P$9_O^$ZO!X!vO!f3vO!w3qO'R$ZO'n&jO~O}'pq!_'pq^'pq'R'pq~P!)`O}&oO!_'oq~O#S$tiP$tiY$ti^$tii$tis$ti!]$ti!^$ti!`$ti!f$ti#W$ti#X$ti#Y$ti#Z$ti#[$ti#]$ti#^$ti#_$ti#a$ti#c$ti#e$ti#f$ti'R$ti'a$ti!_$tiz$ti!P$ti'c$ti$|$ti!X$ti~P$'tO#S$viP$viY$vi^$vii$vis$vi!]$vi!^$vi!`$vi!f$vi#W$vi#X$vi#Y$vi#Z$vi#[$vi#]$vi#^$vi#_$vi#a$vi#c$vi#e$vi#f$vi'R$vi'a$vi!_$viz$vi!P$vi'c$vi$|$vi!X$vi~P$(gO#S$ciP$ciY$ci^$cii$cis$ci}$ci!]$ci!^$ci!`$ci!f$ci#W$ci#X$ci#Y$ci#Z$ci#[$ci#]$ci#^$ci#_$ci#a$ci#c$ci#e$ci#f$ci'R$ci'a$ci!_$ciz$ci!P$ci!w$ci'c$ci$|$ci!X$ci~P!#lO}&ea'[&ea~P!#lO}&fa!_&fa~P!)`O},YO!_'li~O#i!zi}!zi!O!zi~P#(|OP#]Or!zOs!zOu!{O!^!xO!`!yO!f#]O'aQOY#Vii#Vi!]#Vi#X#Vi#Y#Vi#Z#Vi#[#Vi#]#Vi#^#Vi#_#Vi#a#Vi#c#Vi#e#Vi#f#Vi#i#Vi'n#Vi'u#Vi'v#Vi}#Vi!O#Vi~O#W#Vi~P$BuO#W9YO~P$BuOP#]Or!zOs!zOu!{O!^!xO!`!yO!f#]O#W9YO#X9ZO#Y9ZO#Z9ZO'aQOY#Vi!]#Vi#[#Vi#]#Vi#^#Vi#_#Vi#a#Vi#c#Vi#e#Vi#f#Vi#i#Vi'n#Vi'u#Vi'v#Vi}#Vi!O#Vi~Oi#Vi~P$D}Oi9[O~P$D}OP#]Oi9[Or!zOs!zOu!{O!^!xO!`!yO!f#]O#W9YO#X9ZO#Y9ZO#Z9ZO#[9]O'aQO#a#Vi#c#Vi#e#Vi#f#Vi#i#Vi'n#Vi'u#Vi'v#Vi}#Vi!O#Vi~OY#Vi!]#Vi#]#Vi#^#Vi#_#Vi~P$GVOY9gO!]9^O#]9^O#^9^O#_9^O~P$GVOP#]OY9gOi9[Or!zOs!zOu!{O!]9^O!^!xO!`!yO!f#]O#W9YO#X9ZO#Y9ZO#Z9ZO#[9]O#]9^O#^9^O#_9^O#a9_O'aQO#c#Vi#e#Vi#f#Vi#i#Vi'n#Vi'v#Vi}#Vi!O#Vi~O'u#Vi~P$IkO'u!|O~P$IkOP#]OY9gOi9[Or!zOs!zOu!{O!]9^O!^!xO!`!yO!f#]O#W9YO#X9ZO#Y9ZO#Z9ZO#[9]O#]9^O#^9^O#_9^O#a9_O#c9aO'aQO'u!|O#e#Vi#f#Vi#i#Vi'n#Vi}#Vi!O#Vi~O'v#Vi~P$KsO'v!}O~P$KsOP#]OY9gOi9[Or!zOs!zOu!{O!]9^O!^!xO!`!yO!f#]O#W9YO#X9ZO#Y9ZO#Z9ZO#[9]O#]9^O#^9^O#_9^O#a9_O#c9aO#e9cO'aQO'u!|O'v!}O~O#f#Vi#i#Vi'n#Vi}#Vi!O#Vi~P$M{O^#gy}#gy'R#gyz#gy!_#gy'c#gy!P#gy$|#gy!X#gy~P!)`OP#ViY#Vii#Vis#Vi!]#Vi!^#Vi!`#Vi!f#Vi#W#Vi#X#Vi#Y#Vi#Z#Vi#[#Vi#]#Vi#^#Vi#_#Vi#a#Vi#c#Vi#e#Vi#f#Vi#i#Vi'a#Vi}#Vi!O#Vi~P!#lO!^!xOP'`XY'`Xi'`Xr'`Xs'`Xu'`X!]'`X!`'`X!f'`X#W'`X#X'`X#Y'`X#Z'`X#['`X#]'`X#^'`X#_'`X#a'`X#c'`X#e'`X#f'`X#i'`X'a'`X'n'`X'u'`X'v'`X}'`X!O'`X~O#i#ji}#ji!O#ji~P#(|O!O4]O~O}&ma!O&ma~P#(|O!X!vO'n&jO}&na!_&na~O},yO!_'{i~O},yO!X!vO!_'{i~Oz&pa}&pa~P!#lO!X4dO~O}-QOz'|i~P!#lO}-QOz'|i~Oz4jO~O!X!vO#_4pO~Oi4qO!X!vO'n&jO~Oz4sO~O'[$eq}$eq#i$eq!w$eq~P!#lO^$Vy}$Vy'R$Vyz$Vy!_$Vy'c$Vy!P$Vy$|$Vy!X$Vy~P!)`O}1xO!P'}a~O!P&_O$|4xO~O!P&_O$|4xO~P!#lO^!zy}!zy'R!zyz!zy!_!zy'c!zy!P!zy$|!zy!X!zy~P!)`OY4{O~O}.SO!O(Ti~O]5QO~O[5RO~O'd'OO}&uX!O&uX~O}2gO!O(Qa~O!O5`O~P$0uOu-cO'd(cO'm+aO~O!S5cO!T5bO!U5bO!t0TO'X$aO'd(cO'm+aO~O!o5dO!p5dO~P%,eO!T5bO!U5bO'X$aO'd(cO'm+aO~O!P.oO~O!P.oO$|5fO~O!P.oO$|5fO~P!#lOR5kO!P.oO!k5jO$|5fO~OY5pO}&xa!O&xa~O}.{O!O(Ri~O]5sO~O!_5tO~O!_5uO~O!_5vO~O!_5vO~P){O^5xO~O!X5{O~O!_5}O~O}'si!O'si~P#(|O^$ZO'R$ZO~P!)`O^$ZO!w6SO'R$ZO~O^$ZO!X!vO!w6SO'R$ZO~O!T6XO!U6XO'X$aO'd(cO'm+aO~O^$ZO!X!vO!f6YO!w6SO'R$ZO'n&jO~O!`$WO']$bO~P%1PO!S6ZO~P%0nO}'py!_'py^'py'R'py~P!)`O#S$eqP$eqY$eq^$eqi$eqs$eq}$eq!]$eq!^$eq!`$eq!f$eq#W$eq#X$eq#Y$eq#Z$eq#[$eq#]$eq#^$eq#_$eq#a$eq#c$eq#e$eq#f$eq'R$eq'a$eq!_$eqz$eq!P$eq!w$eq'c$eq$|$eq!X$eq~P!#lO}&fi!_&fi~P!)`O#i!zq}!zq!O!zq~P#(|Or-iOs-iOu-jOPoaYoaioa!]oa!^oa!`oa!foa#Woa#Xoa#Yoa#Zoa#[oa#]oa#^oa#_oa#aoa#coa#eoa#foa#ioa'aoa'noa'uoa'voa}oa!Ooa~Or'}Ou(OOP$YaY$Yai$Yas$Ya!]$Ya!^$Ya!`$Ya!f$Ya#W$Ya#X$Ya#Y$Ya#Z$Ya#[$Ya#]$Ya#^$Ya#_$Ya#a$Ya#c$Ya#e$Ya#f$Ya#i$Ya'a$Ya'n$Ya'u$Ya'v$Ya}$Ya!O$Ya~Or'}Ou(OOP$[aY$[ai$[as$[a!]$[a!^$[a!`$[a!f$[a#W$[a#X$[a#Y$[a#Z$[a#[$[a#]$[a#^$[a#_$[a#a$[a#c$[a#e$[a#f$[a#i$[a'a$[a'n$[a'u$[a'v$[a}$[a!O$[a~OP$jaY$jai$jas$ja!]$ja!^$ja!`$ja!f$ja#W$ja#X$ja#Y$ja#Z$ja#[$ja#]$ja#^$ja#_$ja#a$ja#c$ja#e$ja#f$ja#i$ja'a$ja}$ja!O$ja~P!#lO#i$Uq}$Uq!O$Uq~P#(|O#i$Vq}$Vq!O$Vq~P#(|O!O6eO~O'[$xy}$xy#i$xy!w$xy~P!#lO!X!vO}&ni!_&ni~O!X!vO'n&jO}&ni!_&ni~O},yO!_'{q~Oz&pi}&pi~P!#lO}-QOz'|q~Oz6lO~P!#lOz6lO~O}'_y'['_y~P!#lO}&sa!P&sa~P!#lO!P$pq^$pq'R$pq~P!#lOY6tO~O}.SO!O(Tq~O]6wO~O!P&_O$|6xO~O!P&_O$|6xO~P!#lO!w6yO}&ua!O&ua~O}2gO!O(Qi~P#(|O!T7PO!U7PO'X$aO'd(cO'm+aO~O!S7RO!t3{O~P%@nO!P.oO$|7UO~O!P.oO$|7UO~P!#lO'd7[O~O}.{O!O(Rq~O!_7_O~O!_7_O~P){O!_7aO~O!_7bO~O}#Py!O#Py~P#(|O^$ZO!w7hO'R$ZO~O^$ZO!X!vO!w7hO'R$ZO~O!T7kO!U7kO'X$aO'd(cO'm+aO~O^$ZO!X!vO!f7lO!w7hO'R$ZO'n&jO~O#S$xyP$xyY$xy^$xyi$xys$xy}$xy!]$xy!^$xy!`$xy!f$xy#W$xy#X$xy#Y$xy#Z$xy#[$xy#]$xy#^$xy#_$xy#a$xy#c$xy#e$xy#f$xy'R$xy'a$xy!_$xyz$xy!P$xy!w$xy'c$xy$|$xy!X$xy~P!#lO#i#gy}#gy!O#gy~P#(|OP$ciY$cii$cis$ci!]$ci!^$ci!`$ci!f$ci#W$ci#X$ci#Y$ci#Z$ci#[$ci#]$ci#^$ci#_$ci#a$ci#c$ci#e$ci#f$ci#i$ci'a$ci}$ci!O$ci~P!#lOr'}Ou(OO'v(SOP$tiY$tii$tis$ti!]$ti!^$ti!`$ti!f$ti#W$ti#X$ti#Y$ti#Z$ti#[$ti#]$ti#^$ti#_$ti#a$ti#c$ti#e$ti#f$ti#i$ti'a$ti'n$ti'u$ti}$ti!O$ti~Or'}Ou(OOP$viY$vii$vis$vi!]$vi!^$vi!`$vi!f$vi#W$vi#X$vi#Y$vi#Z$vi#[$vi#]$vi#^$vi#_$vi#a$vi#c$vi#e$vi#f$vi#i$vi'a$vi'n$vi'u$vi'v$vi}$vi!O$vi~O#i$Vy}$Vy!O$Vy~P#(|O#i!zy}!zy!O!zy~P#(|O!X!vO}&nq!_&nq~O},yO!_'{y~Oz&pq}&pq~P!#lOz7rO~P!#lO}.SO!O(Ty~O}2gO!O(Qq~O!T8OO!U8OO'X$aO'd(cO'm+aO~O!P.oO$|8RO~O!P.oO$|8RO~P!#lO!_8UO~O&R8VOP&O!ZQ&O!ZW&O!Z]&O!Z^&O!Za&O!Zb&O!Zg&O!Zi&O!Zj&O!Zk&O!Zn&O!Zp&O!Zu&O!Zw&O!Zx&O!Zy&O!Z!P&O!Z!Z&O!Z!`&O!Z!c&O!Z!d&O!Z!e&O!Z!f&O!Z!g&O!Z!j&O!Z#`&O!Z#p&O!Z#t&O!Z${&O!Z$}&O!Z%P&O!Z%Q&O!Z%T&O!Z%V&O!Z%Y&O!Z%Z&O!Z%]&O!Z%j&O!Z%p&O!Z%r&O!Z%t&O!Z%v&O!Z%y&O!Z&P&O!Z&T&O!Z&V&O!Z&X&O!Z&Z&O!Z&]&O!Z&|&O!Z'W&O!Z'a&O!Z'm&O!Z'z&O!Z!O&O!Z%w&O!Z_&O!Z%|&O!Z~O^$ZO!w8[O'R$ZO~O^$ZO!X!vO!w8[O'R$ZO~OP$eqY$eqi$eqs$eq!]$eq!^$eq!`$eq!f$eq#W$eq#X$eq#Y$eq#Z$eq#[$eq#]$eq#^$eq#_$eq#a$eq#c$eq#e$eq#f$eq#i$eq'a$eq}$eq!O$eq~P!#lO}&uq!O&uq~P#(|O^$ZO!w8qO'R$ZO~OP$xyY$xyi$xys$xy!]$xy!^$xy!`$xy!f$xy#W$xy#X$xy#Y$xy#Z$xy#[$xy#]$xy#^$xy#_$xy#a$xy#c$xy#e$xy#f$xy#i$xy'a$xy}$xy!O$xy~P!#lO'c'eX~P.jO'cZXzZX!_ZX%nZX!PZX$|ZX!XZX~P$zO!XcX!_ZX!_cX'ncX~P;aOP9SOQ9SO]cOa:jOb!iOgcOi9SOjcOkcOn9SOp9SOuROwcOxcOycO!PSO!Z9UO!`UO!c9SO!d9SO!e9SO!f9SO!g9SO!j!hO#p!kO#t^O'W'^O'aQO'mYO'z:hO~O}9eO!O$Xa~O]#pOg#}Oi#qOj#pOk#pOn$OOp9jOu#wO!P#xO!Z:mO!`#uO#R9pO#p$SO$Z9lO$]9nO$`$TO'W&vO'a#rO~O#`'eO~P&+}O!OZX!OcX~P;aO#S9XO~O!X!vO#S9XO~O!w9hO~O#_9^O~O!w9qO}'sX!O'sX~O!w9hO}'qX!O'qX~O#S9rO~O'[9tO~P!#lO#S9yO~O#S9zO~O!X!vO#S9{O~O!X!vO#S9rO~O#i9|O~P#(|O#S9}O~O#S:OO~O#S:PO~O#S:QO~O#i:RO~P!#lO#i:SO~P!#lO#t~!^!n!p!q#Q#R'z$Z$]$`$q${$|$}%T%V%Y%Z%]%_~TS#t'z#Xy'T'U#v'T'W'd~",goto:"#Dk(XPPPPPPP(YP(jP*^PPPP-sPP.Y3j5^5qP5qPPP5q5qP5qP7_PP7dP7xPPPP<XPPPP<X>wPPP>}AYP<XPCsPPPPEk<XPPPPPGd<XPPJcK`PPPPKdL|PMUNVPK`<X<X!#^!&V!*v!*v!.TPPP!.[!1O<XPPPPPPPPPP!3sP!5UPP<X!6cP<XP<X<X<X<XP<X!8vPP!;mP!>`!>h!>l!>lP!;jP!>p!>pP!AcP!Ag<X<X!Am!D_5qP5qP5q5qP!Eb5q5q!GY5q!I[5q!J|5q5q!Kj!Md!Md!Mh!Md!MpP!MdP5q!Nl5q# v5q5q-sPPP##TPP##m##mP##mP#$S##mPP#$YP#$PP#$P#$lMQ#$P#%Z#%a#%d(Y#%g(YP#%n#%n#%nP(YP(YP(YP(YPP(YP#%t#%wP#%w(YPPP(YP(YP(YP(YP(YP(Y(Y#%{#&V#&]#&c#&q#&w#&}#'X#'_#'i#'o#'}#(T#(Z#(i#)O#*b#*p#*v#*|#+S#+Y#+d#+j#+p#+z#,^#,dPPPPPPPPP#,jPP#-^#1[PP#2r#2y#3RP#7_PP#7c#9v#?p#?t#?w#?z#@V#@YPP#@]#@a#AO#As#Aw#BZPP#B_#Be#BiP#Bl#Bp#Bs#Cc#Cy#DO#DR#DU#D[#D_#Dc#DgmhOSj}!m$Y%a%d%e%g*i*n/]/`Q$gmQ$npQ%XyS&R!b+UQ&f!iS(f#x(kQ)a$hQ)n$pQ*Y%RQ+[&YS+c&_+eQ+u&gQ-a(mQ.z*ZY0P+g+h+i+j+kS2l.o2nU3u0Q0S0VU5b2q2r2sS6X3w3zS7P5c5dQ7k6ZR8O7R$l[ORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#a#d$Y$l%Y%]%a%c%d%e%g%k%v&O&Z&a&k&x&|'|)O)V*e*i*n+p+w,Y,`-j-o-w.R.r/T/U/V/X/]/`/b/y0`0j2a2y3^3`3a3q5j5x6S7h8[8q!j'`#[#j&S'r*}+Q,e/p0}2i3j6y9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kQ(v$PQ)f$jQ*[%UQ*c%^Q,P9iQ-|)ZQ.X)gQ/S*aQ2V.SQ3R.{Q4U9jR4}2WpeOSjy}!m$Y%W%a%d%e%g*i*n/]/`R*^%Y&WVOSTjkn}!S!W!]!j!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#[#a#d#j$Y$l%Y%]%^%a%c%d%e%g%k%v&O&Z&a&k&x&|'r'|)O)V*e*i*n*}+Q+p+w,Y,`,e-j-o-w.R.r/T/U/V/X/]/`/b/p/y0`0j0}2a2i2y3^3`3a3j3q5j5x6S6y7h8[8q9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:j:kW!cRU!`&SQ$`lQ$fmS$kp$pv$urs!q!t$W$s&[&o&r)r)s)t*g+O+_+z+|/f0bQ$}wQ&c!hQ&e!iS(Y#u(dS)`$g$hQ)d$jQ)q$rQ*T%PQ*X%RS+t&f&gQ,}(ZQ.Q)aQ.W)gQ.Y)hQ.])lQ.u*US.y*Y*ZQ0^+uQ1W,yQ2U.SQ2Y.VQ2_._Q3Q.zQ4a1XQ4|2WQ5P2[Q6s4{R7u6t!Y$dm!i$f$g$h&Q&e&f&g(e)`)a+R+b+t+u-Z.Q/u/|0R0^1m3t3y6V7i8]Q)X$`Q)y$zQ)|${Q*W%RQ.a)qQ.t*TU.x*X*Y*ZQ2{.uS3P.y.zQ5]2kQ5o3QS6}5^5aS7|7O7QQ8g7}R8v8hW#{a$b(s:hS$zt%WQ${uQ$|vR)w$x$V#za!v!x#c#u#w$Q$R$V&b'x(R(T(U(](a(q(r)U)W)Z)x){+q,V-Q-S-l-v-x.f.i.q.s1V1`1j1q1x1{2P2b2x2z4d4p4x5f5k6x7U8R9g9k9l9m9n9o9p9u9v9w9x9y9z9}:O:R:S:h:n:oV(w$P9i9jU&V!b$t+XQ'P!zQ)k$mQ.j)}Q1r-iR5X2g&YcORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#[#a#d#j$Y$l%Y%]%^%a%c%d%e%g%k%v&O&S&Z&a&k&x&|'r'|)O)V*e*i*n*}+Q+p+w,Y,`,e-j-o-w.R.r/T/U/V/X/]/`/b/p/y0`0j0}2a2i2y3^3`3a3j3q5j5x6S6y7h8[8q9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:k$]#`Z!_!n$^%u%y&t&{'R'S'T'U'V'W'X'Y'Z'[']'_'b'f'p)j*y+S+]+v,U,[,_,a,o-m/k/n0_0i0m0n0o0p0q0r0s0t0u0v0w0x0y0|1R1v2S3l3o4P4S4T4Y4Z5Z6O6R6_6c6d7e7x8Y8o8z9T:a&ZcORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#[#a#d#j$Y$l%Y%]%^%a%c%d%e%g%k%v&O&S&Z&a&k&x&|'r'|)O)V*e*i*n*}+Q+p+w,Y,`,e-j-o-w.R.r/T/U/V/X/]/`/b/p/y0`0j0}2a2i2y3^3`3a3j3q5j5x6S6y7h8[8q9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kQ&T!bR/q+UY%}!b&R&Y+U+[S(e#x(kS+b&_+eS-Z(f(mQ-[(gQ-b(nQ.l*PU/|+c+g+hU0R+i+j+kS0W+l2pQ1m-aQ1o-cQ1p-dS2k.o2nU3t0P0Q0SQ3x0TQ3y0VS5^2l2sS5a2q2rU6V3u3w3zQ6[3{S7O5b5cQ7Q5dS7i6X6ZS7}7P7RQ8]7kR8h8OlhOSj}!m$Y%a%d%e%g*i*n/]/`Q%i!QS&s!u9XQ)^$eQ*R$}Q*S%OQ+r&dS,T&x9rS-n)O9{Q.O)_Q.n*QQ/d*pQ/e*qQ/m+PQ0U+iQ0[+sS1w-o:PQ2Q.PS2T.R:QQ3k/oQ3n/wQ3}0]Q4z2RQ5|3hQ6P3mQ6T3sQ6]4OQ7c5}Q7f6UQ8X7gQ8l8VQ8n8ZR8y8p$W#_Z!_!n%u%y&t&{'R'S'T'U'V'W'X'Y'Z'[']'_'b'f'p)j*y+S+]+v,U,[,_,o-m/k/n0_0i0m0n0o0p0q0r0s0t0u0v0w0x0y0|1R1v2S3l3o4P4S4T4Y4Z5Z6O6R6_6c6d7e7x8Y8o8z9T:aU(p#y&w0{T)S$^,a$W#^Z!_!n%u%y&t&{'R'S'T'U'V'W'X'Y'Z'[']'_'b'f'p)j*y+S+]+v,U,[,_,o-m/k/n0_0i0m0n0o0p0q0r0s0t0u0v0w0x0y0|1R1v2S3l3o4P4S4T4Y4Z5Z6O6R6_6c6d7e7x8Y8o8z9T:aQ'a#_S)R$^,aR-p)S&YcORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#[#a#d#j$Y$l%Y%]%^%a%c%d%e%g%k%v&O&S&Z&a&k&x&|'r'|)O)V*e*i*n*}+Q+p+w,Y,`,e-j-o-w.R.r/T/U/V/X/]/`/b/p/y0`0j0}2a2i2y3^3`3a3j3q5j5x6S6y7h8[8q9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kQ%d{Q%e|Q%g!OQ%h!PR/[*lQ&`!hQ)T$`Q+o&cS-u)X)qS0X+m+nW1z-r-s-t.aS3|0Y0ZU4w1|1}2OU6q4v5T5UQ7t6rR8c7wT+d&_+eS+b&_+eU/|+c+g+hU0R+i+j+kS0W+l2pS2k.o2nU3t0P0Q0SQ3x0TQ3y0VS5^2l2sS5a2q2rU6V3u3w3zQ6[3{S7O5b5cQ7Q5dS7i6X6ZS7}7P7RQ8]7kR8h8OS+d&_+eT2m.o2nS&m!p/YQ,|(YQ-X(eS/{+b2kQ1],}S1g-Y-bU3v0R0W5aQ4`1WS4n1n1pU6Y3x3y7QQ6g4aQ6p4qR7l6[Q!wXS&l!p/YQ)P$XQ)[$cQ)b$iQ+x&mQ,{(YQ-W(eQ-](hQ-})]Q.v*VS/z+b2kS1[,|,}S1f-X-bQ1i-[Q1l-^Q2}.wW3r/{0R0W5aQ4_1WQ4c1]S4h1g1pQ4o1oQ5m3OW6W3v3x3y7QS6f4`4aQ6k4jQ6n4nQ6{5[Q7Y5nS7j6Y6[Q7n6gQ7p6lQ7s6pQ7z6|Q8T7ZQ8^7lQ8a7rQ8e7{Q8t8fQ8|8uQ9Q8}Q:Z:UQ:d:_R:e:`$nWORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#a#d$Y$l%Y%]%^%a%c%d%e%g%k%v&O&Z&a&k&x&|'|)O)V*e*i*n+p+w,Y,`-j-o-w.R.r/T/U/V/X/]/`/b/y0`0j2a2y3^3`3a3q5j5x6S7h8[8qS!wn!j!j:T#[#j&S'r*}+Q,e/p0}2i3j6y9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kR:Z:j$nXORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#a#d$Y$l%Y%]%^%a%c%d%e%g%k%v&O&Z&a&k&x&|'|)O)V*e*i*n+p+w,Y,`-j-o-w.R.r/T/U/V/X/]/`/b/y0`0j2a2y3^3`3a3q5j5x6S7h8[8qQ$Xb!Y$cm!i$f$g$h&Q&e&f&g(e)`)a+R+b+t+u-Z.Q/u/|0R0^1m3t3y6V7i8]S$in!jQ)]$dQ*V%RW.w*W*X*Y*ZU3O.x.y.zQ5[2kS5n3P3QU6|5]5^5aQ7Z5oU7{6}7O7QS8f7|7}S8u8g8hQ8}8v!j:U#[#j&S'r*}+Q,e/p0}2i3j6y9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kQ:_:iR:`:j$f]OSTjk}!S!W!]!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#a#d$Y$l%Y%]%a%c%d%e%g%k%v&O&Z&a&k&x&|'|)O)V*e*i*n+p+w,Y,`-j-o-w.R.r/T/U/V/X/]/`/b/y0`0j2a2y3^3`3a3q5j5x6S7h8[8qU!gRU!`v$urs!q!t$W$s&[&o&r)r)s)t*g+O+_+z+|/f0bQ*d%^!h:V#[#j'r*}+Q,e/p0}2i3j6y9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kR:Y&SS&W!b$tR/s+X$l[ORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#a#d$Y$l%Y%]%a%c%d%e%g%k%v&O&Z&a&k&x&|'|)O)V*e*i*n+p+w,Y,`-j-o-w.R.r/T/U/V/X/]/`/b/y0`0j2a2y3^3`3a3q5j5x6S7h8[8q!j'`#[#j&S'r*}+Q,e/p0}2i3j6y9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kR*c%^$noORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#a#d$Y$l%Y%]%^%a%c%d%e%g%k%v&O&Z&a&k&x&|'|)O)V*e*i*n+p+w,Y,`-j-o-w.R.r/T/U/V/X/]/`/b/y0`0j2a2y3^3`3a3q5j5x6S7h8[8qQ'P!z!k:W#[#j&S'r*}+Q,e/p0}2i3j6y9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:k!h#UZ!_$^%u%y&t&{'Y'Z'[']'b'f)j*y+]+v,U,[,o-m0_0i0y1v2S3o4P4S6R7e8Y8o8z9T!R9`'_'p+S,a/k/n0m0u0v0w0x0|1R3l4T4Y4Z5Z6O6_6c6d7x:a!d#WZ!_$^%u%y&t&{'[']'b'f)j*y+]+v,U,[,o-m0_0i0y1v2S3o4P4S6R7e8Y8o8z9T}9b'_'p+S,a/k/n0m0w0x0|1R3l4T4Y4Z5Z6O6_6c6d7x:a!`#[Z!_$^%u%y&t&{'b'f)j*y+]+v,U,[,o-m0_0i0y1v2S3o4P4S6R7e8Y8o8z9Tl(U#s&y(},w-P-e-f0g1u4^4r:[:f:gx:k'_'p+S,a/k/n0m0|1R3l4T4Y4Z5Z6O6_6c6d7x:a!`:n&u'd(X(_+n,S,l-T-q-t.e.g0Z0f1^1b2O2d2f2v4R4e4k4t4y5U5i6^6i6o7WZ:o0z4X6`7m8_&YcORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#[#a#d#j$Y$l%Y%]%^%a%c%d%e%g%k%v&O&S&Z&a&k&x&|'r'|)O)V*e*i*n*}+Q+p+w,Y,`,e-j-o-w.R.r/T/U/V/X/]/`/b/p/y0`0j0}2a2i2y3^3`3a3j3q5j5x6S6y7h8[8q9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kS#k`#lR1O,d&a_ORSTU`jk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#[#a#d#j#l$Y$l%Y%]%^%a%c%d%e%g%k%v&O&S&Z&a&k&x&|'r'|)O)V*e*i*n*}+Q+p+w,Y,`,d,e-j-o-w.R.r/T/U/V/X/]/`/b/p/y0`0j0}2a2i2y3^3`3a3j3q5j5x6S6y7h8[8q9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kS#f^#mT'i#h'mT#g^#mT'k#h'm&a`ORSTU`jk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#[#a#d#j#l$Y$l%Y%]%^%a%c%d%e%g%k%v&O&S&Z&a&k&x&|'r'|)O)V*e*i*n*}+Q+p+w,Y,`,d,e-j-o-w.R.r/T/U/V/X/]/`/b/p/y0`0j0}2a2i2y3^3`3a3j3q5j5x6S6y7h8[8q9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:kT#k`#lQ#n`R't#l$nbORSTUjk}!S!W!]!`!m!u!y!{#O#P#Q#R#S#T#U#V#W#X#Y#a#d$Y$l%Y%]%^%a%c%d%e%g%k%v&O&Z&a&k&x&|'|)O)V*e*i*n+p+w,Y,`-j-o-w.R.r/T/U/V/X/]/`/b/y0`0j2a2y3^3`3a3q5j5x6S7h8[8q!k:i#[#j&S'r*}+Q,e/p0}2i3j6y9S9U9X9Y9Z9[9]9^9_9`9a9b9c9d9e9h9q9r9t9{9|:P:Q:k#RdOSUj}!S!W!m!{#j$Y%Y%]%^%a%c%d%e%g%k&O&a'r)V*e*i*n+p,e-j-w.r/T/U/V/X/]/`/b0}2a2y3^3`3a5j5xt#ya!x$Q$R$V(R(T(U(](q(r,V-l1V1q:h:n:o!|&w!v#c#u#w&b'x(a)U)W)Z)x){+q-Q-S-v-x.f.i.q.s1`1j1x1{2P2b2x2z4d4p4x5f5k6x7U8R9k9m9o9u9w9y9}:RQ({$TQ,p'}c0{9g9l9n9p9v9x9z:O:St#va!x$Q$R$V(R(T(U(](q(r,V-l1V1q:h:n:oS(h#x(kQ(|$UQ-^(i!|:]!v#c#u#w&b'x(a)U)W)Z)x){+q-Q-S-v-x.f.i.q.s1`1j1x1{2P2b2x2z4d4p4x5f5k6x7U8R9k9m9o9u9w9y9}:Rb:^9g9l9n9p9v9x9z:O:SQ:b:lR:c:mt#ya!x$Q$R$V(R(T(U(](q(r,V-l1V1q:h:n:o!|&w!v#c#u#w&b'x(a)U)W)Z)x){+q-Q-S-v-x.f.i.q.s1`1j1x1{2P2b2x2z4d4p4x5f5k6x7U8R9k9m9o9u9w9y9}:Rc0{9g9l9n9p9v9x9z:O:SlfOSj}!m$Y%a%d%e%g*i*n/]/`Q(`#wQ*u%nQ*v%pR1_-Q$U#za!v!x#c#u#w$Q$R$V&b'x(R(T(U(](a(q(r)U)W)Z)x){+q,V-Q-S-l-v-x.f.i.q.s1V1`1j1q1x1{2P2b2x2z4d4p4x5f5k6x7U8R9g9k9l9m9n9o9p9u9v9w9x9y9z9}:O:R:S:h:n:oQ)z${Q.h)|Q2e.gR5W2fT(j#x(kS(j#x(kT2m.o2nQ)[$cQ-](hQ-})]Q.v*VQ2}.wQ5m3OQ6{5[Q7Y5nQ7z6|Q8T7ZQ8e7{Q8t8fQ8|8uR9Q8}l(R#s&y(},w-P-e-f0g1u4^4r:[:f:g!`9u&u'd(X(_+n,S,l-T-q-t.e.g0Z0f1^1b2O2d2f2v4R4e4k4t4y5U5i6^6i6o7WZ9v0z4X6`7m8_n(T#s&y(},u,w-P-e-f0g1u4^4r:[:f:g!b9w&u'd(X(_+n,S,l-T-q-t.e.g0Z0d0f1^1b2O2d2f2v4R4e4k4t4y5U5i6^6i6o7W]9x0z4X6`6a7m8_peOSjy}!m$Y%W%a%d%e%g*i*n/]/`Q%TxR*e%^peOSjy}!m$Y%W%a%d%e%g*i*n/]/`R%TxQ*O$|R.d)wqeOSjy}!m$Y%W%a%d%e%g*i*n/]/`Q.p*TS2w.t.uW5e2t2u2v2{U7T5g5h5iU8P7S7V7WQ8i8QR8w8jQ%[yR*_%WR3U.}R7]5pS$kp$pR.Y)hQ%azR*i%bR*o%hT/^*n/`QjOQ!mST$]j!mQ'z#rR,m'zQ!YQR%s!YQ!^RU%w!^%x*zQ%x!_R*z%yQ+V&TR/r+VQ,W&yR0h,WQ,Z&{S0k,Z0lR0l,[Q+e&_R/}+eQ&]!eQ*{%zT+`&]*{Q+Y&WR/t+YQ&p!rQ+y&nU+}&p+y0cR0c,OQ'm#hR,f'mQ#l`R's#lQ#bZU'c#b*x9fQ*x9TR9f'pQ,z(YW1Y,z1Z4b6hU1Z,{,|,}S4b1[1]R6h4c#q(P#s&u&y'd(X(_(x(y(}+n,Q,R,S,l,u,v,w-P-T-e-f-q-t.e.g0Z0d0e0f0g0z1^1b1u2O2d2f2v4R4V4W4X4^4e4k4r4t4y5U5i6^6`6a6b6i6o7W7m8_:[:f:gQ-R(_U1a-R1c4fQ1c-TR4f1bQ(k#xR-_(kQ(t#|R-h(tQ1y-qR4u1yQ)u$vR.c)uQ2h.jS5Y2h6zR6z5ZQ*Q$}R.m*QQ2n.oR5_2nQ.|*[S3S.|5qR5q3UQ.T)dW2X.T2Z5O6uQ2Z.WQ5O2YR6u5PQ)i$kR.Z)iQ/`*nR3d/`WiOSj!mQ%f}Q)Q$YQ*h%aQ*j%dQ*k%eQ*m%gQ/Z*iS/^*n/`R3c/]Q$[gQ%j!RQ%m!TQ%o!UQ%q!VQ)p$qQ)v$wQ*^%[Q*s%lS/P*_*bQ/g*rQ/h*uQ/i*vS/x+b2kQ1d-VQ1e-WQ1k-]Q2^.^Q2c.eQ2|.vQ3W/RQ3b/[Y3p/z/{0R0W5aQ4g1fQ4i1hQ4l1lQ5S2`Q5V2dQ5l2}Q5r3V[6Q3o3r3v3x3y7QQ6j4hQ6m4mQ6v5QQ7X5mQ7^5sW7d6R6W6Y6[Q7o6kQ7q6nQ7v6wQ7y6{Q8S7YU8W7e7j7lQ8`7pQ8b7sQ8d7zQ8k8TS8m8Y8^Q8r8aQ8s8eQ8x8oQ8{8tQ9O8zQ9P8|R9R9QQ$emQ&d!iU)_$f$g$hQ+P&QU+s&e&f&gQ-V(eS.P)`)aQ/o+RQ/w+bS0]+t+uQ1h-ZQ2R.QQ3m/uS3s/|0RQ4O0^Q4m1mS6U3t3yQ7g6VQ8Z7iR8p8]S#ta:hR)Y$bU#|a$b:hR-g(sQ#saS&u!v)ZQ&y!xQ'd#cQ(X#uQ(_#wQ(x$QQ(y$RQ(}$VQ+n&bQ,Q9kQ,R9mQ,S9oQ,l'xQ,u(RQ,v(TQ,w(UQ-P(]Q-T(aQ-e(qQ-f(rd-q)U-v.q1{2x4x5f6x7U8RQ-t)WQ.e)xQ.g){Q0Z+qQ0d9uQ0e9wQ0f9yQ0g,VQ0z9gQ1^-QQ1b-SQ1u-lQ2O-xQ2d.fQ2f.iQ2v.sQ4R9}Q4V9lQ4W9nQ4X9pQ4^1VQ4e1`Q4k1jQ4r1qQ4t1xQ4y2PQ5U2bQ5i2zQ6^:RQ6`9zQ6a9vQ6b9xQ6i4dQ6o4pQ7W5kQ7m:OQ8_:SQ:[:hQ:f:nR:g:oT'y#r'zlgOSj}!m$Y%a%d%e%g*i*n/]/`S!oU%cQ%l!SQ%r!WQ'Q!{Q'q#jS*b%Y%]Q*f%^Q*r%kQ*|&OQ+m&aQ,j'rQ-s)VQ/W*eQ0Y+pQ1Q,eQ1s-jQ1}-wQ2u.rQ3Y/TQ3Z/UQ3]/VQ3_/XQ3f/bQ4[0}Q5T2aQ5h2yQ5w3^Q5y3`Q5z3aQ7V5jR7`5x!vZOSUj}!S!m!{$Y%Y%]%^%a%c%d%e%g%k&O&a)V*e*i*n+p-j-w.r/T/U/V/X/]/`/b2a2y3^3`3a5j5xQ!_RQ!nTQ$^kQ%u!]Q%y!`Q&t!uQ&{!yQ'R#OQ'S#PQ'T#QQ'U#RQ'V#SQ'W#TQ'X#UQ'Y#VQ'Z#WQ'[#XQ']#YQ'_#[Q'b#aQ'f#dW'p#j'r,e0}Q)j$lQ*y%vS+S&S/pQ+]&ZQ+v&kQ,U&xQ,[&|Q,_9SQ,a9UQ,o'|Q-m)OQ/k*}Q/n+QQ0_+wQ0i,YQ0m9XQ0n9YQ0o9ZQ0p9[Q0q9]Q0r9^Q0s9_Q0t9`Q0u9aQ0v9bQ0w9cQ0x9dQ0y,`Q0|9hQ1R9eQ1v-oQ2S.RQ3l9qQ3o/yQ4P0`Q4S0jQ4T9rQ4Y9tQ4Z9{Q5Z2iQ6O3jQ6R3qQ6_9|Q6c:PQ6d:QQ7e6SQ7x6yQ8Y7hQ8o8[Q8z8qQ9T!WR:a:kT!XQ!YR!aRR&U!bS&Q!b+US+R&R&YR/u+[R&z!xR&}!yT!sU$WS!rU$WU$vrs*gS&n!q!tQ+{&oQ,O&rQ.b)tS0a+z+|R4Q0b[!dR!`$s&[)r+_h!pUrs!q!t$W&o&r)t+z+|0bQ/Y*gQ/l+OQ3i/fT:X&S)sT!fR$sS!eR$sS%z!`)rS+T&S)sQ+^&[R/v+_T&X!b$tQ#h^R'v#mT'l#h'mR1P,dT([#u(dR(b#wQ-r)UQ1|-vQ2t.qQ4v1{Q5g2xQ6r4xQ7S5fQ7w6xQ8Q7UR8j8RlhOSj}!m$Y%a%d%e%g*i*n/]/`Q%ZyR*^%WV$wrs*gR.k)}R*]%UQ$opR)o$pR)e$jT%_z%bT%`z%bT/_*n/`",nodeNames:"\u26a0 ArithOp ArithOp extends LineComment BlockComment Script ExportDeclaration export Star as VariableName from String ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:330,context:u,nodeProps:[[o.md.group,-26,7,14,16,54,180,184,187,188,190,193,196,207,209,215,217,219,221,224,230,234,236,238,240,242,244,245,"Statement",-30,11,13,23,26,27,38,39,40,41,43,48,56,64,70,71,87,88,97,99,115,118,120,121,122,123,125,126,144,145,147,"Expression",-22,22,24,28,29,31,148,150,152,153,155,156,157,159,160,161,163,164,165,174,176,178,179,"Type",-3,75,81,86,"ClassItem"],[o.md.closedBy,37,"]",47,"}",62,")",128,"JSXSelfCloseEndTag JSXEndTag",142,"JSXEndTag"],[o.md.openedBy,42,"[",46,"{",61,"(",127,"JSXStartTag",137,"JSXStartTag JSXStartCloseTag"]],skippedNodes:[0,4,5],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$QWO!^%T!_#o%T#p~%T,T%jg$QW'T+{OX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T,T'YR$QW'U+{O!^%T!_#o%T#p~%T$T'jS$QW!f#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#a#v$QWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#a#v$QWO!^%T!_#o%T#p~%T'u(rZ$QW]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$QWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR#{&j$QWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO#{&j'u*{R#{&j$QW]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO#{&j]!R'm+zROr+Urs,Ts~+U'm,[U#{&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV$QWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ#{&j$QW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ$QW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR$QW]!RO!^%T!_#o%T#p~%T!Z0XT$QWO!^.x!^!_,n!_#o.x#o#p,n#p~.xy0mZ$QWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`y1g]$QW'mqOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`&i2k_$QW#vS'W%k'dpOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$QW#vSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#Y#v$QWO!^%T!_!`5T!`#o%T#p~%T$O5[R$QW#k#vO!^%T!_#o%T#p~%T%r5lU'v%j$QWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$QW#e#vO!^%T!_!`5T!`#o%T#p~%T'u6jZ$QW]!ROY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$QWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w'm8YV]!ROY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T'm8rROw8Twx8{x~8T'm9SU#{&j]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R9kU]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R:QPO~9f'u:YV$QWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c'u:xZ#{&j$QW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z;rZ$QW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z<jT$QWO!^;k!^!_9f!_#o;k#o#p9f#p~;k%V=QR!`$}$QWO!^%T!_#o%T#p~%TZ=bR!_R$QWO!^%T!_#o%T#p~%T%R=tU'X!R#Z#v$QWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#W#v$QWO!^%T!_!`5T!`#o%T#p~%T$u>rSi$m$QWO!^%T!_!`5T!`#o%T#p~%T&i?VR}&a$QWO!^%T!_#o%T#p~%T&i?gVr%n$QWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%Ty@RT$QWO!O%T!O!P@b!P!^%T!_#o%T#p~%Ty@iR|q$QWO!^%T!_#o%T#p~%Ty@yZ$QWjqO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%TyAqZ$QWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyBiV$QWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyCVV$QWjqO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T,TCs`$QW#X#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$QWyPOYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$QWyPO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}VyPOYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiUyP#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$QWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$QWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$QWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du,TJs^$QWyPOYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl,TKtV$QWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko,TL`X$QWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko,TMSR$QWT+{O!^%T!_#o%T#p~%T+{M`ROzM]z{Mi{~M]+{MlTOzM]z{Mi{!PM]!P!QM{!Q~M]+{NQOT+{,TNX^$QWyPOYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl,T! ^_$QWT+{yPO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T+{!!bYyPOY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]+{!#VYyPOY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]+{!#|UT+{yP#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd+{!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`+{!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`+{!%sTT+{OYG{Z#OG{#O#PH_#P#QFx#Q~G{+{!&VTOY!$`YZM]Zz!$`z{!${{~!$`+{!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]+{!&}_yPOzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M],T!(R[$QWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|,T!(|^$QWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|,T!*PY$QWT+{OYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq,T!*tX$QWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|,T!+fX$QWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl,T!,Yc$QWyPOzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko,T!-lV$QWS+{OY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e+{!.WQS+{OY!.RZ~!.R$P!.g[$QW#k#vyPOYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#sS$QWyPOYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Duy!0cd$QWjqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%Ty!1x_$QWjqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%Ty!3OR$QWjqO!^%T!_#o%T#p~%Ty!3^W$QWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%Ty!3}Y$QWjqO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%Ty!4rV$QWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%Ty!5`X$QWjqO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%Ty!6QZ$QWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%Ty!6z]$QWjqO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T%w!7|R!XV$QW#i%hO!^%T!_#o%T#p~%T!P!8^R^w$QWO!^%T!_#o%T#p~%T+c!8rR']d!]%Y#t&s'zP!P!Q!8{!^!_!9Q!_!`!9_W!9QO$SW#v!9VP#[#v!_!`!9Y#v!9_O#k#v#v!9dO#]#v%w!9kT!w%o$QWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#S#w$QWO!^%T!_#o%T#p~%T%w!:gT'[!s#]#v#}S$QWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#]#v$QWO!^%T!_#o%T#p~%T$O!;_T#[#v$QWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#[#v$QWO!^%T!_!`5T!`#o%T#p~%T%w!<YV'n%o$QWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T$`!<vRs$W$QWO!^%T!_#o%T#p~%T$O!=WS$QW#f#vO!^%T!_!`5T!`#o%T#p~%T&e!=kRu&]$QWO!^%T!_#o%T#p~%TZ!={RzR$QWO!^%T!_#o%T#p~%T$O!>]S#c#v$QWO!^%T!_!`5T!`#o%T#p~%T$P!>pR$QW'a#wO!^%T!_#o%T#p~%T~!?OO!P~%r!?VT'u%j$QWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T$u!?oR!O$k$QW'cQO!^%T!_#o%T#p~%TX!@PR!gP$QWO!^%T!_#o%T#p~%T,T!@gr$QW'T+{#vS'W%k'dpOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`,T!CO_$QW'U+{#vS'W%k'dpOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[c,h,f,0,1,2,3,4,5,6,7,8,l],topRules:{Script:[0,6]},dialects:{jsx:11282,ts:11284},dynamicPrecedences:{145:1,172:1},specialized:[{term:284,get:function(e,t){return function(e,t){return"extends"==e&&t.dialectEnabled(1)?3:-1}(e,t)<<1}},{term:284,get:function(e){return d[e]||-1}},{term:296,get:function(e){return p[e]||-1}},{term:59,get:function(e){return v[e]||-1}}],tokenPrec:11305}),g=n(1450),y=n(27),b=n(7102),O=[(0,b.Gn)("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),(0,b.Gn)("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),(0,b.Gn)("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),(0,b.Gn)("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"block",type:"keyword"}),(0,b.Gn)("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),(0,b.Gn)('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),(0,b.Gn)('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],x=g.qp.define({parser:m.configure({props:[g.uj.add({IfStatement:(0,g.tC)({except:/^\s*({|else\b)/}),TryStatement:(0,g.tC)({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:g.ze,SwitchBody:function(e){var t=e.textAfter,n=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:r?1:2)*e.unit},Block:(0,g.vw)({closing:"}"}),ArrowFunction:function(e){return e.baseIndent+e.unit},"TemplateString BlockComment":function(){return-1},"Statement Property":(0,g.tC)({except:/^{/}),JSXElement:function(e){var t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape:function(e){var t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":function(e){return e.column(e.node.from)+e.unit}}),g.x0.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":g.Dv,BlockComment:function(e){return{from:e.from+2,to:e.to-2}}}),(0,y.Gv)({"get set async static":y.pJ.modifier,"for while do if else switch try catch finally return throw break continue default case":y.pJ.controlKeyword,"in of await yield void typeof delete instanceof":y.pJ.operatorKeyword,"let var const function class extends":y.pJ.definitionKeyword,"import export from":y.pJ.moduleKeyword,"with debugger as new":y.pJ.keyword,TemplateString:y.pJ.special(y.pJ.string),Super:y.pJ.atom,BooleanLiteral:y.pJ.bool,this:y.pJ.self,null:y.pJ.null,Star:y.pJ.modifier,VariableName:y.pJ.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":y.pJ.function(y.pJ.variableName),VariableDefinition:y.pJ.definition(y.pJ.variableName),Label:y.pJ.labelName,PropertyName:y.pJ.propertyName,PrivatePropertyName:y.pJ.special(y.pJ.propertyName),"CallExpression/MemberExpression/PropertyName":y.pJ.function(y.pJ.propertyName),"FunctionDeclaration/VariableDefinition":y.pJ.function(y.pJ.definition(y.pJ.variableName)),"ClassDeclaration/VariableDefinition":y.pJ.definition(y.pJ.className),PropertyDefinition:y.pJ.definition(y.pJ.propertyName),PrivatePropertyDefinition:y.pJ.definition(y.pJ.special(y.pJ.propertyName)),UpdateOp:y.pJ.updateOperator,LineComment:y.pJ.lineComment,BlockComment:y.pJ.blockComment,Number:y.pJ.number,String:y.pJ.string,ArithOp:y.pJ.arithmeticOperator,LogicOp:y.pJ.logicOperator,BitOp:y.pJ.bitwiseOperator,CompareOp:y.pJ.compareOperator,RegExp:y.pJ.regexp,Equals:y.pJ.definitionOperator,"Arrow : Spread":y.pJ.punctuation,"( )":y.pJ.paren,"[ ]":y.pJ.squareBracket,"{ }":y.pJ.brace,".":y.pJ.derefOperator,", ;":y.pJ.separator,TypeName:y.pJ.typeName,TypeDefinition:y.pJ.definition(y.pJ.typeName),"type enum interface implements namespace module declare":y.pJ.definitionKeyword,"abstract global Privacy readonly override":y.pJ.modifier,"is keyof unique infer":y.pJ.operatorKeyword,JSXAttributeValue:y.pJ.attributeValue,JSXText:y.pJ.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":y.pJ.angleBracket,"JSXIdentifier JSXNameSpacedName":y.pJ.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":y.pJ.attributeName})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),w=x.configure({dialect:"ts"}),k=x.configure({dialect:"jsx"}),S=x.configure({dialect:"jsx ts"});function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.jsx?e.typescript?S:k:e.typescript?w:x;return new g.ri(t,x.data.of({autocomplete:(0,b.eC)(["LineComment","BlockComment","String"],(0,b.Mb)(O))}))}function T(e,t){return t||(t={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},e.getRules().forEach((function(e,n){e.meta.docs.recommended&&(t.rules[n]=2)}))),function(n){var i,o=n.state,a=[],s=(0,r.Z)(x.findRegions(o));try{for(s.s();!(i=s.n()).done;){var u,l=i.value,c=l.from,h=l.to,f=o.doc.lineAt(c),d={line:f.number-1,col:c-f.from,pos:c},p=(0,r.Z)(e.verify(o.sliceDoc(c,h),t));try{for(p.s();!(u=p.n()).done;){var v=u.value;a.push(E(v,o.doc,d))}}catch(m){p.e(m)}finally{p.f()}}}catch(m){s.e(m)}finally{s.f()}return a}}function M(e,t,n,r){return n.line(e+r.line).from+t+(1==e?r.col-1:-1)}function E(e,t,n){var r=M(e.line,e.column,t,n),i={from:r,to:null!=e.endLine&&1!=e.endColumn?M(e.endLine,e.endColumn,t,n):r,message:e.message,source:e.ruleId?"jshint:"+e.ruleId:"jshint",severity:1==e.severity?"warning":"error"};if(e.fix){var o=e.fix,a=o.range,s=o.text,u=a[0]+n.pos-r,l=a[1]+n.pos-r;i.actions=[{name:"fix",apply:function(e,t){e.dispatch({changes:{from:t+u,to:t+l,insert:s},scrollIntoView:!0})}}]}return i}},5798:function(e,t,n){"use strict";n.r(t),n.d(t,{commonmarkLanguage:function(){return ze},deleteMarkupBackward:function(){return qe},insertNewlineContinueMarkup:function(){return He},markdown:function(){return Je},markdownKeymap:function(){return Xe},markdownLanguage:function(){return je}});var r,i,o=n(5671),a=n(3144),s=n(6580),u=n(4294),l=n(1450),c=n(136),h=n(9388),f=n(3433),d=n(7762),p=n(4942),v=n(4499),m=function(){function e(t,n,r,i,a,s,u){(0,o.Z)(this,e),this.type=t,this.value=n,this.from=r,this.hash=i,this.end=a,this.children=s,this.positions=u,this.hashProp=[[v.md.contextHash,i]]}return(0,a.Z)(e,[{key:"addChild",value:function(e,t){e.prop(v.md.contextHash)!=this.hash&&(e=new v.mp(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}},{key:"toTree",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.end,r=this.children.length-1;r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from));var i=new v.mp(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:function(e,n,r){return new v.mp(v.Jq.none,e,n,r,t.hashProp)}});return i}}],[{key:"create",value:function(t,n,r,i,o){return new e(t,n,r,i+(i<<8)+t+(n<<4)|0,o,[],[])}}]),e}();!function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.URL=33]="URL",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeText=40]="CodeText",e[e.CodeInfo=41]="CodeInfo",e[e.LinkTitle=42]="LinkTitle",e[e.LinkLabel=43]="LinkLabel"}(i||(i={}));var g=(0,a.Z)((function e(t,n){(0,o.Z)(this,e),this.start=t,this.content=n,this.marks=[],this.parsers=[]})),y=function(){function e(){(0,o.Z)(this,e),this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}return(0,a.Z)(e,[{key:"forward",value:function(){this.basePos>this.pos&&this.forwardInner()}},{key:"forwardInner",value:function(){var e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}},{key:"skipSpace",value:function(e){return w(this.text,e)}},{key:"reset",value:function(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}},{key:"moveBase",value:function(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}},{key:"moveBaseColumn",value:function(e){this.baseIndent=e,this.basePos=this.findColumn(e)}},{key:"addMarker",value:function(e){this.markers.push(e)}},{key:"countIndent",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t;r<e;r++)n+=9==this.text.charCodeAt(r)?4-n%4:1;return n}},{key:"findColumn",value:function(e){for(var t=0,n=0;t<this.text.length&&n<e;t++)n+=9==this.text.charCodeAt(t)?4-n%4:1;return t}},{key:"scrub",value:function(){if(!this.baseIndent)return this.text;for(var e="",t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}]),e}();function b(e,t,n){if(n.pos==n.text.length||e!=t.block&&n.indent>=t.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;var r=(e.type==i.OrderedList?P:E)(n,t,!1);return r>0&&(e.type!=i.BulletList||T(n,t,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==e.value}var O=(r={},(0,p.Z)(r,i.Blockquote,(function(e,t,n){return 62==n.next&&(n.markers.push(ie(i.QuoteMark,t.lineStart+n.pos,t.lineStart+n.pos+1)),n.moveBase(n.pos+(x(n.text.charCodeAt(n.pos+1))?2:1)),e.end=t.lineStart+n.text.length,!0)})),(0,p.Z)(r,i.ListItem,(function(e,t,n){return!(n.indent<n.baseIndent+e.value&&n.next>-1)&&(n.moveBaseColumn(n.baseIndent+e.value),!0)})),(0,p.Z)(r,i.OrderedList,b),(0,p.Z)(r,i.BulletList,b),(0,p.Z)(r,i.Document,(function(){return!0})),r);function x(e){return 32==e||9==e||10==e||13==e}function w(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t<e.length&&x(e.charCodeAt(t));)t++;return t}function k(e,t,n){for(;t>n&&x(e.charCodeAt(t-1));)t--;return t}function S(e){if(96!=e.next&&126!=e.next)return-1;for(var t=e.pos+1;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(96==e.next)for(var n=t;n<e.text.length;n++)if(96==e.text.charCodeAt(n))return-1;return t}function _(e){return 62!=e.next?-1:32==e.text.charCodeAt(e.pos+1)?2:1}function T(e,t,n){if(42!=e.next&&45!=e.next&&95!=e.next)return-1;for(var r=1,i=e.pos+1;i<e.text.length;i++){var o=e.text.charCodeAt(i);if(o==e.next)r++;else if(!x(o))return-1}return n&&45==e.next&&A(e)>-1&&e.depth==t.stack.length||r<3?-1:1}function M(e,t){for(var n=e.stack.length-1;n>=0;n--)if(e.stack[n].type==t)return!0;return!1}function E(e,t,n){return 45!=e.next&&43!=e.next&&42!=e.next||e.pos!=e.text.length-1&&!x(e.text.charCodeAt(e.pos+1))||!(!n||M(t,i.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?-1:1}function P(e,t,n){for(var r=e.pos,o=e.next;o>=48&&o<=57;){if(++r==e.text.length)return-1;o=e.text.charCodeAt(r)}return r==e.pos||r>e.pos+9||46!=o&&41!=o||r<e.text.length-1&&!x(e.text.charCodeAt(r+1))||n&&!M(t,i.OrderedList)&&(e.skipSpace(r+1)==e.text.length||r>e.pos+1||49!=e.next)?-1:r+1-e.pos}function C(e){if(35!=e.next)return-1;for(var t=e.pos+1;t<e.text.length&&35==e.text.charCodeAt(t);)t++;if(t<e.text.length&&32!=e.text.charCodeAt(t))return-1;var n=t-e.pos;return n>6?-1:n}function A(e){if(45!=e.next&&61!=e.next||e.indent>=e.baseIndent+4)return-1;for(var t=e.pos+1;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;for(var n=t;t<e.text.length&&x(e.text.charCodeAt(t));)t++;return t==e.text.length?n:-1}var R=/^[ \t]*$/,L=/-->/,Q=/\?>/,D=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,L],[/^\s*<\?/,Q],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,R],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,R]];function Z(e,t,n){if(60!=e.next)return-1;for(var r=e.text.slice(e.pos),i=0,o=D.length-(n?1:0);i<o;i++)if(D[i][0].test(r))return i;return-1}function I(e,t){var n=e.countIndent(t,e.pos,e.indent),r=e.countIndent(e.skipSpace(t),t,n);return r>=n+5?n+1:r}function N(e,t,n){var r=e.length-1;r>=0&&e[r].to==t&&e[r].type==i.CodeText?e[r].to=n:e.push(ie(i.CodeText,t,n))}var z={LinkReference:void 0,IndentedCode:function(e,t){var n=t.baseIndent+4;if(t.indent<n)return!1;var r=t.findColumn(n),o=e.lineStart+r,a=e.lineStart+t.text.length,s=[],u=[];for(N(s,o,a);e.nextLine()&&t.depth>=e.stack.length;)if(t.pos==t.text.length){N(u,e.lineStart-1,e.lineStart);var l,c=(0,d.Z)(t.markers);try{for(c.s();!(l=c.n()).done;){var h=l.value;u.push(h)}}catch(O){c.e(O)}finally{c.f()}}else{if(t.indent<n)break;if(u.length){var f,p=(0,d.Z)(u);try{for(p.s();!(f=p.n()).done;){var v=f.value;v.type==i.CodeText?N(s,v.from,v.to):s.push(v)}}catch(O){p.e(O)}finally{p.f()}u=[]}N(s,e.lineStart-1,e.lineStart);var m,g=(0,d.Z)(t.markers);try{for(g.s();!(m=g.n()).done;){var y=m.value;s.push(y)}}catch(O){g.e(O)}finally{g.f()}a=e.lineStart+t.text.length;var b=e.lineStart+t.findColumn(t.baseIndent+4);b<a&&N(s,b,a)}return u.length&&(u=u.filter((function(e){return e.type!=i.CodeText})),u.length&&(t.markers=u.concat(t.markers))),e.addNode(e.buffer.writeElements(s,-o).finish(i.CodeBlock,a-o),o),!0},FencedCode:function(e,t){var n=S(t);if(n<0)return!1;var r=e.lineStart+t.pos,o=t.next,a=n-t.pos,s=t.skipSpace(n),u=k(t.text,t.text.length,s),l=[ie(i.CodeMark,r,r+a)];s<u&&l.push(ie(i.CodeInfo,e.lineStart+s,e.lineStart+u));for(var c=!0;e.nextLine()&&t.depth>=e.stack.length;c=!1){var h=t.pos;if(t.indent-t.baseIndent<4)for(;h<t.text.length&&t.text.charCodeAt(h)==o;)h++;if(h-t.pos>=a&&t.skipSpace(h)==t.text.length){var f,p=(0,d.Z)(t.markers);try{for(p.s();!(f=p.n()).done;){var v=f.value;l.push(v)}}catch(x){p.e(x)}finally{p.f()}l.push(ie(i.CodeMark,e.lineStart+t.pos,e.lineStart+h)),e.nextLine();break}c||N(l,e.lineStart-1,e.lineStart);var m,g=(0,d.Z)(t.markers);try{for(g.s();!(m=g.n()).done;){var y=m.value;l.push(y)}}catch(x){g.e(x)}finally{g.f()}var b=e.lineStart+t.basePos,O=e.lineStart+t.text.length;b<O&&N(l,b,O)}return e.addNode(e.buffer.writeElements(l,-r).finish(i.FencedCode,e.prevLineEnd()-r),r),!0},Blockquote:function(e,t){var n=_(t);return!(n<0)&&(e.startContext(i.Blockquote,t.pos),e.addNode(i.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+n),null)},HorizontalRule:function(e,t){if(T(t,e,!1)<0)return!1;var n=e.lineStart+t.pos;return e.nextLine(),e.addNode(i.HorizontalRule,n),!0},BulletList:function(e,t){var n=E(t,e,!1);if(n<0)return!1;e.block.type!=i.BulletList&&e.startContext(i.BulletList,t.basePos,t.next);var r=I(t,t.pos+1);return e.startContext(i.ListItem,t.basePos,r-t.baseIndent),e.addNode(i.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(r),null},OrderedList:function(e,t){var n=P(t,e,!1);if(n<0)return!1;e.block.type!=i.OrderedList&&e.startContext(i.OrderedList,t.basePos,t.text.charCodeAt(t.pos+n-1));var r=I(t,t.pos+n);return e.startContext(i.ListItem,t.basePos,r-t.baseIndent),e.addNode(i.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(r),null},ATXHeading:function(e,t){var n=C(t);if(n<0)return!1;for(var r=t.pos,o=e.lineStart+r,a=k(t.text,t.text.length,r),s=a;s>r&&t.text.charCodeAt(s-1)==t.next;)s--;s!=a&&s!=r&&x(t.text.charCodeAt(s-1))||(s=t.text.length);var u=e.buffer.write(i.HeaderMark,0,n).writeElements(e.parser.parseInline(t.text.slice(r+n+1,s),o+n+1),-o);s<t.text.length&&u.write(i.HeaderMark,s-r,a-r);var l=u.finish(i.ATXHeading1-1+n,t.text.length-r);return e.nextLine(),e.addNode(l,o),!0},HTMLBlock:function(e,t){var n=Z(t,0,!1);if(n<0)return!1;for(var r=e.lineStart+t.pos,o=D[n][1],a=[],s=o!=R;!o.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){s=!1;break}var u,l=(0,d.Z)(t.markers);try{for(l.s();!(u=l.n()).done;){var c=u.value;a.push(c)}}catch(p){l.e(p)}finally{l.f()}}s&&e.nextLine();var h=o==L?i.CommentBlock:o==Q?i.ProcessingInstructionBlock:i.HTMLBlock,f=e.prevLineEnd();return e.addNode(e.buffer.writeElements(a,-r).finish(h,f-r),r),!0},SetextHeading:void 0},j=function(){function e(t){(0,o.Z)(this,e),this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}return(0,a.Z)(e,[{key:"nextLine",value:function(e,t,n){if(-1==this.stage)return!1;var r=n.content+"\n"+t.scrub(),i=this.advance(r);return i>-1&&i<r.length&&this.complete(e,n,i)}},{key:"finish",value:function(e,t){return(2==this.stage||3==this.stage)&&w(t.content,this.pos)==t.content.length&&this.complete(e,t,t.content.length)}},{key:"complete",value:function(e,t,n){return e.addLeafElement(t,ie(i.LinkReference,this.start,this.start+n,this.elts)),!0}},{key:"nextStage",value:function(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(!1===e&&(this.stage=-1),!1)}},{key:"advance",value:function(e){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(me(e,this.pos,this.start,!0)))return-1;if(58!=e.charCodeAt(this.pos))return this.stage=-1;this.elts.push(ie(i.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){var t=w(e,this.pos),n=0;if(t>this.pos){var r=ve(e,t,this.start);if(r){var o=W(e,r.to-this.start);o>0&&(this.nextStage(r),n=o)}}return n||(n=W(e,this.pos)),n>0&&n<e.length?n:-1}return W(e,this.pos)}if(!this.nextStage(pe(e,w(e,this.pos),this.start)))return-1}}}}]),e}();function W(e,t){for(;t<e.length;t++){var n=e.charCodeAt(t);if(10==n)break;if(!x(n))return-1}return t}var B=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"nextLine",value:function(e,t,n){var r=t.depth<e.stack.length?-1:A(t),o=t.next;if(r<0)return!1;var a=ie(i.HeaderMark,e.lineStart+t.pos,e.lineStart+r);return e.nextLine(),e.addLeafElement(n,ie(61==o?i.SetextHeading1:i.SetextHeading2,n.start,e.prevLineEnd(),[].concat((0,f.Z)(e.parser.parseInline(n.content,n.start)),[a]))),!0}},{key:"finish",value:function(){return!1}}]),e}(),F={LinkReference:function(e,t){return 91==t.content.charCodeAt(0)?new j(t):null},SetextHeading:function(){return new B}},$=[function(e,t){return C(t)>=0},function(e,t){return S(t)>=0},function(e,t){return _(t)>=0},function(e,t){return E(t,e,!0)>=0},function(e,t){return P(t,e,!0)>=0},function(e,t){return T(t,e,!0)>=0},function(e,t){return Z(t,0,!0)>=0}],V=function(){function e(t,n,r,a){(0,o.Z)(this,e),this.parser=t,this.input=n,this.ranges=a,this.line=new y,this.atEnd=!1,this.dontInject=new Set,this.stoppedAt=null,this.rangeI=0,this.to=a[a.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=a[0].from,this.block=m.create(i.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new Oe(r,n):null,this.readLine()}return(0,a.Z)(e,[{key:"parsedPos",get:function(){return this.absoluteLineStart}},{key:"advance",value:function(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();for(var e=this.line;;){for(;e.depth<this.stack.length;)this.finishContext();var t,n=(0,d.Z)(e.markers);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.addNode(r.type,r.from,r.to)}}catch(w){n.e(w)}finally{n.f()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){var i,o=(0,d.Z)(this.parser.blockParsers);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a){var s=a(this,e);if(0!=s){if(1==s)return null;e.forward();continue e}}}}catch(w){o.e(w)}finally{o.f()}break}var u,l=new g(this.lineStart+e.pos,e.text.slice(e.pos)),c=(0,d.Z)(this.parser.leafBlockParsers);try{for(c.s();!(u=c.n()).done;){var h=u.value;if(h){var f=h(this,l);f&&l.parsers.push(f)}}}catch(w){c.e(w)}finally{c.f()}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){var p,v=(0,d.Z)(this.parser.endLeafBlock);try{for(v.s();!(p=v.n()).done;){if((0,p.value)(this,e))break e}}catch(w){v.e(w)}finally{v.f()}}var m,y=(0,d.Z)(l.parsers);try{for(y.s();!(m=y.n()).done;){if(m.value.nextLine(this,e,l))return null}}catch(w){y.e(w)}finally{y.f()}l.content+="\n"+e.scrub();var b,O=(0,d.Z)(e.markers);try{for(O.s();!(b=O.n()).done;){var x=b.value;l.marks.push(x)}}catch(w){O.e(w)}finally{O.f()}}return this.finishLeaf(l),null}},{key:"stopAt",value:function(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}},{key:"reuseFragment",value:function(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;var t=this.fragments.takeNodes(this);if(!t)return!1;for(var n=t,r=this.absoluteLineStart+t,i=1;i<this.ranges.length;i++){var o=this.ranges[i-1].to,a=this.ranges[i].from;o>=this.lineStart&&a<r&&(n-=a-o)}return this.lineStart+=n,this.absoluteLineStart+=t,this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0}},{key:"nextLine",value:function(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}},{key:"moveRangeI",value:function(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++}},{key:"readLine",value:function(){var e,t=this.line,n=this.absoluteLineStart;if(this.atEnd)e="";else if(n+=(e=this.lineChunkAt(n)).length,this.ranges.length>1)for(var r=this.absoluteLineStart,o=this.rangeI;this.ranges[o].to<n;){o++;var a=this.ranges[o].from,s=this.lineChunkAt(a);r=(n=a+s.length)-(e=e.slice(0,this.ranges[o-1].to-r)+s).length}for(this.absoluteLineEnd=n,t.reset(e);t.depth<this.stack.length;t.depth++){var u=this.stack[t.depth],l=this.parser.skipContextMarkup[u.type];if(!l)throw new Error("Unhandled block context "+i[u.type]);if(!l(u,this,t))break;t.forward()}}},{key:"lineChunkAt",value:function(e){var t,n=this.input.chunk(e);if(this.input.lineChunks)t="\n"==n?"":n;else{var r=n.indexOf("\n");t=r<0?n:n.slice(0,r)}return e+t.length>this.to?t.slice(0,this.to-e):t}},{key:"prevLineEnd",value:function(){return this.atEnd?this.lineStart:this.lineStart-1}},{key:"startContext",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.block=m.create(e,n,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}},{key:"startComposite",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.startContext(this.parser.getNodeType(e),t,n)}},{key:"addNode",value:function(e,t,n){"number"==typeof e&&(e=new v.mp(this.parser.nodeSet.types[e],ee,ee,(null!==n&&void 0!==n?n:this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}},{key:"addElement",value:function(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}},{key:"addLeafElement",value:function(e,t){this.addNode(this.buffer.writeElements(ye(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}},{key:"finishContext",value:function(){var e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}},{key:"finish",value:function(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}},{key:"addGaps",value:function(e){return this.ranges.length>1?U(this.ranges,0,e.topNode,this.ranges[0].from,this.dontInject):e}},{key:"finishLeaf",value:function(e){var t,n=(0,d.Z)(e.parsers);try{for(n.s();!(t=n.n()).done;){if(t.value.finish(this,e))return}}catch(o){n.e(o)}finally{n.f()}var r=ye(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(r,-e.start).finish(i.Paragraph,e.content.length),e.start)}},{key:"elt",value:function(e,t,n,r){return"string"==typeof e?ie(this.parser.getNodeType(e),t,n,r):new re(e,t)}},{key:"buffer",get:function(){return new te(this.parser.nodeSet)}}]),e}();function U(e,t,n,r,i){if(i.has(n.tree))return n.tree;var o=e[t].to,a=[],s=[],u=n.from+r;function l(n,i){for(;i?n>=o:n>o;){var a=e[t+1].from-o;r+=a,n+=a,t++,o=e[t].to}}for(var c=n.firstChild;c;c=c.nextSibling){l(c.from+r,!0);var h=c.from+r,f=void 0;c.to+r>o?(f=U(e,t,c,r,i),l(c.to+r,!1)):f=c.toTree(),a.push(f),s.push(h-u)}return l(n.to+r,!1),new v.mp(n.type,a,s,n.to+r-u,n.tree?n.tree.propValues:void 0)}var H=function(e){(0,c.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a,s,u,l,c,h){var f;(0,o.Z)(this,n),(f=t.call(this)).nodeSet=e,f.blockParsers=r,f.leafBlockParsers=i,f.blockNames=a,f.endLeafBlock=s,f.skipContextMarkup=u,f.inlineParsers=l,f.inlineNames=c,f.wrappers=h,f.nodeTypes=Object.create(null);var p,v=(0,d.Z)(e.types);try{for(v.s();!(p=v.n()).done;){var m=p.value;f.nodeTypes[m.name]=m.id}}catch(g){v.e(g)}finally{v.f()}return f}return(0,a.Z)(n,[{key:"createParse",value:function(e,t,n){var r,i=new V(this,e,t,n),o=(0,d.Z)(this.wrappers);try{for(o.s();!(r=o.n()).done;){i=(0,r.value)(i,e,t,n)}}catch(a){o.e(a)}finally{o.f()}return i}},{key:"configure",value:function(e){var t,r=q(e);if(!r)return this;var o=this.nodeSet,a=this.skipContextMarkup,s=this.blockParsers.slice(),u=this.leafBlockParsers.slice(),l=this.blockNames.slice(),c=this.inlineParsers.slice(),h=this.inlineNames.slice(),p=this.endLeafBlock.slice(),m=this.wrappers;if(G(r.defineNodes)){a=Object.assign({},a);var g,y=o.types.slice(),b=(0,d.Z)(r.defineNodes);try{var O=function(){var e=g.value,t="string"==typeof e?{name:e}:e,n=t.name,r=t.block,o=t.composite;if(y.some((function(e){return e.name==n})))return"continue";o&&(a[y.length]=function(e,t,n){return o(t,n,e.value)});var s=y.length,u=o?["Block","BlockContext"]:r?s>=i.ATXHeading1&&s<=i.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;y.push(v.Jq.define({id:s,name:n,props:u&&[[v.md.group,u]]}))};for(b.s();!(g=b.n()).done;)O()}catch(Z){b.e(Z)}finally{b.f()}o=new v.Lj(y)}if(G(r.props)&&(o=(t=o).extend.apply(t,(0,f.Z)(r.props))),G(r.remove)){var x,w=(0,d.Z)(r.remove);try{for(w.s();!(x=w.n()).done;){var k=x.value,S=this.blockNames.indexOf(k),_=this.inlineNames.indexOf(k);S>-1&&(s[S]=u[S]=void 0),_>-1&&(c[_]=void 0)}}catch(Z){w.e(Z)}finally{w.f()}}if(G(r.parseBlock)){var T,M=(0,d.Z)(r.parseBlock);try{for(M.s();!(T=M.n()).done;){var E=T.value,P=l.indexOf(E.name);if(P>-1)s[P]=E.parse,u[P]=E.leaf;else{var C=E.before?X(l,E.before):E.after?X(l,E.after)+1:l.length-1;s.splice(C,0,E.parse),u.splice(C,0,E.leaf),l.splice(C,0,E.name)}E.endLeaf&&p.push(E.endLeaf)}}catch(Z){M.e(Z)}finally{M.f()}}if(G(r.parseInline)){var A,R=(0,d.Z)(r.parseInline);try{for(R.s();!(A=R.n()).done;){var L=A.value,Q=h.indexOf(L.name);if(Q>-1)c[Q]=L.parse;else{var D=L.before?X(h,L.before):L.after?X(h,L.after)+1:h.length-1;c.splice(D,0,L.parse),h.splice(D,0,L.name)}}}catch(Z){R.e(Z)}finally{R.f()}}return r.wrap&&(m=m.concat(r.wrap)),new n(o,s,u,l,p,a,c,h,m)}},{key:"getNodeType",value:function(e){var t=this.nodeTypes[e];if(null==t)throw new RangeError("Unknown node type '".concat(e,"'"));return t}},{key:"parseInline",value:function(e,t){var n=new ge(this,e,t);e:for(var r=t;r<n.end;){var i,o=n.char(r),a=(0,d.Z)(this.inlineParsers);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s){var u=s(n,o,r);if(u>=0){r=u;continue e}}}}catch(l){a.e(l)}finally{a.f()}r++}return n.resolveMarkers(0)}}]),n}(v._b);function G(e){return null!=e&&e.length>0}function q(e){if(!Array.isArray(e))return e;if(0==e.length)return null;var t=q(e[0]);if(1==e.length)return t;var n=q(e.slice(1));if(!n||!t)return t||n;var r=function(e,t){return(e||ee).concat(t||ee)},i=t.wrap,o=n.wrap;return{props:r(t.props,n.props),defineNodes:r(t.defineNodes,n.defineNodes),parseBlock:r(t.parseBlock,n.parseBlock),parseInline:r(t.parseInline,n.parseInline),remove:r(t.remove,n.remove),wrap:i?o?function(e,t,n,r){return i(o(e,t,n,r),t,n,r)}:i:o}}function X(e,t){var n=e.indexOf(t);if(n<0)throw new RangeError("Position specified relative to unknown parser ".concat(t));return n}for(var Y,J=[v.Jq.none],K=1;Y=i[K];K++)J[K]=v.Jq.define({id:K,name:Y,props:K>=i.Escape?[]:[[v.md.group,K in O?["Block","BlockContext"]:["Block","LeafBlock"]]]});var ee=[],te=function(){function e(t){(0,o.Z)(this,e),this.nodeSet=t,this.content=[],this.nodes=[]}return(0,a.Z)(e,[{key:"write",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.content.push(e,t,n,4+4*r),this}},{key:"writeElements",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,d.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.writeTo(this,n)}}catch(o){r.e(o)}finally{r.f()}return this}},{key:"finish",value:function(e,t){return v.mp.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}]),e}(),ne=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ee;(0,o.Z)(this,e),this.type=t,this.from=n,this.to=r,this.children=i}return(0,a.Z)(e,[{key:"writeTo",value:function(e,t){var n=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-n)}},{key:"toTree",value:function(e){return new te(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}]),e}(),re=function(){function e(t,n){(0,o.Z)(this,e),this.tree=t,this.from=n}return(0,a.Z)(e,[{key:"to",get:function(){return this.from+this.tree.length}},{key:"type",get:function(){return this.tree.type.id}},{key:"children",get:function(){return ee}},{key:"writeTo",value:function(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}},{key:"toTree",value:function(){return this.tree}}]),e}();function ie(e,t,n,r){return new ne(e,t,n,r)}var oe={resolve:"Emphasis",mark:"EmphasisMark"},ae={resolve:"Emphasis",mark:"EmphasisMark"},se={},ue={},le=(0,a.Z)((function e(t,n,r,i){(0,o.Z)(this,e),this.type=t,this.from=n,this.to=r,this.side=i})),ce="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",he=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{he=/(?:[!-#%-\*,-\/:;\?@\[-\]_\{-\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])/}catch(Ke){}var fe={Escape:function(e,t,n){if(92!=t||n==e.end-1)return-1;for(var r=e.char(n+1),o=0;o<ce.length;o++)if(ce.charCodeAt(o)==r)return e.append(ie(i.Escape,n,n+2));return-1},Entity:function(e,t,n){if(38!=t)return-1;var r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(n+1,n+31));return r?e.append(ie(i.Entity,n,n+1+r[0].length)):-1},InlineCode:function(e,t,n){if(96!=t||n&&96==e.char(n-1))return-1;for(var r=n+1;r<e.end&&96==e.char(r);)r++;for(var o=r-n,a=0;r<e.end;r++)if(96==e.char(r)){if(++a==o&&96!=e.char(r+1))return e.append(ie(i.InlineCode,n,r+1,[ie(i.CodeMark,n,n+o),ie(i.CodeMark,r+1-o,r+1)]))}else a=0;return-1},HTMLTag:function(e,t,n){if(60!=t||n==e.end-1)return-1;var r=e.slice(n+1,e.end),o=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(o)return e.append(ie(i.URL,n,n+1+o[0].length));var a=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(a)return e.append(ie(i.Comment,n,n+1+a[0].length));var s=/^\?[^]*?\?>/.exec(r);if(s)return e.append(ie(i.ProcessingInstruction,n,n+1+s[0].length));var u=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return u?e.append(ie(i.HTMLTag,n,n+1+u[0].length)):-1},Emphasis:function(e,t,n){if(95!=t&&42!=t)return-1;for(var r=n+1;e.char(r)==t;)r++;var i=e.slice(n-1,n),o=e.slice(r,r+1),a=he.test(i),s=he.test(o),u=/\s|^$/.test(i),l=/\s|^$/.test(o),c=!l&&(!s||u||a),h=!u&&(!a||l||s),f=c&&(42==t||!h||a),d=h&&(42==t||!c||s);return e.append(new le(95==t?oe:ae,n,r,(f?1:0)|(d?2:0)))},HardBreak:function(e,t,n){if(92==t&&10==e.char(n+1))return e.append(ie(i.HardBreak,n,n+2));if(32==t){for(var r=n+1;32==e.char(r);)r++;if(10==e.char(r)&&r>=n+2)return e.append(ie(i.HardBreak,n,r+1))}return-1},Link:function(e,t,n){return 91==t?e.append(new le(se,n,n+1,1)):-1},Image:function(e,t,n){return 33==t&&91==e.char(n+1)?e.append(new le(ue,n,n+2,1)):-1},LinkEnd:function(e,t,n){if(93!=t)return-1;for(var r=e.parts.length-1;r>=0;r--){var o=e.parts[r];if(o instanceof le&&(o.type==se||o.type==ue)){if(!o.side||e.skipSpace(o.to)==n&&!/[(\[]/.test(e.slice(n+1,n+2)))return e.parts[r]=null,-1;var a=e.takeContent(r),s=e.parts[r]=de(e,a,o.type==se?i.Link:i.Image,o.from,n+1);if(o.type==se)for(var u=0;u<r;u++){var l=e.parts[u];l instanceof le&&l.type==se&&(l.side=0)}return s.to}}return-1}};function de(e,t,n,r,o){var a=e.text,s=e.char(o),u=o;if(t.unshift(ie(i.LinkMark,r,r+(n==i.Image?2:1))),t.push(ie(i.LinkMark,o-1,o)),40==s){var l,c=e.skipSpace(o+1),h=pe(a,c-e.offset,e.offset);h&&(l=ve(a,(c=e.skipSpace(h.to))-e.offset,e.offset))&&(c=e.skipSpace(l.to)),41==e.char(c)&&(t.push(ie(i.LinkMark,o,o+1)),u=c+1,h&&t.push(h),l&&t.push(l),t.push(ie(i.LinkMark,c,u)))}else if(91==s){var f=me(a,o-e.offset,e.offset,!1);f&&(t.push(f),u=f.to)}return ie(n,r,u,t)}function pe(e,t,n){if(60==e.charCodeAt(t)){for(var r=t+1;r<e.length;r++){var o=e.charCodeAt(r);if(62==o)return ie(i.URL,t+n,r+1+n);if(60==o||10==o)return!1}return null}for(var a=0,s=t,u=!1;s<e.length;s++){var l=e.charCodeAt(s);if(x(l))break;if(u)u=!1;else if(40==l)a++;else if(41==l){if(!a)break;a--}else 92==l&&(u=!0)}return s>t?ie(i.URL,t+n,s+n):s==e.length&&null}function ve(e,t,n){var r=e.charCodeAt(t);if(39!=r&&34!=r&&40!=r)return!1;for(var o=40==r?41:r,a=t+1,s=!1;a<e.length;a++){var u=e.charCodeAt(a);if(s)s=!1;else{if(u==o)return ie(i.LinkTitle,t+n,a+1+n);92==u&&(s=!0)}}return null}function me(e,t,n,r){for(var o=!1,a=t+1,s=Math.min(e.length,a+999);a<s;a++){var u=e.charCodeAt(a);if(o)o=!1;else{if(93==u)return!r&&ie(i.LinkLabel,t+n,a+1+n);if(r&&!x(u)&&(r=!1),91==u)return!1;92==u&&(o=!0)}}return null}var ge=function(){function e(t,n,r){(0,o.Z)(this,e),this.parser=t,this.text=n,this.offset=r,this.parts=[]}return(0,a.Z)(e,[{key:"char",value:function(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}},{key:"end",get:function(){return this.offset+this.text.length}},{key:"slice",value:function(e,t){return this.text.slice(e-this.offset,t-this.offset)}},{key:"append",value:function(e){return this.parts.push(e),e.to}},{key:"addDelimiter",value:function(e,t,n,r,i){return this.append(new le(e,t,n,(r?1:0)|(i?2:0)))}},{key:"addElement",value:function(e){return this.append(e)}},{key:"resolveMarkers",value:function(e){for(var t=e;t<this.parts.length;t++){var n=this.parts[t];if(n instanceof le&&n.type.resolve&&2&n.side){for(var r=n.type==oe||n.type==ae,i=n.to-n.from,o=void 0,a=t-1;a>=e;a--){var s=this.parts[a];if(s instanceof le&&1&s.side&&s.type==n.type&&!(r&&(1&n.side||2&s.side)&&(s.to-s.from+i)%3==0&&((s.to-s.from)%3||i%3))){o=s;break}}if(o){var u=n.type.resolve,l=[],c=o.from,h=n.to;if(r){var f=Math.min(2,o.to-o.from,i);c=o.to-f,h=n.from+f,u=1==f?"Emphasis":"StrongEmphasis"}o.type.mark&&l.push(this.elt(o.type.mark,c,o.to));for(var d=a+1;d<t;d++)this.parts[d]instanceof ne&&l.push(this.parts[d]),this.parts[d]=null;n.type.mark&&l.push(this.elt(n.type.mark,n.from,h));var p=this.elt(u,c,h,l);this.parts[a]=r&&o.from!=c?new le(o.type,o.from,c,o.side):null,(this.parts[t]=r&&n.to!=h?new le(n.type,h,n.to,n.side):null)?this.parts.splice(t,0,p):this.parts[t]=p}}}for(var v=[],m=e;m<this.parts.length;m++){var g=this.parts[m];g instanceof ne&&v.push(g)}return v}},{key:"findOpeningDelimiter",value:function(e){for(var t=this.parts.length-1;t>=0;t--){var n=this.parts[t];if(n instanceof le&&n.type==e)return t}return null}},{key:"takeContent",value:function(e){var t=this.resolveMarkers(e);return this.parts.length=e,t}},{key:"skipSpace",value:function(e){return w(this.text,e-this.offset)+this.offset}},{key:"elt",value:function(e,t,n,r){return"string"==typeof e?ie(this.parser.getNodeType(e),t,n,r):new re(e,t)}}]),e}();function ye(e,t){if(!t.length)return e;if(!e.length)return t;var n,r=e.slice(),i=0,o=(0,d.Z)(t);try{for(o.s();!(n=o.n()).done;){for(var a=n.value;i<r.length&&r[i].to<a.to;)i++;if(i<r.length&&r[i].from<a.from){var s=r[i];s instanceof ne&&(r[i]=new ne(s.type,s.from,s.to,ye(s.children,[a])))}else r.splice(i++,0,a)}}catch(u){o.e(u)}finally{o.f()}return r}var be=[i.CodeBlock,i.ListItem,i.OrderedList,i.BulletList],Oe=function(){function e(t,n){(0,o.Z)(this,e),this.fragments=t,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}return(0,a.Z)(e,[{key:"nextFragment",value:function(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}},{key:"moveTo",value:function(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){for(var n=this.fragment.to;n>0&&"\n"!=this.input.read(n-1,n);)n--;this.fragmentEnd=n?n-1:0}var r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor()).firstChild();for(var i=e+this.fragment.offset;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=t;if(!r.childAfter(i))return!1}}},{key:"matches",value:function(e){var t=this.cursor.tree;return t&&t.prop(v.md.contextHash)==e}},{key:"takeNodes",value:function(e){for(var t=this.cursor,n=this.fragment.offset,r=this.fragmentEnd-(this.fragment.openEnd?1:0),i=e.absoluteLineStart,o=i,a=e.block.children.length,s=o,u=a;;){if(t.to-n>r){if(t.type.isAnonymous&&t.firstChild())continue;break}if(e.dontInject.add(t.tree),e.addNode(t.tree,t.from-n),t.type.is("Block")&&(be.indexOf(t.type.id)<0?(o=t.to-n,a=e.block.children.length):(o=s,a=u,s=t.to-n,u=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-i}}]),e}(),xe=new H(new v.Lj(J),Object.keys(z).map((function(e){return z[e]})),Object.keys(z).map((function(e){return F[e]})),Object.keys(z),$,O,Object.keys(fe).map((function(e){return fe[e]})),Object.keys(fe),[]);function we(e,t,n){for(var r=[],i=e.firstChild,o=t;;i=i.nextSibling){var a=i?i.from:n;if(a>o&&r.push({from:o,to:a}),!i)break;o=i.to}return r}function ke(e){var t=e.codeParser,n=e.htmlParser;return{wrap:(0,v.FE)((function(e,r){var o=e.type.id;if(!t||o!=i.CodeBlock&&o!=i.FencedCode){if(n&&(o==i.HTMLBlock||o==i.HTMLTag))return{parser:n,overlay:we(e.node,e.from,e.to)}}else{var a="";if(o=i.FencedCode){var s=e.node.getChild(i.CodeInfo);s&&(a=r.read(s.from,s.to))}var u=t(a);if(u)return{parser:u,overlay:function(e){return e.type.id==i.CodeText}}}return null}))}}var Se={resolve:"Strikethrough",mark:"StrikethroughMark"},_e={defineNodes:["Strikethrough","StrikethroughMark"],parseInline:[{name:"Strikethrough",parse:function(e,t,n){return 126!=t||126!=e.char(n+1)?-1:e.addDelimiter(Se,n,n+2,!0,!0)},after:"Emphasis"}]};function Te(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0,a=!0,s=-1,u=-1,l=!1,c=function(){r.push(e.elt("TableCell",i+s,i+u,e.parser.parseInline(t.slice(s,u),i+s)))},h=n;h<t.length;h++){var f=t.charCodeAt(h);124!=f||l?(l||32!=f&&9!=f)&&(s<0&&(s=h),u=h+1):((!a||s>-1)&&o++,a=!1,r&&(s>-1&&c(),r.push(e.elt("TableDelimiter",h+i,h+i+1))),s=u=-1),l=!l&&92==f}return s>-1&&(o++,r&&c()),o}var Me=function(){function e(){(0,o.Z)(this,e),this.rows=null}return(0,a.Z)(e,[{key:"nextLine",value:function(e,t,n){var r;if(null==this.rows){if(this.rows=!1,(45==t.next||58==t.next||124==t.next)&&/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/.test(r=t.text.slice(t.pos))){var i=[];Te(e,n.content,0,i,n.start)==Te(e,r,t.pos)&&(this.rows=[e.elt("TableHeader",n.start,n.start+n.content.length,i),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){var o=[];Te(e,t.text,t.pos,o,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,o))}return!1}},{key:"finish",value:function(e,t){return!!this.rows&&(this.emit(e,t),!0)}},{key:"emit",value:function(e,t){e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows))}}]),e}(),Ee={defineNodes:[{name:"Table",block:!0},"TableHeader","TableRow","TableCell","TableDelimiter"],parseBlock:[{name:"Table",leaf:function(e,t){return function(e,t){for(var n=t;n<e.length;n++){var r=e.charCodeAt(n);if(124==r)return!0;92==r&&n++}return!1}(t.content,0)?new Me:null},before:"SetextHeading"}]},Pe=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"nextLine",value:function(){return!1}},{key:"finish",value:function(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3)].concat((0,f.Z)(e.parser.parseInline(t.content.slice(3),t.start+3))))),!0}}]),e}(),Ce=[Ee,{defineNodes:[{name:"Task",block:!0},"TaskMarker"],parseBlock:[{name:"TaskList",leaf:function(e,t){return/^\[[ xX]\]/.test(t.content)&&"ListItem"==e.parser.nodeSet.types[e.block.type].name?new Pe:null},after:"SetextHeading"}]},_e];function Ae(e,t,n){return function(r,i,o){if(i!=e||r.char(o+1)==e)return-1;for(var a=[r.elt(n,o,o+1)],s=o+1;s<r.end;s++){var u=r.char(s);if(u==e)return r.addElement(r.elt(t,o,s+1,a.concat(r.elt(n,s,s+1))));if(92==u&&a.push(r.elt("Escape",s,2+s++)),x(u))break}return-1}}var Re={defineNodes:["Superscript","SuperscriptMark"],parseInline:[{name:"Superscript",parse:Ae(94,"Superscript","SuperscriptMark")}]},Le={defineNodes:["Subscript","SubscriptMark"],parseInline:[{name:"Subscript",parse:Ae(126,"Subscript","SubscriptMark")}]},Qe=n(1679),De=n(27),Ze=(0,l.kU)({block:{open:"\x3c!--",close:"--\x3e"}}),Ie=xe.configure({props:[(0,De.Gv)({"Blockquote/...":De.pJ.quote,HorizontalRule:De.pJ.contentSeparator,"ATXHeading1/... SetextHeading1/...":De.pJ.heading1,"ATXHeading2/... SetextHeading2/...":De.pJ.heading2,"ATXHeading3/...":De.pJ.heading3,"ATXHeading4/...":De.pJ.heading4,"ATXHeading5/...":De.pJ.heading5,"ATXHeading6/...":De.pJ.heading6,"Comment CommentBlock":De.pJ.comment,Escape:De.pJ.escape,Entity:De.pJ.character,"Emphasis/...":De.pJ.emphasis,"StrongEmphasis/...":De.pJ.strong,"Link/... Image/...":De.pJ.link,"OrderedList/... BulletList/...":De.pJ.list,"BlockQuote/...":De.pJ.quote,"InlineCode CodeText":De.pJ.monospace,URL:De.pJ.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":De.pJ.processingInstruction,"CodeInfo LinkLabel":De.pJ.labelName,LinkTitle:De.pJ.string,Paragraph:De.pJ.content}),l.x0.add((function(e){if(e.is("Block")&&!e.is("Document"))return function(e,t){return{from:t.doc.lineAt(e.from).to,to:e.to}}})),l.uj.add({Document:function(){return null}}),l.mi.add({Document:Ze})]});function Ne(e){return new l.SQ(Ze,e,e.nodeSet.types.find((function(e){return"Document"==e.name})))}var ze=Ne(Ie),je=Ne(Ie.configure([Ce,Le,Re,{defineNodes:["Emoji"],parseInline:[{name:"Emoji",parse:function(e,t,n){var r;return 58==t&&(r=/^[a-zA-Z_0-9]+:/.exec(e.slice(n+1,e.end)))?e.addElement(e.elt("Emoji",n,n+1+r[0].length)):-1}}]},{props:[(0,De.Gv)({"TableDelimiter SubscriptMark SuperscriptMark StrikethroughMark":De.pJ.processingInstruction,"TableHeader/...":De.pJ.heading,"Strikethrough/...":De.pJ.strikethrough,TaskMarker:De.pJ.atom,Task:De.pJ.list,Emoji:De.pJ.character,"Subscript Superscript":De.pJ.special(De.pJ.content),TableCell:De.pJ.content})]}]));function We(e,t){return function(n){var r=n&&l.c6.matchLanguageName(e,n,!0);return r?r.support?r.support.language.parser:l.Be.getSkippingParser(r.load()):t?t.parser:null}}function Be(e,t){return t.sliceString(e.from,e.from+50)}var Fe=function(){function e(t,n,r,i,a,s,u){(0,o.Z)(this,e),this.node=t,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=a,this.type=s,this.item=u}return(0,a.Z)(e,[{key:"blank",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.spaceBefore;if("Blockquote"==this.node.name)t+=">";else for(var n=this.to-this.from-t.length-this.spaceAfter.length;n>0;n--)t+=" ";return t+(e?this.spaceAfter:"")}},{key:"marker",value:function(e,t){var n="OrderedList"==this.node.name?String(+Ve(this.item,e)[2]+t):"";return this.spaceBefore+n+this.type+this.spaceAfter}}]),e}();function $e(e,t,n){for(var r=[],i=e;i&&"Document"!=i.name;i=i.parent)"ListItem"!=i.name&&"Blockquote"!=i.name||r.push(i);for(var o=[],a=0,s=r.length-1;s>=0;s--){var u=r[s],l=void 0,c=a;if("Blockquote"==u.name&&(l=/^\s*>( ?)/.exec(t.slice(a))))a+=l[0].length,o.push(new Fe(u,c,a,"",l[1],">",null));else if("ListItem"==u.name&&"OrderedList"==u.parent.name&&(l=/^(\s*)\d+([.)])(\s*)/.exec(Be(u,n)))){var h=l[3],f=l[0].length;h.length>=4&&(h=h.slice(0,h.length-4),f-=4),a+=f,o.push(new Fe(u.parent,c,a,l[1],h,l[2],u))}else if("ListItem"==u.name&&"BulletList"==u.parent.name&&(l=/^(\s*)([-+*])(\s+)/.exec(Be(u,n)))){var d=l[3],p=l[0].length;d.length>4&&(d=d.slice(0,d.length-4),p-=4),a+=p,o.push(new Fe(u.parent,c,a,l[1],d,l[2],u))}}return o}function Ve(e,t){return/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(e.from,e.from+10))}function Ue(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=-1,o=e;;){if("ListItem"==o.name){var a=Ve(o,t),s=+a[2];if(i>=0){if(s!=i+1)return;n.push({from:o.from+a[1].length,to:o.from+a[0].length,insert:String(i+2+r)})}i=s}var u=o.nextSibling;if(!u)break;o=u}}var He=function(e){var t=e.state,n=e.dispatch,r=(0,l.qz)(t),i=t.doc,o=null,a=t.changeByRange((function(e){if(!e.empty||!je.isActiveAt(t,e.from))return o={range:e};for(var n=e.from,a=i.lineAt(n),u=$e(r.resolveInner(n,-1),a.text,i);u.length&&u[u.length-1].from>n-a.from;)u.pop();if(!u.length)return o={range:e};var l=u[u.length-1];if(l.to-l.spaceAfter.length>n-a.from)return o={range:e};if(l.item&&n>=l.to-l.spaceAfter.length&&!/\S/.test(a.text.slice(l.to))){if(l.node.firstChild.to>=n||a.from>0&&!/[^\s>]/.test(i.lineAt(a.from-1).text)){var c,h=u.length>1?u[u.length-2]:null,f="";h&&h.item?(c=a.from+h.from,f=h.marker(i,1)):c=a.from+(h?h.to:0);var d=[{from:c,to:n,insert:f}];return"OrderedList"==l.node.name&&Ue(l.item,i,d,-2),h&&"OrderedList"==h.node.name&&Ue(h.item,i,d),{range:s.jT.cursor(c+f.length),changes:d}}for(var p="",v=0,m=u.length-2;v<=m;v++)p+=u[v].blank(v<m);return p+=t.lineBreak,{range:s.jT.cursor(n+p.length),changes:{from:a.from,insert:p}}}var g=[];"OrderedList"==l.node.name&&Ue(l.item,i,g);var y=t.lineBreak,b=l.item&&l.item.from<a.from;if(!b||/^[\s\d.)\-+*>]*/.exec(a.text)[0].length>=l.to)for(var O=0,x=u.length-1;O<=x;O++)y+=O!=x||b?u[O].blank():u[O].marker(i,1);for(var w=n;w>a.from&&/\s/.test(a.text.charAt(w-a.from-1));)w--;return g.push({from:w,to:n,insert:y}),{range:s.jT.cursor(w+y.length),changes:g}}));return!o&&(n(t.update(a,{scrollIntoView:!0,userEvent:"input"})),!0)};function Ge(e){return"QuoteMark"==e.name||"ListMark"==e.name}var qe=function(e){var t=e.state,n=e.dispatch,r=(0,l.qz)(t),i=null,o=t.changeByRange((function(e){var n=e.from,o=t.doc;if(e.empty&&je.isActiveAt(t,e.from)){var a=o.lineAt(n),u=$e(function(e,t){var n,r=e.resolveInner(t,-1),i=t;for(Ge(r)&&(i=r.from,r=r.parent);n=r.childBefore(i);)if(Ge(n))i=n.from;else{if("OrderedList"!=n.name&&"BulletList"!=n.name)break;i=(r=n.lastChild).to}return r}(r,n),a.text,o);if(u.length){var l=u[u.length-1],c=l.to-l.spaceAfter.length+(l.spaceAfter?1:0);if(n-a.from>c&&!/\S/.test(a.text.slice(c,n-a.from)))return{range:s.jT.cursor(a.from+c),changes:{from:a.from+c,to:n}};if(n-a.from==c){var h=a.from+l.from;if(l.item&&l.node.from<l.item.from&&/\S/.test(a.text.slice(l.from,l.to)))return{range:e,changes:{from:h,to:a.from+l.to,insert:l.blank()}};if(h<n)return{range:s.jT.cursor(h),changes:{from:h,to:n}}}}}return i={range:e}}));return!i&&(n(t.update(o,{scrollIntoView:!0,userEvent:"delete"})),!0)},Xe=[{key:"Enter",run:He},{key:"Backspace",run:qe}],Ye=(0,Qe.html)({matchClosingTags:!1});function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.codeLanguages,n=e.defaultCodeLanguage,r=e.addKeymap,i=void 0===r||r,o=e.base,a=(o=void 0===o?ze:o).parser;if(!(a instanceof H))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");var c,h=e.extensions?[e.extensions]:[],f=[Ye.support];n instanceof l.ri?(f.push(n.support),c=n.language):n&&(c=n);var d=t||c?We(t||[],c):void 0;return h.push(ke({codeParser:d,htmlParser:Ye.language.parser})),i&&f.push(s.Wl.high(u.$f.of(Xe))),new l.ri(Ne(a.configure(h)),f)}},1450:function(e,t,n){"use strict";n.d(t,{Gn:function(){return L},qp:function(){return m},SQ:function(){return p},c6:function(){return M},ri:function(){return T},Be:function(){return O},tC:function(){return F},kU:function(){return d},vw:function(){return j},ze:function(){return B},Dv:function(){return H},x0:function(){return U},Fw:function(){return G},y1:function(){return C},K0:function(){return R},uj:function(){return Q},nY:function(){return $},tK:function(){return E},SS:function(){return A},c:function(){return P},dK:function(){return _},mi:function(){return f},qz:function(){return g}});var r=n(136),i=n(9388),o=n(7762),a=n(5671),s=n(3144),u=n(4499),l=n(6580),c=n(4294),h=n(3344),f=new u.md;function d(e){return l.r$.define({combine:e?function(t){return t.concat(e)}:void 0})}var p=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,a.Z)(this,e),this.data=t,this.topNode=r,l.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(l.yy.prototype,"tree",{get:function(){return g(this)}}),this.parser=n,this.extension=[_.of(this),l.yy.languageData.of((function(e,t,n){return e.facet(v(e,t,n))}))].concat(i)}return(0,s.Z)(e,[{key:"isActiveAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return v(e,t,n)==this.data}},{key:"findRegions",value:function(e){var t=this,n=e.facet(_);if((null===n||void 0===n?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];var r=[];return function e(n,i){if(n.prop(f)!=t.data){var a=n.prop(u.md.mounted);if(a){if(a.tree.prop(f)==t.data){if(a.overlay){var s,l=(0,o.Z)(a.overlay);try{for(l.s();!(s=l.n()).done;){var c=s.value;r.push({from:c.from+i,to:c.to+i})}}catch(v){l.e(v)}finally{l.f()}}else r.push({from:i,to:i+n.length});return}if(a.overlay){var h=r.length;if(e(a.tree,a.overlay[0].from+i),r.length>h)return}}for(var d=0;d<n.children.length;d++){var p=n.children[d];p instanceof u.mp&&e(p,n.positions[d]+i)}}else r.push({from:i,to:i+n.length})}(g(e),0),r}},{key:"allowsNesting",get:function(){return!0}}]),e}();function v(e,t,n){var r=e.facet(_);if(!r)return null;var i=r.data;if(r.allowsNesting)for(var o=g(e).topNode;o;o=o.enter(t,n,!0,!1))i=o.type.prop(f)||i;return i}p.setState=l.Py.define();var m=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),(i=t.call(this,e,r,r.topNode)).parser=r,i}return(0,s.Z)(n,[{key:"configure",value:function(e){return new n(this.data,this.parser.configure(e))}},{key:"allowsNesting",get:function(){return this.parser.wrappers.length>0}}],[{key:"define",value:function(e){var t=d(e.languageData);return new n(t,e.parser.configure({props:[f.add((function(e){return e.isTop?t:void 0}))]}))}}]),n}(p);function g(e){var t=e.field(p.state,!1);return t?t.tree:u.mp.empty}var y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length;(0,a.Z)(this,e),this.doc=t,this.length=n,this.cursorPos=0,this.string="",this.cursor=t.iter()}return(0,s.Z)(e,[{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,t){var n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}]),e}(),b=null,O=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;(0,a.Z)(this,e),this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=u,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}return(0,s.Z)(e,[{key:"startParse",value:function(){return this.parser.startParse(new y(this.state.doc),this.fragments)}},{key:"work",value:function(e,t){var n=this;return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=u.mp.empty&&this.isDone(null!==t&&void 0!==t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((function(){var r,i=Date.now()+e;for(n.parse||(n.parse=n.startParse()),null!=t&&(null==n.parse.stoppedAt||n.parse.stoppedAt>t)&&t<n.state.doc.length&&n.parse.stopAt(t);;){var o=n.parse.advance();if(o){if(n.fragments=n.withoutTempSkipped(u.i9.addTree(o,n.fragments,null!=n.parse.stoppedAt)),n.treeLen=null!==(r=n.parse.stoppedAt)&&void 0!==r?r:n.state.doc.length,n.tree=o,n.parse=null,!(n.treeLen<(null!==t&&void 0!==t?t:n.state.doc.length)))return!0;n.parse=n.startParse()}if(Date.now()>i)return!1}}))}},{key:"takeTree",value:function(){var e,t,n=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((function(){for(;!(t=n.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(u.i9.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var t=b;b=this;try{return e()}finally{b=t}}},{key:"withoutTempSkipped",value:function(e){for(var t;t=this.tempSkipped.pop();)e=x(e,t.from,t.to);return e}},{key:"changes",value:function(t,n){var r=this.fragments,i=this.tree,a=this.treeLen,s=this.viewport,l=this.skipped;if(this.takeTree(),!t.empty){var c=[];if(t.iterChangedRanges((function(e,t,n,r){return c.push({fromA:e,toA:t,fromB:n,toB:r})})),r=u.i9.applyChanges(r,c),i=u.mp.empty,a=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){l=[];var h,f=(0,o.Z)(this.skipped);try{for(f.s();!(h=f.n()).done;){var d=h.value,p=t.mapPos(d.from,1),v=t.mapPos(d.to,-1);p<v&&l.push({from:p,to:v})}}catch(m){f.e(m)}finally{f.f()}}}return new e(this.parser,n,r,i,a,s,l,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var t=this.skipped.length,n=0;n<this.skipped.length;n++){var r=this.skipped[n],i=r.from,o=r.to;i<e.to&&o>e.from&&(this.fragments=x(this.fragments,i,o),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,t){this.skipped.push({from:e,to:t})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}}],[{key:"getSkippingParser",value:function(e){return new(function(t){(0,r.Z)(l,t);var n=(0,i.Z)(l);function l(){return(0,a.Z)(this,l),n.apply(this,arguments)}return(0,s.Z)(l,[{key:"createParse",value:function(t,n,r){var i=r[0].from,a=r[r.length-1].to;return{parsedPos:i,advance:function(){var t=b;if(t){var n,s=(0,o.Z)(r);try{for(s.s();!(n=s.n()).done;){var l=n.value;t.tempSkipped.push(l)}}catch(c){s.e(c)}finally{s.f()}e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=a,new u.mp(u.Jq.none,[],[],a-i)},stoppedAt:null,stopAt:function(){}}}}]),l}(u._b))}},{key:"get",value:function(){return b}}]),e}();function x(e,t,n){return u.i9.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}var w=function(){function e(t){(0,a.Z)(this,e),this.context=t,this.tree=t.tree}return(0,s.Z)(e,[{key:"apply",value:function(t){if(!t.docChanged)return this;var n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new e(n)}}],[{key:"init",value:function(t){var n=Math.min(3e3,t.doc.length),r=new O(t.facet(_).parser,t,[],u.mp.empty,0,{from:0,to:n},[],null);return r.work(20,n)||r.takeTree(),new e(r)}}]),e}();p.state=l.QQ.define({create:w.init,update:function(e,t){var n,r=(0,o.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(p.setState))return i.value}}catch(a){r.e(a)}finally{r.f()}return t.startState.facet(_)!=t.state.facet(_)?w.init(t.state):e.apply(t)}});var k=function(e){var t=setTimeout((function(){return e()}),500);return function(){return clearTimeout(t)}};"undefined"!=typeof requestIdleCallback&&(k=function(e){var t=-1,n=setTimeout((function(){t=requestIdleCallback(e,{timeout:400})}),100);return function(){return t<0?clearTimeout(n):cancelIdleCallback(t)}});var S=c.lg.fromClass(function(){function e(t){(0,a.Z)(this,e),this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return(0,s.Z)(e,[{key:"update",value:function(e){var t=this.view.state.field(p.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,t=e.field(p.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=k(this.work))}}},{key:"work",value:function(e){this.working=null;var t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var n=this.view,r=n.state,i=n.viewport.to,o=r.field(p.state);if(o.tree!=o.context.tree||!o.context.isDone(i+1e5)){var a=Math.min(this.chunkBudget,100,e?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<i&&r.doc.length>i+1e3,u=o.context.work(a,i+(s?0:1e5));this.chunkBudget-=Date.now()-t,(u||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:p.setState.of(new w(o.context))})),this.chunkBudget>0&&(!u||s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}}}},{key:"checkAsyncSchedule",value:function(e){var t=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((function(){return t.scheduleWork()})).catch((function(e){return(0,c.OO)(t.view.state,e)})).then((function(){return t.workScheduled--})),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return this.working||this.workScheduled>0}}]),e}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),_=l.r$.define({combine:function(e){return e.length?e[0]:null},enables:[p.state,S]}),T=(0,s.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,a.Z)(this,e),this.language=t,this.support=n,this.extension=[t,n]})),M=function(){function e(t,n,r,i,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;(0,a.Z)(this,e),this.name=t,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=s,this.loading=null}return(0,s.Z)(e,[{key:"load",value:function(){var e=this;return this.loading||(this.loading=this.loadFunc().then((function(t){return e.support=t}),(function(t){throw e.loading=null,t})))}}],[{key:"of",value:function(t){var n=t.load,r=t.support;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=function(){return Promise.resolve(r)}}return new e(t.name,(t.alias||[]).concat(t.name).map((function(e){return e.toLowerCase()})),t.extensions||[],t.filename,n,r)}},{key:"matchFilename",value:function(e,t){var n,r=(0,o.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.filename&&i.filename.test(t))return i}}catch(c){r.e(c)}finally{r.f()}var a=/\.([^.]+)$/.exec(t);if(a){var s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(l.extensions.indexOf(a[1])>-1)return l}}catch(c){u.e(c)}finally{u.f()}}return null}},{key:"matchLanguageName",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=t.toLowerCase();var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.alias.some((function(e){return e==t})))return a}}catch(p){i.e(p)}finally{i.f()}if(n){var s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var l,c=s.value,h=(0,o.Z)(c.alias);try{for(h.s();!(l=h.n()).done;){var f=l.value,d=t.indexOf(f);if(d>-1&&(f.length>2||!/\w/.test(t[d-1])&&!/\w/.test(t[d+f.length])))return c}}catch(p){h.e(p)}finally{h.f()}}}catch(p){u.e(p)}finally{u.f()}}return null}}]),e}(),E=l.r$.define(),P=l.r$.define({combine:function(e){if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function C(e){var t=e.facet(P);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function A(e,t){var n="",r=e.tabSize;if(9==e.facet(P).charCodeAt(0))for(;t>=r;)n+="\t",t-=r;for(var i=0;i<t;i++)n+=" ";return n}function R(e,t){e instanceof l.yy&&(e=new L(e));var n,r=(0,o.Z)(e.state.facet(E));try{for(r.s();!(n=r.n()).done;){var i=(0,n.value)(e,t);if(null!=i)return i}}catch(s){r.e(s)}finally{r.f()}var a=g(e.state);return a?function(e,t,n){return Z(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}(e,a,t):null}var L=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),this.state=t,this.options=n,this.unit=C(t)}return(0,s.Z)(e,[{key:"lineAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state.doc.lineAt(e),r=this.options.simulateBreak;return null!=r&&r>=n.from&&r<=n.to?(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}},{key:"textAfterPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var n=this.lineAt(e,t),r=n.text,i=n.from;return r.slice(e-i,Math.min(r.length,e+100-i))}},{key:"column",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,o=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(o+=a-this.countColumn(r,r.search(/\S|$/))),o}},{key:"countColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return(0,h.IS)(e,this.state.tabSize,t)}},{key:"lineIndent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,o=this.options.overrideIndentation;if(o){var a=o(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),e}(),Q=new u.md;function D(e){var t=e.type.prop(Q);if(t)return t;var n,r=e.firstChild;if(r&&(n=r.type.prop(u.md.closedBy))){var i=e.lastChild,o=i&&n.indexOf(i.name)>-1;return function(e){return W(e,!0,1,void 0,o&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?i.from:void 0)}}return null==e.parent?I:null}function Z(e,t,n){for(;e;e=e.parent){var r=D(e);if(r)return r(new N(n,t,e))}return null}function I(){return 0}var N=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this,e.state,e.options)).base=e,o.pos=r,o.node=i,o}return(0,s.Z)(n,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var e=this.state.doc.lineAt(this.node.from);;){for(var t=this.node.resolve(e.from);t.parent&&t.parent.from==t.from;)t=t.parent;if(z(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}},{key:"continue",value:function(){var e=this.node.parent;return e?Z(e,this.pos,this.base):0}}]),n}(L);function z(e,t){for(var n=t;n;n=n.parent)if(e==n)return!0;return!1}function j(e){var t=e.closing,n=e.align,r=void 0===n||n,i=e.units,o=void 0===i?1:i;return function(e){return W(e,r,o,t)}}function W(e,t,n,r,i){var o=e.textAfter,a=o.match(/^\s*/)[0].length,s=r&&o.slice(a,a+r.length)==r||i==e.pos+a,u=t?function(e){var t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;for(var i=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),a=null==i||i<=o.from?o.to:Math.min(o.to,i),s=n.to;;){var u=t.childAfter(s);if(!u||u==r)return null;if(!u.type.isSkipped)return u.from<a?n:null;s=u.to}}(e):null;return u?s?e.column(u.from):e.column(u.to):e.baseIndent+(s?0:e.unit*n)}var B=function(e){return e.baseIndent};function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.except,n=e.units,r=void 0===n?1:n;return function(e){var n=t&&t.test(e.textAfter);return e.baseIndent+(n?0:r*e.unit)}}function $(){return l.yy.transactionFilter.of((function(e){if(!e.docChanged||!e.isUserEvent("input.type"))return e;var t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;var n=e.newDoc,r=e.newSelection.main.head,i=n.lineAt(r);if(r>i.from+200)return e;var a=n.sliceString(i.from,r);if(!t.some((function(e){return e.test(a)})))return e;var s,u=e.state,l=-1,c=[],h=(0,o.Z)(u.selection.ranges);try{for(h.s();!(s=h.n()).done;){var f=s.value.head,d=u.doc.lineAt(f);if(d.from!=l){l=d.from;var p=R(u,d.from);if(null!=p){var v=/^\s*/.exec(d.text)[0],m=A(u,p);v!=m&&c.push({from:d.from,to:d.from+v.length,insert:m})}}}}catch(g){h.e(g)}finally{h.f()}return c.length?[e,{changes:c,sequential:!0}]:e}))}var V=l.r$.define(),U=new u.md;function H(e){var t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function G(e,t,n){var r,i=(0,o.Z)(e.facet(V));try{for(i.s();!(r=i.n()).done;){var a=(0,r.value)(e,t,n);if(a)return a}}catch(s){i.e(s)}finally{i.f()}return function(e,t,n){var r=g(e);if(0==r.length)return null;for(var i=null,o=r.resolveInner(n);o;o=o.parent)if(!(o.to<=n||o.from>n)){if(i&&o.from<t)break;var a=o.type.prop(U);if(a){var s=a(o,e);s&&s.from<=n&&s.from>=t&&s.to>n&&(i=s)}}return i}(e,t,n)}},9357:function(e,t,n){"use strict";n.d(t,{Xs:function(){return h},f_:function(){return d},uU:function(){return s}});var r=n(7762),i=n(5671),o=n(3144),a=n(6580),s=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new u(e,t,this)}}]),e}();s.prototype.startSide=s.prototype.endSide=0,s.prototype.point=!1,s.prototype.mapMode=a.gc.TrackDel;var u=(0,o.Z)((function e(t,n,r){(0,i.Z)(this,e),this.from=t,this.to=n,this.value=r}));function l(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}var c=function(){function e(t,n,r,o){(0,i.Z)(this,e),this.from=t,this.to=n,this.value=r,this.maxPoint=o}return(0,o.Z)(e,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n?this.to:this.from,o=r,a=i.length;;){if(o==a)return o;var s=o+a>>1,u=i[s]-e||(n?this.value[s].endSide:this.value[s].startSide)-t;if(s==o)return u>=0?o:a;u>=0?a=s:o=s+1}}},{key:"between",value:function(e,t,n,r){for(var i=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}},{key:"map",value:function(t,n){for(var r=[],i=[],o=[],a=-1,s=-1,u=0;u<this.value.length;u++){var l=this.value[u],c=this.from[u]+t,h=this.to[u]+t,f=void 0,d=void 0;if(c==h){var p=n.mapPos(c,l.startSide,l.mapMode);if(null==p)continue;if(f=d=p,l.startSide!=l.endSide&&(d=n.mapPos(c,l.endSide))<f)continue}else if((f=n.mapPos(c,l.startSide))>(d=n.mapPos(h,l.endSide))||f==d&&l.startSide>0&&l.endSide<=0)continue;(d-f||l.endSide-l.startSide)<0||(a<0&&(a=f),l.point&&(s=Math.max(s,d-f)),r.push(l),i.push(f-a),o.push(d-a))}return{mapped:r.length?new e(i,o,r,s):null,pos:a}}}]),e}(),h=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.empty,o=arguments.length>3?arguments[3]:void 0;(0,i.Z)(this,e),this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=o}return(0,o.Z)(e,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,t=this.nextLayer.size,n=(0,r.Z)(this.chunk);try{for(n.s();!(e=n.n()).done;){t+=e.value.value.length}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(t){var n=t.add,r=void 0===n?[]:n,i=t.sort,o=void 0!==i&&i,a=t.filterFrom,s=void 0===a?0:a,c=t.filterTo,h=void 0===c?this.length:c,f=t.filter;if(0==r.length&&!f)return this;if(o&&r.slice().sort(l),this.isEmpty)return r.length?e.of(r):this;for(var p=new v(this,null,-1).goto(0),m=0,g=[],y=new d;p.value||m<r.length;)if(m<r.length&&(p.from-r[m].from||p.startSide-r[m].value.startSide)>=0){var b=r[m++];y.addInner(b.from,b.to,b.value)||g.push(b)}else 1==p.rangeIndex&&p.chunkIndex<this.chunk.length&&(m==r.length||this.chunkEnd(p.chunkIndex)<r[m].from)&&(!f||s>this.chunkEnd(p.chunkIndex)||h<this.chunkPos[p.chunkIndex])&&y.addChunk(this.chunkPos[p.chunkIndex],this.chunk[p.chunkIndex])?p.nextChunk():((!f||s>p.to||h<p.from||f(p.from,p.to,p.value))&&(y.addInner(p.from,p.to,p.value)||g.push(new u(p.from,p.to,p.value))),p.next());return y.finishInner(this.nextLayer.isEmpty&&!g.length?e.empty:this.nextLayer.update({add:g,filter:f,filterFrom:s,filterTo:h}))}},{key:"map",value:function(t){if(0==t.length||this.isEmpty)return this;for(var n=[],r=[],i=-1,o=0;o<this.chunk.length;o++){var a=this.chunkPos[o],s=this.chunk[o],u=t.touchesRange(a,a+s.length);if(!1===u)i=Math.max(i,s.maxPoint),n.push(s),r.push(t.mapPos(a));else if(!0===u){var l=s.map(a,t),c=l.mapped,h=l.pos;c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(h))}}var f=this.nextLayer.map(t);return 0==n.length?f:new e(r,n,f,i)}},{key:"between",value:function(e,t,n){if(!this.isEmpty){for(var r=0;r<this.chunk.length;r++){var i=this.chunkPos[r],o=this.chunk[r];if(t>=i&&e<=i+o.length&&!1===o.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return m.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"iter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return m.from(e).goto(t)}},{key:"compare",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=e.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),a=t.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),s=p(o,a,n),u=new y(o,s,i),l=new y(a,s,i);n.iterGaps((function(e,t,n){return b(u,e,l,t,n,r)})),n.empty&&0==n.length&&b(u,0,l,0,0,r)}},{key:"eq",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;null==r&&(r=1e9);var i=e.filter((function(e){return!e.isEmpty&&t.indexOf(e)<0})),o=t.filter((function(t){return!t.isEmpty&&e.indexOf(t)<0}));if(i.length!=o.length)return!1;if(!i.length)return!0;for(var a=p(i,o),s=new y(i,a,0).goto(n),u=new y(o,a,0).goto(n);;){if(s.to!=u.to||!O(s.active,u.active)||s.point&&(!u.point||!s.point.eq(u.point)))return!1;if(s.to>r)return!0;s.next(),u.next()}}},{key:"spans",value:function(e,t,n,r){for(var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=new y(e,null,o,null===(i=r.filterPoint)||void 0===i?void 0:i.bind(r)).goto(t),s=t,u=a.openStart;;){var l=Math.min(a.to,n);if(a.point?(r.point(s,l,a.point,a.activeForPoint(a.to),u),u=a.openEnd(l)+(a.to>l?1:0)):l>s&&(r.span(s,l,a.active,u),u=a.openEnd(l)),a.to>n)break;s=a.to,a.next()}return u}},{key:"of",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new d,o=(0,r.Z)(e instanceof u?[e]:n?f(e):e);try{for(o.s();!(t=o.n()).done;){var a=t.value;i.add(a.from,a.to,a.value)}}catch(s){o.e(s)}finally{o.f()}return i.finish()}}]),e}();function f(e){if(e.length>1)for(var t=e[0],n=1;n<e.length;n++){var r=e[n];if(l(t,r)>0)return e.slice().sort(l);t=r}return e}h.empty=new h([],[],null,-1),h.empty.nextLayer=h.empty;var d=function(){function e(){(0,i.Z)(this,e),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return(0,o.Z)(e,[{key:"finishChunk",value:function(e){this.chunks.push(new c(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new e)).add(t,n,r)}},{key:"addInner",value:function(e,t,n){var r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}},{key:"addChunk",value:function(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);var n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}},{key:"finish",value:function(){return this.finishInner(h.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;var t=new h(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}]),e}();function p(e,t,n){var i,o=new Map,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;)for(var s=i.value,u=0;u<s.chunk.length;u++)s.chunk[u].maxPoint<=0&&o.set(s.chunk[u],s.chunkPos[u])}catch(v){a.e(v)}finally{a.f()}var l,c=new Set,h=(0,r.Z)(t);try{for(h.s();!(l=h.n()).done;)for(var f=l.value,d=0;d<f.chunk.length;d++){var p=o.get(f.chunk[d]);null==p||(n?n.mapPos(p):p)!=f.chunkPos[d]||(null===n||void 0===n?void 0:n.touchesRange(p,p+f.chunk[d].length))||c.add(f.chunk[d])}}catch(v){h.e(v)}finally{h.f()}return c}var v=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,i.Z)(this,e),this.layer=t,this.skip=n,this.minPoint=r,this.rank=o}return(0,o.Z)(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}},{key:"gotoInner",value:function(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){var r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){var i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}},{key:"forward",value:function(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.to-e.to||this.endSide-e.endSide}}]),e}(),m=function(){function e(t){(0,i.Z)(this,e),this.heap=t}return(0,o.Z)(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9,i=(0,r.Z)(this.heap);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.goto(e,n)}}catch(s){i.e(s)}finally{i.f()}for(var a=this.heap.length>>1;a>=0;a--)g(this.heap,a);return this.next(),this}},{key:"forward",value:function(e,t){var n,i=(0,r.Z)(this.heap);try{for(i.s();!(n=i.n()).done;){n.value.forward(e,t)}}catch(a){i.e(a)}finally{i.f()}for(var o=this.heap.length>>1;o>=0;o--)g(this.heap,o);(this.to-e||this.value.endSide-t)<0&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),g(this.heap,0)}}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],o=0;o<t.length;o++)for(var a=t[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new v(a,n,r,o));return 1==i.length?i[0]:new e(i)}}]),e}();function g(e,t){for(var n=e[t];;){var r=1+(t<<1);if(r>=e.length)break;var i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}var y=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};(0,i.Z)(this,e),this.minPoint=r,this.filterPoint=o,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=m.from(t,n,r)}return(0,o.Z)(e,[{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}},{key:"removeActive",value:function(e){x(this.active,e),x(this.activeTo,e),x(this.activeRank,e),this.minActive=k(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var t=0,n=this.cursor,r=n.value,i=n.to,o=n.rank;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;w(this.active,t,r),w(this.activeTo,t,i),w(this.activeRank,t,o),e&&w(e,t,this.cursor.from),this.minActive=k(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,t=this.point;this.point=null;for(var n=this.openStart<0?[]:null,r=0;;){var i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&x(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var o=this.cursor.value;if(o.point)if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{if(this.filterPoint(this.cursor.from,this.cursor.to,this.cursor.value,this.cursor.rank)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.from<e&&(r=1),this.cursor.next(),this.to>e&&this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}if(n){for(var a=0;a<n.length&&n[a]<e;)a++;this.openStart=a+r}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var t=[],n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}},{key:"openEnd",value:function(e){for(var t=0,n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}]),e}();function b(e,t,n,r,i,o){e.goto(t),n.goto(r);for(var a=r+i,s=r,u=r-t;;){var l=e.to+u-n.to||e.endSide-n.endSide,c=l<0?e.to+u:n.to,h=Math.min(c,a);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&O(e.activeForPoint(e.to+u),n.activeForPoint(n.to))||o.comparePoint(s,h,e.point,n.point):h>s&&!O(e.active,n.active)&&o.compareRange(s,h,e.active,n.active),c>a)break;s=c,l<=0&&e.next(),l>=0&&n.next()}}function O(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function x(e,t){for(var n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function w(e,t,n){for(var r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function k(e,t){for(var n=-1,r=1e9,i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}},6580:function(e,t,n){"use strict";n.d(t,{q6:function(){return X},n0:function(){return h},as:function(){return f},D0:function(){return ue},jT:function(){return O},yy:function(){return he},r$:function(){return S},gc:function(){return c},Wl:function(){return D},Py:function(){return K},QQ:function(){return E},YW:function(){return ee},BO:function(){return fe}});var r=n(7762),i=n(136),o=n(9388),a=n(5671),s=n(3144),u=n(3344),l=/\r\n?|\n/,c=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(c||(c={})),h=function(){function e(t){(0,a.Z)(this,e),this.sections=t}return(0,s.Z)(e,[{key:"length",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}},{key:"newLength",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2){var n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var t=0,n=0,r=0;t<this.sections.length;){var i=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,i),r+=i):r+=o,n+=i}}},{key:"iterChangedRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v(this,e,t)}},{key:"invertedDesc",get:function(){for(var t=[],n=0;n<this.sections.length;){var r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new e(t)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:g(this,e)}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:m(this,e,t)}},{key:"mapPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.Simple,r=0,i=0,o=0;o<this.sections.length;){var a=this.sections[o++],s=this.sections[o++],u=r+a;if(s<0){if(u>e)return i+(e-r);i+=a}else{if(n!=c.Simple&&u>=e&&(n==c.TrackDel&&r<e&&u>e||n==c.TrackBefore&&r<e||n==c.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!a)return e==r||t<0?i:i+s;i+=s}r=u}if(e>r)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(r));return i}},{key:"touchesRange",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=0,r=0;n<this.sections.length&&r<=t;){var i=this.sections[n++],o=this.sections[n++],a=r+i;if(o>=0&&r<=t&&a>=e)return!(r<e&&a>t)||"cover";r=a}return!1}},{key:"toString",value:function(){for(var e="",t=0;t<this.sections.length;){var n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(t){if(!Array.isArray(t)||t.length%2||t.some((function(e){return"number"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeDesc");return new e(t)}}]),e}(),f=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).inserted=r,i}return(0,s.Z)(n,[{key:"apply",value:function(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return v(this,(function(t,n,r,i,o){return e=e.replace(r,r+(n-t),o)}),!1),e}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m(this,e,t,!0)}},{key:"invert",value:function(e){for(var t=this.sections.slice(),r=[],i=0,o=0;i<t.length;i+=2){var a=t[i],s=t[i+1];if(s>=0){t[i]=s,t[i+1]=a;for(var l=i>>1;r.length<l;)r.push(u.xv.empty);r.push(a?e.slice(o,o+a):u.xv.empty)}o+=a}return new n(t,r)}},{key:"compose",value:function(e){return this.empty?e:e.empty?this:g(this,e,!0)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:m(this,e,t,!0)}},{key:"iterChanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v(this,e,t)}},{key:"desc",get:function(){return new h(this.sections)}},{key:"filter",value:function(e){var t=[],r=[],i=[],o=new y(this);e:for(var a=0,s=0;;){for(var u=a==e.length?1e9:e[a++];s<u||s==u&&0==o.len;){if(o.done)break e;var l=Math.min(o.len,u-s);d(i,l,-1);var c=-1==o.ins?-1:0==o.off?o.ins:0;d(t,l,c),c>0&&p(r,t,o.text),o.forward(l),s+=l}for(var f=e[a++];s<f;){if(o.done)break e;var v=Math.min(o.len,f-s);d(t,v,-1),d(i,v,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(v),s+=v}}return{changes:new n(t,r),filtered:new h(i)}}},{key:"toJSON",value:function(){for(var e=[],t=0;t<this.sections.length;t+=2){var n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}}],[{key:"of",value:function(e,t,i){var o=[],a=[],s=0,c=null;function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||o.length){s<t&&d(o,t-s,-1);var r=new n(o,a);c=c?c.compose(r.map(c)):r,o=[],a=[],s=0}}return function e(f){if(Array.isArray(f)){var v,m=(0,r.Z)(f);try{for(m.s();!(v=m.n()).done;){e(v.value)}}catch(k){m.e(k)}finally{m.f()}}else if(f instanceof n){if(f.length!=t)throw new RangeError("Mismatched change set length (got ".concat(f.length,", expected ").concat(t,")"));h(),c=c?c.compose(f.map(c)):f}else{var g=f.from,y=f.to,b=void 0===y?g:y,O=f.insert;if(g>b||g<0||b>t)throw new RangeError("Invalid change range ".concat(g," to ").concat(b," (in doc of length ").concat(t,")"));var x=O?"string"==typeof O?u.xv.of(O.split(i||l)):O:u.xv.empty,w=x.length;if(g==b&&0==w)return;g<s&&h(),g>s&&d(o,g-s,-1),d(o,b-g,w),p(a,o,x),s=b}}(e),h(!c),c}},{key:"empty",value:function(e){return new n(e?[e,-1]:[],[])}},{key:"fromJSON",value:function(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");for(var t=[],r=[],i=0;i<e.length;i++){var o=e[i];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some((function(e,t){return t&&"string"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;r.length<i;)r.push(u.xv.empty);r[i]=u.xv.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new n(t,r)}}]),n}(h);function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0==t&&n<=0)){var i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}}function p(e,t,n){if(0!=n.length){var r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(u.xv.empty);e.push(n)}}}function v(e,t,n){for(var r=e.inserted,i=0,o=0,a=0;a<e.sections.length;){var s=e.sections[a++],l=e.sections[a++];if(l<0)i+=s,o+=s;else{for(var c=i,h=o,f=u.xv.empty;c+=s,h+=l,l&&r&&(f=f.append(r[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)s=e.sections[a++],l=e.sections[a++];t(i,c,o,h,f),i=c,o=h}}}function m(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=r?[]:null,a=new y(e),s=new y(t),u=0,l=0;;)if(-1==a.ins)u+=a.len,a.next();else if(-1==s.ins&&l<u){var c=Math.min(s.len,u-l);s.forward(c),d(i,c,-1),l+=c}else if(s.ins>=0&&(a.done||l<u||l==u&&(s.len<a.len||s.len==a.len&&!n))){for(d(i,s.ins,-1);u>l&&!a.done&&u+a.len<l+s.len;)u+=a.len,a.next();l+=s.len,s.next()}else{if(!(a.ins>=0)){if(a.done&&s.done)return o?new f(i,o):new h(i);throw new Error("Mismatched change set lengths")}for(var v=0,m=u+a.len;;)if(s.ins>=0&&l>u&&l+s.len<m)v+=s.ins,l+=s.len,s.next();else{if(!(-1==s.ins&&l<m))break;var g=Math.min(s.len,m-l);v+=g,s.forward(g),l+=g}d(i,v,a.ins),o&&p(o,i,a.text),u=m,a.next()}}function g(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=n?[]:null,o=new y(e),a=new y(t),s=!1;;){if(o.done&&a.done)return i?new f(r,i):new h(r);if(0==o.ins)d(r,o.len,0,s),o.next();else if(0!=a.len||a.done){if(o.done||a.done)throw new Error("Mismatched change set lengths");var u=Math.min(o.len2,a.len),l=r.length;if(-1==o.ins){var c=-1==a.ins?-1:a.off?0:a.ins;d(r,u,c,s),i&&c&&p(i,r,a.text)}else-1==a.ins?(d(r,o.off?0:o.len,u,s),i&&p(i,r,o.textBit(u))):(d(r,o.off?0:o.len,a.off?0:a.ins,s),i&&!a.off&&p(i,r,a.text));s=(o.ins>u||a.ins>=0&&a.len>u)&&(s||r.length>l),o.forward2(u),a.forward(u)}else d(r,0,a.ins,s),i&&p(i,r,a.text),a.next()}}var y=function(){function e(t){(0,a.Z)(this,e),this.set=t,this.i=0,this.next()}return(0,s.Z)(e,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,t=this.i-2>>1;return t>=e.length?u.xv.empty:e[t]}},{key:"textBit",value:function(e){var t=this.set.inserted,n=this.i-2>>1;return n>=t.length&&!e?u.xv.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),e}(),b=function(){function e(t,n,r){(0,a.Z)(this,e),this.from=t,this.to=n,this.flags=r}return(0,s.Z)(e,[{key:"anchor",get:function(){return 16&this.flags?this.to:this.from}},{key:"head",get:function(){return 16&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 4&this.flags?-1:8&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=3&this.flags;return 3==e?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>5;return 33554431==e?void 0:e}},{key:"map",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=t.mapPos(this.from,n),i=t.mapPos(this.to,n);return r==this.from&&i==this.to?this:new e(r,i,this.flags)}},{key:"extend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return O.range(e,t);var n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return O.range(this.anchor,n)}},{key:"eq",value:function(e){return this.anchor==e.anchor&&this.head==e.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return O.range(e.anchor,e.head)}}]),e}(),O=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,a.Z)(this,e),this.ranges=t,this.mainIndex=n}return(0,s.Z)(e,[{key:"map",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t.empty?this:e.create(this.ranges.map((function(e){return e.map(t,n)})),this.mainIndex)}},{key:"eq",value:function(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new e([this.main])}},{key:"addRange",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.create([t].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[n]=t,e.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map((function(e){return e.toJSON()})),main:this.mainIndex}}}],[{key:"fromJSON",value:function(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new e(t.ranges.map((function(e){return b.fromJSON(e)})),t.main)}},{key:"single",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return new e([e.range(t,n)],0)}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==t.length)throw new RangeError("A selection needs at least one range");for(var r=0,i=0;i<t.length;i++){var o=t[i];if(o.empty?o.from<=r:o.from<r)return x(t.slice(),n);r=o.to}return new e(t,n)}},{key:"cursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new b(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!==r&&void 0!==r?r:33554431)<<5)}},{key:"range",value:function(e,t,n){var r=(null!==n&&void 0!==n?n:33554431)<<5;return t<e?new b(t,e,16|r):new b(e,t,r)}}]),e}();function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e[t];e.sort((function(e,t){return e.from-t.from})),t=e.indexOf(n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(i.empty?i.from<=o.to:i.from<o.to){var a=o.from,s=Math.max(i.to,o.to);r<=t&&t--,e.splice(--r,2,i.anchor>i.head?O.range(s,a):O.range(a,s))}}return new O(e,t)}function w(e,t){var n,i=(0,r.Z)(e.ranges);try{for(i.s();!(n=i.n()).done;){if(n.value.to>t)throw new RangeError("Selection points outside of document")}}catch(o){i.e(o)}finally{i.f()}}var k=0,S=function(){function e(t,n,r,i,o){(0,a.Z)(this,e),this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.extensions=o,this.id=k++,this.default=t([])}return(0,s.Z)(e,[{key:"of",value:function(e){return new T([],this,0,e)}},{key:"compute",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new T(e,this,1,t)}},{key:"computeN",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new T(e,this,2,t)}},{key:"from",value:function(e,t){return t||(t=function(e){return e}),this.compute([e],(function(n){return t(n.field(e))}))}}],[{key:"define",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(t.combine||function(e){return e},t.compareInput||function(e,t){return e===t},t.compare||(t.combine?function(e,t){return e===t}:_),!!t.static,t.enables)}}]),e}();function _(e,t){return e==t||e.length==t.length&&e.every((function(e,n){return e===t[n]}))}var T=function(){function e(t,n,r,i){(0,a.Z)(this,e),this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=k++}return(0,s.Z)(e,[{key:"dynamicSlot",value:function(e){var t,n,i=this.value,o=this.facet.compareInput,a=e[this.id]>>1,s=2==this.type,u=!1,l=!1,c=[],h=(0,r.Z)(this.dependencies);try{for(h.s();!(n=h.n()).done;){var f=n.value;"doc"==f?u=!0:"selection"==f?l=!0:0==(1&(null!==(t=e[f.id])&&void 0!==t?t:1))&&c.push(e[f.id])}}catch(d){h.e(d)}finally{h.f()}return function(e,t){var n=e.values[a];if(n===j)return e.values[a]=i(e),1;if(t&&(u&&t.docChanged||l&&(t.docChanged||t.selection)||c.some((function(t){return(1&W(e,t))>0})))){var r=i(e);if(s?!function(e,t,n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}(r,n,o):!o(r,n))return e.values[a]=r,1}return 0}}}]),e}();var M=S.define({static:!0}),E=function(){function e(t,n,r,i,o){(0,a.Z)(this,e),this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}return(0,s.Z)(e,[{key:"create",value:function(e){var t=this,n=e.facet(M).find((function(e){return e.field==t}));return((null===n||void 0===n?void 0:n.create)||this.createF)(e)}},{key:"slot",value:function(e){var t=this,n=e[this.id]>>1;return function(e,r){var i=e.values[n];if(i===j)return e.values[n]=t.create(e),1;if(r){var o=t.updateF(i,r);if(!t.compareF(i,o))return e.values[n]=o,1}return 0}}},{key:"init",value:function(e){return[this,M.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(t){var n=new e(k++,t.create,t.update,t.compare||function(e,t){return e===t},t);return t.provide&&(n.provides=t.provide(n)),n}}]),e}(),P=4,C=3,A=2,R=1,L=0;function Q(e){return function(t){return new Z(t,e)}}var D={lowest:Q(P),low:Q(C),default:Q(A),high:Q(R),highest:Q(L),fallback:Q(P),extend:Q(R),override:Q(L)},Z=(0,s.Z)((function e(t,n){(0,a.Z)(this,e),this.inner=t,this.prec=n})),I=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"of",value:function(e){return new N(this,e)}},{key:"reconfigure",value:function(t){return e.reconfigure.of({compartment:this,extension:t})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),e}(),N=(0,s.Z)((function e(t,n){(0,a.Z)(this,e),this.compartment=t,this.inner=n})),z=function(){function e(t,n,r,i,o){for((0,a.Z)(this,e),this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return(0,s.Z)(e,[{key:"staticFacet",value:function(e){var t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}}],[{key:"resolve",value:function(t,n,i){var o,a=[],s=Object.create(null),u=new Map,l=(0,r.Z)(function(e,t,n){var i=[[],[],[],[],[]],o=new Map;function a(e,s){var u=o.get(e);if(null!=u){if(u>=s)return;var l=i[u].indexOf(e);l>-1&&i[u].splice(l,1),e instanceof N&&n.delete(e.compartment)}if(o.set(e,s),Array.isArray(e)){var c,h=(0,r.Z)(e);try{for(h.s();!(c=h.n()).done;){a(c.value,s)}}catch(p){h.e(p)}finally{h.f()}}else if(e instanceof N){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");var f=t.get(e.compartment)||e.inner;n.set(e.compartment,f),a(f,s)}else if(e instanceof Z)a(e.inner,e.prec);else if(e instanceof E)i[s].push(e),e.provides&&a(e.provides,s);else if(e instanceof T)i[s].push(e),e.facet.extensions&&a(e.facet.extensions,s);else{var d=e.extension;if(!d)throw new Error("Unrecognized extension value in extension set (".concat(e,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));a(d,s)}}return a(e,A),i.reduce((function(e,t){return e.concat(t)}))}(t,n,u));try{for(l.s();!(o=l.n()).done;){var c=o.value;c instanceof E?a.push(c):(s[c.facet.id]||(s[c.facet.id]=[])).push(c)}}catch(_){l.e(_)}finally{l.f()}for(var h=Object.create(null),f=[],d=[],p=[],v=function(){var e=g[m];h[e.id]=d.length<<1,d.push((function(t){return e.slot(t)})),p.push([])},m=0,g=a;m<g.length;m++)v();var y=function(e){var t=s[e],n=t[0].facet;if(t.every((function(e){return 0==e.type}))){h[n.id]=f.length<<1|1;var o=n.combine(t.map((function(e){return e.value}))),a=i?i.config.address[n.id]:null;if(null!=a){var u=B(i,a);n.compare(o,u)&&(o=u)}f.push(o)}else{var l,c=(0,r.Z)(t);try{var v=function(){var e=l.value;0==e.type?(h[e.id]=f.length<<1|1,f.push(e.value)):(h[e.id]=d.length<<1,d.push((function(t){return e.dynamicSlot(t)})),p.push(e.dependencies.filter((function(e){return"string"!=typeof e})).map((function(e){return e.id}))))};for(c.s();!(l=c.n()).done;)v()}catch(_){c.e(_)}finally{c.f()}h[n.id]=d.length<<1,d.push((function(e){return function(e,t,n){var i=n.map((function(t){return e[t.id]})),o=n.map((function(e){return e.type})),a=i.filter((function(e){return!(1&e)})),s=e[t.id]>>1;return function(e,n){var u,l=e.values[s],c=l===j||!n,h=(0,r.Z)(a);try{for(h.s();!(u=h.n()).done;)1&W(e,u.value)&&(c=!0)}catch(_){h.e(_)}finally{h.f()}if(!c)return 0;for(var f=[],d=0;d<i.length;d++){var p=B(e,i[d]);if(2==o[d]){var v,m=(0,r.Z)(p);try{for(m.s();!(v=m.n()).done;){var g=v.value;f.push(g)}}catch(_){m.e(_)}finally{m.f()}}else f.push(p)}var y=t.combine(f);return l!==j&&t.compare(y,l)?0:(e.values[s]=y,1)}}(e,n,t)})),p.push(t.filter((function(e){return 0!=e.type})).map((function(e){return e.id})))}};for(var b in s)y(b);var O=d.map((function(e){return j}));if(i){var x=function e(t,n){if(n>7)return!1;var r=h[t];if(!(1&r))return p[r>>1].every((function(t){return e(t,n+1)}));var o=i.config.address[t];return null!=o&&B(i,o)==f[r>>1]};for(var w in h){var k=h[w],S=i.config.address[w];null!=S&&0==(1&k)&&x(+w,0)&&(O[k>>1]=B(i,S))}}return{configuration:new e(t,u,d.map((function(e){return e(h)})),h,f),values:O}}}]),e}();var j={};function W(e,t){if(1&t)return 2;var n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;var i=e.config.dynamicSlots[n](e,e.applying);return e.status[n]=2|i}function B(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}var F=S.define(),$=S.define({combine:function(e){return e.some((function(e){return e}))},static:!0}),V=S.define({combine:function(e){return e.length?e[0]:void 0},static:!0}),U=S.define(),H=S.define(),G=S.define(),q=S.define({combine:function(e){return!!e.length&&e[0]}}),X=function(){function e(t,n){(0,a.Z)(this,e),this.type=t,this.value=n}return(0,s.Z)(e,null,[{key:"define",value:function(){return new Y}}]),e}(),Y=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"of",value:function(e){return new X(this,e)}}]),e}(),J=function(){function e(t){(0,a.Z)(this,e),this.map=t}return(0,s.Z)(e,[{key:"of",value:function(e){return new K(this,e)}}]),e}(),K=function(){function e(t,n){(0,a.Z)(this,e),this.type=t,this.value=n}return(0,s.Z)(e,[{key:"map",value:function(t){var n=this.type.map(this.value,t);return void 0===n?void 0:n==this.value?this:new e(this.type,n)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new J(e.map||function(e){return e})}},{key:"mapEffects",value:function(e,t){if(!e.length)return e;var n,i=[],o=(0,r.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value.map(t);a&&i.push(a)}}catch(s){o.e(s)}finally{o.f()}return i}}]),e}();K.reconfigure=K.define(),K.appendConfig=K.define();var ee=function(){function e(t,n,r,i,o,s){(0,a.Z)(this,e),this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&w(r,n.newLength),o.some((function(t){return t.type==e.time}))||(this.annotations=o.concat(e.time.of(Date.now())))}return(0,s.Z)(e,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var t,n=(0,r.Z)(this.annotations);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.type==e)return i.value}}catch(o){n.e(o)}finally{n.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(t){var n=this.annotation(e.userEvent);return!(!n||!(n==t||n.length>t.length&&n.slice(0,t.length)==t&&"."==n[t.length]))}}]),e}();function te(e,t){for(var n=[],r=0,i=0;;){var o=void 0,a=void 0;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],a=e[r++];else{if(!(i<t.length))return n;o=t[i++],a=t[i++]}!n.length||n[n.length-1]<o?n.push(o,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function ne(e,t,n){var r,i,o,a;return n?(i=t.changes,o=f.empty(t.changes.length),a=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(i)),{changes:a,selection:t.selection?t.selection.map(o):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:K.mapEffects(e.effects,i).concat(K.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function re(e,t,n){var r=t.selection,i=ae(t.annotations);return t.userEvent&&(i=i.concat(ee.userEvent.of(t.userEvent))),{changes:t.changes instanceof f?t.changes:f.of(t.changes||[],n,e.facet(V)),selection:r&&(r instanceof O?r:O.single(r.anchor,r.head)),effects:ae(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function ie(e,t,n){var i=re(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(var o=1;o<t.length;o++){!1===t[o].filter&&(n=!1);var a=!!t[o].sequential;i=ne(i,re(e,t[o],a?i.changes.newLength:e.doc.length),a)}var s=new ee(e,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(e){for(var t=e.startState,n=t.facet(G),r=e,i=n.length-1;i>=0;i--){var o=n[i](e);o&&Object.keys(o).length&&(r=ne(e,re(t,o,e.changes.newLength),!0))}return r==e?e:new ee(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){var t,n=e.startState,i=!0,o=(0,r.Z)(n.facet(U));try{for(o.s();!(t=o.n()).done;){var a=(0,t.value)(e);if(!1===a){i=!1;break}Array.isArray(a)&&(i=!0===i?a:te(i,a))}}catch(p){o.e(p)}finally{o.f()}if(!0!==i){var s,u;if(!1===i)u=e.changes.invertedDesc,s=f.empty(n.doc.length);else{var l=e.changes.filter(i);s=l.changes,u=l.filtered.invertedDesc}e=new ee(n,s,e.selection&&e.selection.map(u),K.mapEffects(e.effects,u),e.annotations,e.scrollIntoView)}for(var c=n.facet(H),h=c.length-1;h>=0;h--){var d=c[h](e);e=d instanceof ee?d:Array.isArray(d)&&1==d.length&&d[0]instanceof ee?d[0]:ie(n,ae(d),!1)}return e}(s):s)}ee.time=X.define(),ee.userEvent=X.define(),ee.addToHistory=X.define(),ee.remote=X.define();var oe=[];function ae(e){return null==e?oe:Array.isArray(e)?e:[e]}var se,ue=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(ue||(ue={})),le=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{se=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(de){}function ce(e){return function(t){if(!/\S/.test(t))return ue.Space;if(function(e){if(se)return se.test(e);for(var t=0;t<e.length;t++){var n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||le.test(n)))return!0}return!1}(t))return ue.Word;for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return ue.Word;return ue.Other}}var he=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,a.Z)(this,e),this.config=t,this.doc=n,this.selection=r,this.values=i,this.applying=null,this.status=t.statusTemplate.slice(),this.applying=o,o&&(o._state=this);for(var s=0;s<this.config.dynamicSlots.length;s++)W(this,s<<1);this.applying=null}return(0,s.Z)(e,[{key:"field",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[e.id];if(null!=n)return W(this,n),B(this,n);if(t)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie(this,t,!0)}},{key:"applyTransaction",value:function(t){var n,i,o=this.config,a=o,s=a.base,u=a.compartments,l=(0,r.Z)(t.effects);try{for(l.s();!(n=l.n()).done;){var c=n.value;c.is(I.reconfigure)?(o&&(u=new Map,o.compartments.forEach((function(e,t){return u.set(t,e)})),o=null),u.set(c.value.compartment,c.value.extension)):c.is(K.reconfigure)?(o=null,s=c.value):c.is(K.appendConfig)&&(o=null,s=ae(s).concat(c.value))}}catch(f){l.e(f)}finally{l.f()}if(o)i=t.startState.values.slice();else{var h=z.resolve(s,u,this);i=new e(o=h.configuration,this.doc,this.selection,h.values,null).values}new e(o,t.newDoc,t.newSelection,i,t)}},{key:"replaceSelection",value:function(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((function(t){return{changes:{from:t.from,to:t.to,insert:e},range:O.cursor(t.from+e.length)}}))}},{key:"changeByRange",value:function(e){for(var t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],o=ae(n.effects),a=1;a<t.ranges.length;a++){for(var s=e(t.ranges[a]),u=this.changes(s.changes),l=u.map(r),c=0;c<a;c++)i[c]=i[c].map(l);var h=r.mapDesc(u,!0);i.push(s.range.map(h)),r=r.compose(l),o=K.mapEffects(o,l).concat(K.mapEffects(ae(s.effects),h))}return{changes:r,selection:O.create(i,t.mainIndex),effects:o}}},{key:"changes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof f?t:f.of(t,this.doc.length,this.facet(e.lineSeparator))}},{key:"toText",value:function(t){return u.xv.of(t.split(this.facet(e.lineSeparator)||l))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}},{key:"facet",value:function(e){var t=this.config.address[e.id];return null==t?e.default:(W(this,t),B(this,t))}},{key:"toJSON",value:function(e){var t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var n in e){var r=e[n];r instanceof E&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}},{key:"tabSize",get:function(){return this.facet(e.tabSize)}},{key:"lineBreak",get:function(){return this.facet(e.lineSeparator)||"\n"}},{key:"readOnly",get:function(){return this.facet(q)}},{key:"phrase",value:function(t){var n,i=(0,r.Z)(this.facet(e.phrases));try{for(i.s();!(n=i.n()).done;){var o=n.value;if(Object.prototype.hasOwnProperty.call(o,t))return o[t]}}catch(a){i.e(a)}finally{i.f()}return t}},{key:"languageDataAt",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=[],a=(0,r.Z)(this.facet(F));try{for(a.s();!(n=a.n()).done;){var s,u=n.value,l=(0,r.Z)(u(this,t,i));try{for(l.s();!(s=l.n()).done;){var c=s.value;Object.prototype.hasOwnProperty.call(c,e)&&o.push(c[e])}}catch(h){l.e(h)}finally{l.f()}}}catch(h){a.e(h)}finally{a.f()}return o}},{key:"charCategorizer",value:function(e){return ce(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var t=this.doc.lineAt(e),n=t.text,r=t.from,i=t.length,o=this.charCategorizer(e),a=e-r,s=e-r;a>0;){var l=(0,u.cp)(n,a,!1);if(o(n.slice(l,a))!=ue.Word)break;a=l}for(;s<i;){var c=(0,u.cp)(n,s);if(o(n.slice(s,c))!=ue.Word)break;s=c}return a==s?null:O.range(a+r,s+r)}}],[{key:"fromJSON",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");var i=[];if(r){var o=function(e){var n=r[e],o=t[e];i.push(n.init((function(e){return n.spec.fromJSON(o,e)})))};for(var a in r)o(a)}return e.create({doc:t.doc,selection:O.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=z.resolve(t.extensions||[],new Map),r=n.configuration,i=n.values,o=t.doc instanceof u.xv?t.doc:u.xv.of((t.doc||"").split(r.staticFacet(e.lineSeparator)||l)),a=t.selection?t.selection instanceof O?t.selection:O.single(t.selection.anchor,t.selection.head):O.single(0);return w(a,o.length),r.staticFacet($)||(a=a.asSingle()),new e(r,o,a,i)}}]),e}();function fe(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={},a=(0,r.Z)(e);try{for(a.s();!(n=a.n()).done;)for(var s=n.value,u=0,l=Object.keys(s);u<l.length;u++){var c=l[u],h=s[c],f=o[c];if(void 0===f)o[c]=h;else if(f===h||void 0===h);else{if(!Object.hasOwnProperty.call(i,c))throw new Error("Config merge conflict for field "+c);o[c]=i[c](f,h)}}}catch(p){a.e(p)}finally{a.f()}for(var d in t)void 0===o[d]&&(o[d]=t[d]);return o}he.allowMultipleSelections=$,he.tabSize=S.define({combine:function(e){return e.length?e[0]:4}}),he.lineSeparator=V,he.readOnly=q,he.phrases=S.define(),he.languageData=F,he.changeFilter=U,he.transactionFilter=H,he.transactionExtender=G,I.reconfigure=K.define()},3344:function(e,t,n){"use strict";n.d(t,{xv:function(){return _},gm:function(){return O},nZ:function(){return w},IS:function(){return k},cp:function(){return v},Gz:function(){return S},bg:function(){return x}});for(var r=n(9439),i=n(7762),o=n(1752),a=n(1120),s=n(136),u=n(9388),l=n(5671),c=n(3144),h="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((function(e){return e?parseInt(e,36):1})),f=1;f<h.length;f++)h[f]+=h[f-1];function d(e){for(var t=1;t<h.length;t+=2)if(h[t]>e)return h[t-1]<=e;return!1}function p(e){return e>=127462&&e<=127487}function v(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(n?m:g)(e,t,r)}function m(e,t,n){if(t==e.length)return t;t&&y(e.charCodeAt(t))&&b(e.charCodeAt(t-1))&&t--;var r=O(e,t);for(t+=w(r);t<e.length;){var i=O(e,t);if(8205==r||8205==i||n&&d(i))t+=w(i),r=i;else{if(!p(i))break;for(var o=0,a=t-2;a>=0&&p(O(e,a));)o++,a-=2;if(o%2==0)break;t+=2}}return t}function g(e,t,n){for(;t>0;){var r=m(e,t-2,n);if(r<t)return r;t--}return 0}function y(e){return e>=56320&&e<57344}function b(e){return e>=55296&&e<56320}function O(e,t){var n=e.charCodeAt(t);if(!b(n)||t+1==e.length)return n;var r=e.charCodeAt(t+1);return y(r)?r-56320+(n-55296<<10)+65536:n}function x(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function w(e){return e<65536?1:2}function k(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0;i<n;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=v(e,i));return r}function S(e,t,n,r){for(var i=0,o=0;;){if(o>=t)return i;if(i==e.length)break;o+=9==e.charCodeAt(i)?n-o%n:1,i=v(e,i)}return!0===r?-1:e.length}var _=function(){function e(){(0,l.Z)(this,e)}return(0,c.Z)(e,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,t,n){var r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),M.from(r,this.length-(t-e)+n.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=[];return this.decompose(e,t,n,0),M.from(n,t-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new A(this),i=new A(e),o=t,a=t;;){if(r.next(o),i.next(o),o=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(a+=r.value.length,r.done||a>=n)return!0}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new A(this,e)}},{key:"iterRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new R(this,e,t)}},{key:"iterLines",value:function(e,t){var n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);var r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new L(n)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new T(t):M.from(T.split(t,[])):e.empty}}]),e}(),T=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E(e);return(0,l.Z)(this,n),(r=t.call(this)).text=e,r.length=i,r}return(0,c.Z)(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var o=this.text[i],a=r+o.length;if((t?n:a)>=e)return new Q(r,a,n,o);r=a+1,n++}}},{key:"decompose",value:function(e,t,r,i){var o=e<=0&&t>=this.length?this:new n(C(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){var a=r.pop(),s=P(o.text,a.text.slice(),0,o.length);if(s.length<=32)r.push(new n(s,a.length+o.length));else{var u=s.length>>1;r.push(new n(s.slice(0,u)),new n(s.slice(u)))}}else r.push(o)}},{key:"replace",value:function(e,t,r){if(!(r instanceof n))return(0,o.Z)((0,a.Z)(n.prototype),"replace",this).call(this,e,t,r);var i=P(this.text,P(r.text,C(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new n(i,s):M.from(n.split(i,[]),s)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,o=0;i<=t&&o<this.text.length;o++){var a=this.text[o],s=i+a.length;i>e&&o&&(r+=n),e<s&&t>i&&(r+=a.slice(Math.max(0,e-i),t-i)),i=s+1}return r}},{key:"flatten",value:function(e){var t,n=(0,i.Z)(this.text);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(e,t){var r,o=[],a=-1,s=(0,i.Z)(e);try{for(s.s();!(r=s.n()).done;){var u=r.value;o.push(u),a+=u.length+1,32==o.length&&(t.push(new n(o,a)),o=[],a=-1)}}catch(l){s.e(l)}finally{s.f()}return a>-1&&t.push(new n(o,a)),t}}]),n}(_),M=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){var o;(0,l.Z)(this,n),(o=t.call(this)).children=e,o.length=r,o.lines=0;var a,s=(0,i.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;o.lines+=u.lines}}catch(c){s.e(c)}finally{s.f()}return o}return(0,c.Z)(n,[{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var o=this.children[i],a=r+o.length,s=n+o.lines-1;if((t?s:a)>=e)return o.lineInner(e,t,n,r);r=a+1,n=s+1}}},{key:"decompose",value:function(e,t,n,r){for(var i=0,o=0;o<=t&&i<this.children.length;i++){var a=this.children[i],s=o+a.length;if(e<=s&&t>=o){var u=r&((o<=e?1:0)|(s>=t?2:0));o>=e&&s<=t&&!u?n.push(a):a.decompose(e-o,t-o,n,u)}o=s+1}}},{key:"replace",value:function(e,t,r){if(r.lines<this.lines)for(var i=0,s=0;i<this.children.length;i++){var u=this.children[i],l=s+u.length;if(e>=s&&t<=l){var c=u.replace(e-s,t-s,r),h=this.lines-u.lines+c.lines;if(c.lines<h>>4&&c.lines>h>>6){var f=this.children.slice();return f[i]=c,new n(f,this.length-(t-e)+r.length)}return(0,o.Z)((0,a.Z)(n.prototype),"replace",this).call(this,s,l,c)}s=l+1}return(0,o.Z)((0,a.Z)(n.prototype),"replace",this).call(this,e,t,r)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,o=0;i<this.children.length&&o<=t;i++){var a=this.children[i],s=o+a.length;o>e&&i&&(r+=n),e<s&&t>o&&(r+=a.sliceString(e-o,t-o,n)),o=s+1}return r}},{key:"flatten",value:function(e){var t,n=(0,i.Z)(this.children);try{for(n.s();!(t=n.n()).done;){t.value.flatten(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"scanIdentical",value:function(e,t){if(!(e instanceof n))return 0;for(var i=0,o=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1],a=(0,r.Z)(o,4),s=a[0],u=a[1],l=a[2],c=a[3];;s+=t,u+=t){if(s==l||u==c)return i;var h=this.children[s],f=e.children[u];if(h!=f)return i+h.scanIdentical(f,t);i+=h.length+1}}}],[{key:"from",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce((function(e,t){return e+t.length+1}),-1),o=0,a=(0,i.Z)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;o+=s.lines}}catch(S){a.e(S)}finally{a.f()}if(o<32){var u,l=[],c=(0,i.Z)(e);try{for(c.s();!(u=c.n()).done;){var h=u.value;h.flatten(l)}}catch(S){c.e(S)}finally{c.f()}return new T(l,r)}var f=Math.max(32,o>>5),d=f<<1,p=f>>1,v=[],m=0,g=-1,y=[];function b(e){var t;if(e.lines>d&&e instanceof n){var r,o=(0,i.Z)(e.children);try{for(o.s();!(r=o.n()).done;){b(r.value)}}catch(S){o.e(S)}finally{o.f()}}else e.lines>p&&(m>p||!m)?(O(),v.push(e)):e instanceof T&&m&&(t=y[y.length-1])instanceof T&&e.lines+t.lines<=32?(m+=e.lines,g+=e.length+1,y[y.length-1]=new T(t.text.concat(e.text),t.length+1+e.length)):(m+e.lines>f&&O(),m+=e.lines,g+=e.length+1,y.push(e))}function O(){0!=m&&(v.push(1==y.length?y[0]:n.from(y,g)),g=-1,m=y.length=0)}var x,w=(0,i.Z)(e);try{for(w.s();!(x=w.n()).done;){var k=x.value;b(k)}}catch(S){w.e(S)}finally{w.f()}return O(),1==v.length?v[0]:new n(v,r)}}]),n}(_);function E(e){var t,n=-1,r=(0,i.Z)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.length+1}}catch(o){r.e(o)}finally{r.f()}return n}function P(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9,i=0,o=0,a=!0;o<e.length&&i<=r;o++){var s=e[o],u=i+s.length;u>=n&&(u>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),a?(t[t.length-1]+=s,a=!1):t.push(s)),i=u+1}return t}function C(e,t,n){return P(e,[""],t,n)}_.empty=new T([""],0);var A=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,l.Z)(this,e),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof T?t.text.length:t.children.length)<<1]}return(0,c.Z)(e,[{key:"nextInner",value:function(e,t){for(this.done=this.lineBreak=!1;;){var n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],o=i>>1,a=r instanceof T?r.text.length:r.children.length;if(o==(t>0?a:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof T){var s=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,s.length>Math.max(0,e))return this.value=0==e?s:t>0?s.slice(e):s.slice(0,s.length-e),this;e-=s.length}else{var u=r.children[o+(t<0?-1:0)];e>u.length?(e-=u.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(u),this.offsets.push(t>0?1:(u instanceof T?u.text.length:u.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),e}(),R=function(){function e(t,n,r){(0,l.Z)(this,e),this.value="",this.done=!1,this.cursor=new A(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}return(0,c.Z)(e,[{key:"nextInner",value:function(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);var n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;var r=this.cursor.next(e).value;return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&""!=this.value}}]),e}(),L=function(){function e(t){(0,l.Z)(this,e),this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}return(0,c.Z)(e,[{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.inner.next(e),n=t.done,r=t.lineBreak,i=t.value;return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),e}();"undefined"!=typeof Symbol&&(_.prototype[Symbol.iterator]=function(){return this.iter()},A.prototype[Symbol.iterator]=R.prototype[Symbol.iterator]=L.prototype[Symbol.iterator]=function(){return this});var Q=function(){function e(t,n,r,i){(0,l.Z)(this,e),this.from=t,this.to=n,this.number=r,this.text=i}return(0,c.Z)(e,[{key:"length",get:function(){return this.to-this.from}}]),e}()},204:function(e,t,n){"use strict";n.d(t,{gB:function(){return k},bF:function(){return w},hJ:function(){return g}});var r=n(3433),i=n(7762),o=n(5671),a=n(3144),s=n(4294),u=n(6580),l="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),c="-10000px",h=function(){function e(t,n,r){(0,o.Z)(this,e),this.facet=n,this.createTooltipView=r,this.input=t.state.facet(n),this.tooltips=this.input.filter((function(e){return e})),this.tooltipViews=this.tooltips.map(r)}return(0,a.Z)(e,[{key:"update",value:function(e){var t=e.state.facet(this.facet),n=t.filter((function(e){return e}));if(t===this.input){var r,o=(0,i.Z)(this.tooltipViews);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.update&&a.update(e)}}catch(g){o.e(g)}finally{o.f()}return!1}for(var s=[],u=0;u<n.length;u++){var l=n[u],c=-1;if(l){for(var h=0;h<this.tooltips.length;h++){var f=this.tooltips[h];f&&f.create==l.create&&(c=h)}if(c<0)s[u]=this.createTooltipView(l);else{var d=s[u]=this.tooltipViews[c];d.update&&d.update(e)}}}var p,v=(0,i.Z)(this.tooltipViews);try{for(v.s();!(p=v.n()).done;){var m=p.value;s.indexOf(m)<0&&m.dom.remove()}}catch(g){v.e(g)}finally{v.f()}return this.input=t,this.tooltips=n,this.tooltipViews=s,!0}}]),e}();function f(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}var d=u.r$.define({combine:function(e){var t,n,r;return{position:l?"absolute":(null===(t=e.find((function(e){return e.position})))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((function(e){return e.parent})))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((function(e){return e.tooltipSpace})))||void 0===r?void 0:r.tooltipSpace)||f}}}),p=s.lg.fromClass(function(){function e(t){var n,r=this;(0,o.Z)(this,e),this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;var i=t.state.facet(d);this.position=i.position,this.parent=i.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new h(t,g,(function(e){return r.createTooltip(e)})),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((function(e){Date.now()>r.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&r.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(n=t.dom.ownerDocument.defaultView)||void 0===n||n.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return(0,a.Z)(e,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,t=(0,i.Z)(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.intersectionObserver.observe(n.dom)}}catch(r){t.e(r)}finally{t.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout((function(){e.measureTimeout=-1,e.maybeMeasure()}),50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var t=this.manager.update(e);t&&this.observeIntersection();var n=t||e.geometryChanged,r=e.state.facet(d);if(r.position!=this.position){this.position=r.position;var o,a=(0,i.Z)(this.manager.tooltipViews);try{for(a.s();!(o=a.n()).done;){o.value.dom.style.position=this.position}}catch(c){a.e(c)}finally{a.f()}n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();var s,u=(0,i.Z)(this.manager.tooltipViews);try{for(u.s();!(s=u.n()).done;){var l=s.value;this.container.appendChild(l.dom)}}catch(c){u.e(c)}finally{u.f()}n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}},{key:"createTooltip",value:function(e){var t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector("cm-tooltip > cm-tooltip-arrow")){var n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=c,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}},{key:"destroy",value:function(){var e,t;null===(e=this.view.dom.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.measureSoon);var n,r=(0,i.Z)(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){n.value.dom.remove()}}catch(o){r.e(o)}finally{r.f()}null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((function(t){return e.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((function(e){return e.dom.getBoundingClientRect()})),space:this.view.state.facet(d).tooltipSpace(this.view)}}},{key:"writeMeasure",value:function(e){for(var t=e.editor,n=e.space,r=[],o=0;o<this.manager.tooltips.length;o++){var a=this.manager.tooltips[o],u=this.manager.tooltipViews[o],l=u.dom,h=e.pos[o],f=e.size[o];if(!h||h.bottom<=Math.max(t.top,n.top)||h.top>=Math.min(t.bottom,n.bottom)||h.right<=Math.max(t.left,n.left)||h.left>=Math.min(t.right,n.right))l.style.top=c;else{var d=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,v=f.right-f.left,g=f.bottom-f.top,y=u.offset||m,b=this.view.textDirection==s.Nm.LTR,O=f.width>n.right-n.left?b?n.left:n.right-f.width:b?Math.min(h.left-(d?14:0)+y.x,n.right-v):Math.max(n.left,h.left-v+(d?14:0)-y.x),x=!!a.above;!a.strictSide&&(x?h.top-(f.bottom-f.top)-y.y<n.top:h.bottom+(f.bottom-f.top)+y.y>n.bottom)&&x==n.bottom-h.bottom>h.top-n.top&&(x=!x);var w,k=x?h.top-g-p-y.y:h.bottom+p+y.y,S=O+v,_=(0,i.Z)(r);try{for(_.s();!(w=_.n()).done;){var T=w.value;T.left<S&&T.right>O&&T.top<k+g&&T.bottom>k&&(k=x?T.top-g-2-p:T.bottom+p+2)}}catch(M){_.e(M)}finally{_.f()}"absolute"==this.position?(l.style.top=k-e.parent.top+"px",l.style.left=O-e.parent.left+"px"):(l.style.top=k+"px",l.style.left=O+"px"),d&&(d.style.left="".concat(h.left+(b?y.x:-y.x)-(O+14-7),"px")),r.push({left:O,top:k,right:S,bottom:k+g}),l.classList.toggle("cm-tooltip-above",x),l.classList.toggle("cm-tooltip-below",!x),u.positioned&&u.positioned()}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,t=(0,i.Z)(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){e.value.dom.style.top=c}}catch(n){t.e(n)}finally{t.f()}}}}]),e}(),{eventHandlers:{scroll:function(){this.maybeMeasure()}}}),v=s.tk.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),m={x:0,y:0},g=u.r$.define({enables:[p,v]}),y=u.r$.define(),b=function(){function e(t){var n=this;(0,o.Z)(this,e),this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new h(t,y,(function(e){return n.createHostedView(e)}))}return(0,a.Z)(e,[{key:"createHostedView",value:function(e){var t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}},{key:"mount",value:function(e){var t,n=(0,i.Z)(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.mount&&r.mount(e)}}catch(o){n.e(o)}finally{n.f()}this.mounted=!0}},{key:"positioned",value:function(){var e,t=(0,i.Z)(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.positioned&&n.positioned()}}catch(r){t.e(r)}finally{t.f()}}},{key:"update",value:function(e){this.manager.update(e)}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),O=g.compute([y],(function(e){var t=e.facet(y).filter((function(e){return e}));return 0===t.length?null:{pos:Math.min.apply(Math,(0,r.Z)(t.map((function(e){return e.pos})))),end:Math.max.apply(Math,(0,r.Z)(t.filter((function(e){return null!=e.end})).map((function(e){return e.end})))),create:b.create,above:t[0].above,arrow:t.some((function(e){return e.arrow}))}})),x=function(){function e(t,n,r,i,a){(0,o.Z)(this,e),this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return(0,a.Z)(e,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((function(){return e.startHover()}),20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e,t=this;clearTimeout(this.restartTimeout);var n=this.lastMove,r=this.view.contentDOM.contains(n.target)?this.view.posAtCoords(n):null;if(null!=r){var i=this.view.coordsAtPos(r);if(!(null==i||n.y<i.top||n.y>i.bottom||n.x<i.left-this.view.defaultCharacterWidth||n.x>i.right+this.view.defaultCharacterWidth)){var o=this.view.bidiSpans(this.view.state.doc.lineAt(r)).find((function(e){return e.from<=r&&e.to>=r})),a=o&&o.dir==s.Nm.RTL?-1:1,u=this.source(this.view,r,n.x<i.left?-a:a);if(null===(e=u)||void 0===e?void 0:e.then){var l=this.pending={pos:r};u.then((function(e){t.pending==l&&(t.pending=null,e&&t.view.dispatch({effects:t.setHover.of(e)}))}),(function(e){return(0,s.OO)(t.view.state,e,"hover tooltip")}))}else u&&this.view.dispatch({effects:this.setHover.of(u)})}}}},{key:"mousemove",value:function(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var n=this.active;if(n&&!function(e){for(var t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){var r=(n||this.pending).pos,i=null!==(t=null===n||void 0===n?void 0:n.end)&&void 0!==t?t:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(e,t,n,r,i,o){var a=document.createRange(),s=e.domAtPos(t),u=e.domAtPos(n);a.setEnd(u.node,u.offset),a.setStart(s.node,s.offset);var l=a.getClientRects();a.detach();for(var c=0;c<l.length;c++){var h=l[c];if(Math.max(h.top-i,i-h.bottom,h.left-r,r-h.right)<=o)return!0}return!1}(this.view,r,i,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}},{key:"mouseleave",value:function(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),e}();function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u.Py.define(),r=u.QQ.define({create:function(){return null},update:function(e,r){if(e&&t.hideOnChange&&(r.docChanged||r.selection))return null;var o,a=(0,i.Z)(r.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.is(n))return s.value;if(s.is(S))return null}}catch(h){a.e(h)}finally{a.f()}if(e&&r.docChanged){var l=r.changes.mapPos(e.pos,-1,u.gc.TrackDel);if(null==l)return null;var c=Object.assign(Object.create(null),e);return c.pos=l,null!=e.end&&(c.end=r.changes.mapPos(e.end)),c}return e},provide:function(e){return y.from(e)}}),o=t.hoverTime||600;return[r,s.lg.define((function(t){return new x(t,e,r,n,o)})),O]}function k(e,t){var n=e.plugin(p);if(!n)return null;var r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}var S=u.Py.define()},4294:function(e,t,n){"use strict";n.d(t,{kH:function(){return Me},p:function(){return Ee},Nm:function(){return ht},tk:function(){return lr},BF:function(){return Ke},lg:function(){return nt},l9:function(){return Te},Uw:function(){return Ar},qr:function(){return Fr},ZO:function(){return ni},AE:function(){return Yr},$f:function(){return wr},OO:function(){return Xe},W$:function(){return ai},$1:function(){return _r}});for(var r=n(7326),i=n(1752),o=n(1120),a=n(136),s=n(9388),u=n(9439),l=n(3433),c=n(7762),h=n(5671),f=n(3144),d=n(6580),p=n(3344),v=n(5745),m=n(9357),g={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},y={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},b="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),O="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),x="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),w="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),k="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),S=b&&(w||+b[1]<57)||x&&w,_=0;_<10;_++)g[48+_]=g[96+_]=String(_);for(_=1;_<=24;_++)g[_+111]="F"+_;for(_=65;_<=90;_++)g[_]=String.fromCharCode(_+32),y[_]=String.fromCharCode(_);for(var T in g)y.hasOwnProperty(T)||(y[T]=g[T]);function M(e){return(11==e.nodeType?e.getSelection?e:e.ownerDocument:e).getSelection()}function E(e,t){return!!t&&e.contains(1!=t.nodeType?t.parentNode:t)}function P(e,t){if(!t.anchorNode)return!1;try{return E(e,t.anchorNode)}catch(n){return!1}}function C(e){return 3==e.nodeType?B(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function A(e,t,n,r){return!!n&&(L(e,t,n,r,-1)||L(e,t,n,r,1))}function R(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function L(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Q(e))){if("DIV"==e.nodeName)return!1;var o=e.parentNode;if(!o||1!=o.nodeType)return!1;t=R(e)+(i<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?Q(e):0}}}function Q(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}var D={left:0,right:0,top:0,bottom:0};function Z(e,t){var n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function I(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}var N,z=function(){function e(){(0,h.Z)(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return(0,f.Z)(e,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}},{key:"set",value:function(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}]),e}(),j=null;function W(e){if(e.setActive)return e.setActive();if(j)return e.focus(j);for(var t=[],n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==j?{get preventScroll(){return j={preventScroll:!0},!0}}:void 0),!j){j=!1;for(var r=0;r<t.length;){var i=t[r++],o=t[r++],a=t[r++];i.scrollTop!=o&&(i.scrollTop=o),i.scrollLeft!=a&&(i.scrollLeft=a)}}}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=N||(N=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function F(e,t,n){var r={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,e.dispatchEvent(i);var o=new KeyboardEvent("keyup",r);return o.synthetic=!0,e.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function $(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function V(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}var U=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,h.Z)(this,e),this.node=t,this.offset=n,this.precise=r}return(0,f.Z)(e,null,[{key:"before",value:function(t,n){return new e(t.parentNode,R(t),n)}},{key:"after",value:function(t,n){return new e(t.parentNode,R(t)+1,n)}}]),e}(),H=[],G=function(){function e(){(0,h.Z)(this,e),this.parent=null,this.dom=null,this.dirty=2}return(0,f.Z)(e,[{key:"editorView",get:function(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var t,n=this.posAtStart,r=(0,c.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i==e)return n;n+=i.length+i.breakAfter}}catch(o){r.e(o)}finally{r.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"coordsAt",value:function(e,t){return null}},{key:"sync",value:function(t){if(2&this.dirty){var n,r=this.dom,i=r.firstChild,o=(0,c.Z)(this.children);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.dirty){if(!a.dom&&i){var s=e.get(i);s&&(s.parent||s.constructor!=a.constructor)||a.reuseDOM(i)}a.sync(t),a.dirty=0}if(t&&!t.written&&t.node==r&&i!=a.dom&&(t.written=!0),a.dom.parentNode==r){for(;i&&i!=a.dom;)i=q(i);i=a.dom.nextSibling}else r.insertBefore(a.dom,i)}}catch(f){o.e(f)}finally{o.f()}for(i&&t&&t.node==r&&(t.written=!0);i;)i=q(i)}else if(1&this.dirty){var u,l=(0,c.Z)(this.children);try{for(l.s();!(u=l.n()).done;){var h=u.value;h.dirty&&(h.sync(t),h.dirty=0)}}catch(f){l.e(f)}finally{l.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(t,n){var r;if(t==this.dom)r=this.dom.childNodes[n];else{for(var i=0==Q(t)?0:0==n?-1:1;;){var o=t.parentNode;if(o==this.dom)break;0==i&&o.firstChild!=o.lastChild&&(i=t==o.firstChild?-1:1),t=o}r=i<0?t:t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!e.get(r);)r=r.nextSibling;if(!r)return this.length;for(var a=0,s=0;;a++){var u=this.children[a];if(u.dom==r)return s;s+=u.length+u.breakAfter}}},{key:"domBoundsAround",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=-1,i=-1,o=-1,a=-1,s=0,u=n,l=n;s<this.children.length;s++){var c=this.children[s],h=u+c.length;if(u<e&&h>t)return c.domBoundsAround(e,t,u);if(h>=e&&-1==r&&(r=s,i=u),u>t&&c.dom.parentNode==this.dom){o=s,a=l;break}l=h,u=h+c.breakAfter}return{from:i,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dirty|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}},{key:"rootView",get:function(){for(var e=this;;){var t=e.parent;if(!t)return e;e=t}}},{key:"replaceChildren",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;this.markDirty();for(var i=e;i<t;i++){var o=this.children[i];o.parent==this&&o.destroy()}(n=this.children).splice.apply(n,[e,t-e].concat((0,l.Z)(r)));for(var a=0;a<r.length;a++)r[a].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new X(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"merge",value:function(e,t,n,r,i,o){return!1}},{key:"become",value:function(e){return!1}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),e}();function q(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}G.prototype.breakAfter=0;var X=function(){function e(t,n,r){(0,h.Z)(this,e),this.children=t,this.pos=n,this.i=r,this.off=0}return(0,f.Z)(e,[{key:"findPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}]),e}();function Y(e,t,n,r,i,o,a,s,u){var l=e.children,c=l.length?l[t]:null,h=o.length?o[o.length-1]:null,f=h?h.breakAfter:a;if(!(t==r&&c&&!a&&!f&&o.length<2&&c.merge(n,i,o.length?h:null,0==n,s,u))){if(r<l.length){var d=l[r];d&&i<d.length?(t==r&&(d=d.split(i),i=0),!f&&h&&d.merge(0,i,h,!0,0,u)?o[o.length-1]=d:(i&&d.merge(0,i,null,!1,0,u),o.push(d))):(null===d||void 0===d?void 0:d.breakAfter)&&(h?h.breakAfter=1:a=1),r++}for(c&&(c.breakAfter=a,n>0&&(!a&&o.length&&c.merge(n,c.length,o[0],!1,s,0)?c.breakAfter=o.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,s,0),t++));t<r&&o.length;)if(l[r-1].become(o[o.length-1]))r--,o.pop(),u=o.length?0:s;else{if(!l[t].become(o[0]))break;t++,o.shift(),s=o.length?0:u}!o.length&&t&&r<l.length&&!l[t-1].breakAfter&&l[r].merge(0,0,l[t-1],!1,s,u)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function J(e,t,n,r,i,o){var a,s=e.childCursor(),u=s.findPos(n,1),l=u.i,h=u.off,f=s.findPos(t,-1),d=f.i,p=f.off,v=t-n,m=(0,c.Z)(r);try{for(m.s();!(a=m.n()).done;){v+=a.value.length}}catch(g){m.e(g)}finally{m.f()}e.length+=v,Y(e,d,p,l,h,r,0,i,o)}var K="undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}],ee=(0,u.Z)(K,2),te=ee[0],ne=ee[1],re=/Edge\/(\d+)/.exec(te.userAgent),ie=/MSIE \d/.test(te.userAgent),oe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(te.userAgent),ae=!!(ie||oe||re),se=!ae&&/gecko\/(\d+)/i.test(te.userAgent),ue=!ae&&/Chrome\/(\d+)/.exec(te.userAgent),le="webkitFontSmoothing"in ne.documentElement.style,ce=!ae&&/Apple Computer/.test(te.vendor),he=ce&&(/Mobile\/\w+/.test(te.userAgent)||te.maxTouchPoints>2),fe={mac:he||/Mac/.test(te.platform),windows:/Win/.test(te.platform),linux:/Linux|X11/.test(te.platform),ie:ae,ie_version:ie?ne.documentMode||6:oe?+oe[1]:re?+re[1]:0,gecko:se,gecko_version:se?+(/Firefox\/(\d+)/.exec(te.userAgent)||[0,0])[1]:0,chrome:!!ue,chrome_version:ue?+ue[1]:0,ios:he,android:/Android\b/.test(te.userAgent),webkit:le,safari:ce,webkit_version:le?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=ne.documentElement.style.tabSize?"tab-size":"-moz-tab-size"},de=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this)).text=e,r}return(0,f.Z)(n,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(e){this.setDOM(e||document.createTextNode(this.text))}},{key:"sync",value:function(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(e){3==e.nodeType&&this.createDOM(e)}},{key:"merge",value:function(e,t,r){return(!r||r instanceof n&&!(this.length-(t-e)+r.length>256))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}},{key:"split",value:function(e){var t=new n(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}},{key:"localPosFromDOM",value:function(e,t){return e==this.dom?t:t?this.text.length:0}},{key:"domAtPos",value:function(e){return new U(this.dom,e)}},{key:"domBoundsAround",value:function(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(e,t){return ve(this.dom,e,t)}}]),n}(G),pe=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,h.Z)(this,n),(i=t.call(this)).mark=e,i.children=o,i.length=a;var s,u=(0,c.Z)(o);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.setParent((0,r.Z)(i))}}catch(f){u.e(f)}finally{u.f()}return i}return(0,f.Z)(n,[{key:"setAttrs",value:function(e){if(V(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(var t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}},{key:"reuseDOM",value:function(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}},{key:"sync",value:function(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),(0,i.Z)((0,o.Z)(n.prototype),"sync",this).call(this,e)}},{key:"merge",value:function(e,t,r,i,o,a){return(!r||!(!(r instanceof n&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&a<=0))&&(J(this,e,t,r?r.children:[],o-1,a-1),this.markDirty(),!0)}},{key:"split",value:function(e){var t,r=[],i=0,o=-1,a=0,s=(0,c.Z)(this.children);try{for(s.s();!(t=s.n()).done;){var u=t.value,l=i+u.length;l>e&&r.push(i<e?u.split(e-i):u),o<0&&i>=e&&(o=a),i=l,a++}}catch(f){s.e(f)}finally{s.f()}var h=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new n(this.mark,r,h)}},{key:"domAtPos",value:function(e){return Oe(this.dom,this.children,e)}},{key:"coordsAt",value:function(e,t){return we(this,e,t)}}]),n}(G);function ve(e,t,n){var r=e.nodeValue.length;t>r&&(t=r);var i=t,o=t,a=0;0==t&&n<0||t==r&&n>=0?fe.chrome||fe.gecko||(t?(i--,a=1):(o++,a=-1)):n<0?i--:o++;var s=B(e,i,o).getClientRects();if(!s.length)return D;var u=s[(a?a<0:n>=0)?0:s.length-1];return fe.safari&&!a&&0==u.width&&(u=Array.prototype.find.call(s,(function(e){return e.width}))||u),a?Z(u,a<0):u||null}var me=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,i){var o;return(0,h.Z)(this,n),(o=t.call(this)).widget=e,o.length=r,o.side=i,o}return(0,f.Z)(n,[{key:"split",value:function(e){var t=n.create(this.widget,this.length-e,this.side);return this.length-=e,t}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(e,t,r,i,o,a){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&a<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"become",value:function(e){return e.length==this.length&&e instanceof n&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.widget=e.widget,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"overrideDOMText",get:function(){if(0==this.length)return p.xv.empty;for(var e=this;e.parent;)e=e.parent;var t=e.editorView,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):p.xv.empty}},{key:"domAtPos",value:function(e){return 0==e?U.before(this.dom):U.after(this.dom,e==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e,t){var n=this.dom.getClientRects(),r=null;if(!n.length)return D;for(var i=e>0?n.length-1:0;r=n[i],!(e>0?0==i:i==n.length-1||r.top<r.bottom);i+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?r:Z(r,0==e)}},{key:"isEditable",get:function(){return!1}},{key:"destroy",value:function(){(0,i.Z)((0,o.Z)(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(e,t,r){return new(e.customView||n)(e,t,r)}}]),n}(G),ge=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"domAtPos",value:function(e){return new U(this.widget.text,e)}},{key:"sync",value:function(){this.setDOM(this.widget.toDOM())}},{key:"localPosFromDOM",value:function(e,t){return t?3==e.nodeType?Math.min(t,this.length):this.length:0}},{key:"ignoreMutation",value:function(){return!1}},{key:"overrideDOMText",get:function(){return null}},{key:"coordsAt",value:function(e,t){return ve(this.widget.text,e,t)}},{key:"isEditable",get:function(){return!0}}]),n}(me),ye=fe.android?"\u200b\u200b":"\u200b",be=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this)).side=e,r}return(0,f.Z)(n,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(e){return e instanceof n&&e.side==this.side}},{key:"split",value:function(){return new n(this.side)}},{key:"sync",value:function(){this.dom?this.dirty&&this.dom.nodeValue!=ye&&(this.dom.nodeValue=ye):this.setDOM(document.createTextNode(ye))}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(e){return U.before(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e){var t=C(this.dom);return t[t.length-1]||null}},{key:"overrideDOMText",get:function(){return p.xv.of([this.dom.nodeValue.replace(/\u200b/g,"")])}}]),n}(G);function Oe(e,t,n){for(var r=0,i=0;r<t.length;r++){var o=t[r],a=i+o.length;if(!(a==i&&o.getSide()<=0)){if(n>i&&n<a&&o.dom.parentNode==e)return o.domAtPos(n-i);if(n<=i)break;i=a}}for(;r>0;r--){var s=t[r-1].dom;if(s.parentNode==e)return U.after(s)}return new U(e,0)}function xe(e,t,n){var r,i=e.children;n>0&&t instanceof pe&&i.length&&(r=i[i.length-1])instanceof pe&&r.mark.eq(t.mark)?xe(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function we(e,t,n){for(var r=0,i=0;i<e.children.length;i++){var o=e.children[i],a=r+o.length,s=void 0;if((n<=0||a==e.length||o.getSide()>0?a>=t:a>t)&&(t<a||i+1==e.children.length||(s=e.children[i+1]).length||s.getSide()>0)){var u=0;if(a==r){if(o.getSide()<=0)continue;u=n=-o.getSide()}var l=o.coordsAt(t-r,n);return u&&l?Z(l,n<0):l}r=a}var c=e.dom.lastChild;if(!c)return e.dom.getBoundingClientRect();var h=C(c);return h[h.length-1]||null}function ke(e,t){for(var n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function Se(e,t){if(e==t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i];if(-1==r.indexOf(a)||e[a]!==t[a])return!1}return!0}function _e(e,t,n){if(t)for(var r in t)n&&r in n||e.removeAttribute(r);if(n)for(var i in n)t&&t[i]==n[i]||e.setAttribute(i,n[i])}de.prototype.children=me.prototype.children=be.prototype.children=H;var Te=function(){function e(){(0,h.Z)(this,e)}return(0,f.Z)(e,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"ignoreEvent",value:function(e){return!0}},{key:"customView",get:function(){return null}},{key:"destroy",value:function(e){}}]),e}(),Me=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Me||(Me={})),Ee=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,i,o){var a;return(0,h.Z)(this,n),(a=t.call(this)).startSide=e,a.endSide=r,a.widget=i,a.spec=o,a}return(0,f.Z)(n,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(e){return new Pe(e)}},{key:"widget",value:function(e){var t=e.side||0,n=!!e.block;return new Ae(e,t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,t,n,e.widget||null,!1)}},{key:"replace",value:function(e){var t=!!e.block,n=Re(e,t),r=n.start,i=n.end;return new Ae(e,t?r?-3e8:-1:4e8,t?i?2e8:1:-5e8,t,e.widget||null,!0)}},{key:"line",value:function(e){return new Ce(e)}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m.Xs.of(e,t)}}]),n}(m.uU);Ee.none=m.Xs.empty;var Pe=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;(0,h.Z)(this,n);var i=Re(e),o=i.start,a=i.end;return(r=t.call(this,o?-1:4e8,a?1:-5e8,null,e)).tagName=e.tagName||"span",r.class=e.class||"",r.attrs=e.attributes||null,r}return(0,f.Z)(n,[{key:"eq",value:function(e){return this==e||e instanceof n&&this.tagName==e.tagName&&this.class==e.class&&Se(this.attrs,e.attrs)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return(0,i.Z)((0,o.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(Ee);Pe.prototype.point=!1;var Ce=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,h.Z)(this,n),t.call(this,-2e8,-2e8,null,e)}return(0,f.Z)(n,[{key:"eq",value:function(e){return e instanceof n&&Se(this.spec.attributes,e.spec.attributes)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return(0,i.Z)((0,o.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(Ee);Ce.prototype.mapMode=d.gc.TrackBefore,Ce.prototype.point=!0;var Ae=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,i,o,a,s){var u;return(0,h.Z)(this,n),(u=t.call(this,r,i,a,e)).block=o,u.isReplace=s,u.mapMode=o?r<=0?d.gc.TrackBefore:d.gc.TrackAfter:d.gc.TrackDel,u}return(0,f.Z)(n,[{key:"type",get:function(){return this.startSide<this.endSide?Me.WidgetRange:this.startSide<=0?Me.WidgetBefore:Me.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}},{key:"eq",value:function(e){return e instanceof n&&(t=this.widget,r=e.widget,t==r||!!(t&&r&&t.compare(r)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,r}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return(0,i.Z)((0,o.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(Ee);function Re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.inclusiveStart,r=e.inclusiveEnd;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!==n&&void 0!==n?n:t,end:null!==r&&void 0!==r?r:t}}function Le(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.length-1;i>=0&&n[i]+r>e?n[i]=Math.max(n[i],t):n.push(e,t)}Ae.prototype.point=!0;var Qe=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.apply(this,arguments)).children=[],e.length=0,e.prevAttrs=void 0,e.attrs=null,e.breakAfter=0,e}return(0,f.Z)(n,[{key:"merge",value:function(e,t,r,i,o,a){if(r){if(!(r instanceof n))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),J(this,e,t,r?r.children:[],o,a),!0}},{key:"split",value:function(e){var t=new n;if(t.breakAfter=this.breakAfter,0==this.length)return t;var r=this.childPos(e),i=r.i,o=r.off;o&&(t.append(this.children[i].split(o),0),this.children[i].merge(o,this.children[i].length,null,!1,0,0),i++);for(var a=i;a<this.children.length;a++)t.append(this.children[a],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}},{key:"transferDOM",value:function(e){this.dom&&(e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(e){Se(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}},{key:"append",value:function(e,t){xe(this,e,t)}},{key:"addLineDeco",value:function(e){var t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=ke(t,this.attrs||{})),n&&(this.attrs=ke({class:n},this.attrs||{}))}},{key:"domAtPos",value:function(e){return Oe(this.dom,this.children,e)}},{key:"reuseDOM",value:function(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}},{key:"sync",value:function(e){var t;this.dom?4&this.dirty&&(V(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(_e(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),(0,i.Z)((0,o.Z)(n.prototype),"sync",this).call(this,e);for(var r=this.dom.lastChild;r&&G.get(r)instanceof pe;)r=r.lastChild;if(!r||"BR"!=r.nodeName&&0==(null===(t=G.get(r))||void 0===t?void 0:t.isEditable)&&(!fe.ios||!this.children.some((function(e){return e instanceof de})))){var a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}},{key:"measureTextSize",value:function(){if(0==this.children.length||this.length>20)return null;var e,t=0,n=(0,c.Z)(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!(r instanceof de))return null;var i=C(r.dom);if(1!=i.length)return null;t+=i[0].width}}catch(o){n.e(o)}finally{n.f()}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}},{key:"coordsAt",value:function(e,t){return we(this,e,t)}},{key:"become",value:function(e){return!1}},{key:"type",get:function(){return Me.Text}}],[{key:"find",value:function(e,t){for(var r=0,i=0;r<e.children.length;r++){var o=e.children[r],a=i+o.length;if(a>=t){if(o instanceof n)return o;if(a>t)break}i=a+o.breakAfter}return null}}]),n}(G),De=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,i){var o;return(0,h.Z)(this,n),(o=t.call(this)).widget=e,o.length=r,o.type=i,o.breakAfter=0,o}return(0,f.Z)(n,[{key:"merge",value:function(e,t,r,i,o,a){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&a<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"domAtPos",value:function(e){return 0==e?U.before(this.dom):U.after(this.dom,e==this.length)}},{key:"split",value:function(e){var t=this.length-e;this.length=e;var r=new n(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}},{key:"children",get:function(){return H}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):p.xv.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(e){return e instanceof n&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"destroy",value:function(){(0,i.Z)((0,o.Z)(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}]),n}(G),Ze=function(){function e(t,n,r,i){(0,h.Z)(this,e),this.doc=t,this.pos=n,this.end=r,this.disallowBlockEffectsBelow=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=n}return(0,f.Z)(e,[{key:"posCovered",value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof De&&e.type==Me.WidgetBefore)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new Qe),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(e){this.pendingBuffer&&(this.curLine.append(Ie(new be(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}},{key:"buildText",value:function(e,t,n){for(;e>0;){if(this.textOff==this.text.length){var r=this.cursor.next(this.skip),i=r.value,o=r.lineBreak,a=r.done;if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=i,this.textOff=0}var s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t),this.getLine().append(Ie(new de(this.text.slice(this.textOff,this.textOff+s)),t),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=0}}},{key:"span",value:function(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}},{key:"point",value:function(e,t,n,r,i){var o=t-e;if(n instanceof Ae)if(n.block){var a=n.type;a!=Me.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new De(n.widget||new Ne("div"),o,a))}else{var s=me.create(n.widget||new Ne("span"),o,n.startSide),u=this.atCursorPos&&!s.isEditable&&i<=r.length&&(e<t||n.startSide>0),l=!s.isEditable&&(e<t||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||u||(this.pendingBuffer=0),this.flushBuffer(r),u&&(c.append(Ie(new be(1),r),i),i=r.length+Math.max(0,i-r.length)),c.append(Ie(s,r),i),this.atCursorPos=l,this.pendingBuffer=l?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}},{key:"filterPoint",value:function(e,t,n,r){if(r>=this.disallowBlockEffectsBelow||!(n instanceof Ae))return!0;if(n.block)throw new RangeError("Block decorations may not be specified via plugins");return t<=this.doc.lineAt(this.pos).to}}],[{key:"build",value:function(t,n,r,i,o){var a=new e(t,n,r,o);return a.openEnd=m.Xs.spans(i,n,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}]),e}();function Ie(e,t){var n,r=(0,c.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=new pe(i,[e],e.length)}}catch(o){r.e(o)}finally{r.f()}return e}var Ne=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this)).tag=e,r}return(0,f.Z)(n,[{key:"eq",value:function(e){return e.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(e){return e.nodeName.toLowerCase()==this.tag}}]),n}(Te),ze=[],je=d.r$.define(),We=d.r$.define(),Be=d.r$.define(),Fe=d.r$.define(),$e=d.r$.define(),Ve=d.r$.define(),Ue=d.Py.define({map:function(e,t){return e.map(t)}}),He=d.Py.define({map:function(e,t){return e.map(t)}}),Ge=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;(0,h.Z)(this,e),this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o}return(0,f.Z)(e,[{key:"map",value:function(t){return t.empty?this:new e(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}]),e}(),qe=d.Py.define({map:function(e,t){return e.map(t)}});function Xe(e,t,n){var r=e.facet(Fe);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}var Ye=d.r$.define({combine:function(e){return!e.length||e[0]}}),Je=(0,f.Z)((function e(t,n){(0,h.Z)(this,e),this.field=t,this.get=n})),Ke=function(){function e(){(0,h.Z)(this,e)}return(0,f.Z)(e,[{key:"from",value:function(e){return new Je(this,e)}}],[{key:"define",value:function(){return new e}}]),e}();Ke.decorations=Ke.define(),Ke.atomicRanges=Ke.define(),Ke.scrollMargins=Ke.define();var et=0,tt=d.r$.define(),nt=function(){function e(t,n,r){(0,h.Z)(this,e),this.id=t,this.create=n,this.fields=r,this.extension=tt.of(this)}return(0,f.Z)(e,null,[{key:"define",value:function(t,n){var r=n||{},i=r.eventHandlers,o=r.provide,a=r.decorations,s=[];if(o){var u,l=(0,c.Z)(Array.isArray(o)?o:[o]);try{for(l.s();!(u=l.n()).done;){var h=u.value;s.push(h)}}catch(f){l.e(f)}finally{l.f()}}return i&&s.push(rt.from((function(e){return{plugin:e,handlers:i}}))),a&&s.push(Ke.decorations.from(a)),new e(et++,t,s)}},{key:"fromClass",value:function(t,n){return e.define((function(e){return new t(e)}),n)}}]),e}(),rt=Ke.define(),it=function(){function e(t){(0,h.Z)(this,e),this.spec=t,this.mustUpdate=null,this.value=null}return(0,f.Z)(e,[{key:"takeField",value:function(e,t){if(this.spec){var n,r=(0,c.Z)(this.spec.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.field,a=i.get;o==e&&t.push(a(this.value))}}catch(s){r.e(s)}finally{r.f()}}}},{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(Xe(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(r){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Xe(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(n){Xe(e.state,n,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),e}(),ot=d.r$.define(),at=d.r$.define(),st=d.r$.define(),ut=d.r$.define(),lt=function(){function e(t,n,r,i){(0,h.Z)(this,e),this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}return(0,f.Z)(e,[{key:"join",value:function(t){return new e(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}},{key:"addToSet",value:function(e){for(var t=e.length,n=this;t>0;t--){var r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}}],[{key:"extendWithRanges",value:function(t,n){if(0==n.length)return t;for(var r=[],i=0,o=0,a=0,s=0;;i++){for(var u=i==t.length?null:t[i],l=a-s,c=u?u.fromB:1e9;o<n.length&&n[o]<c;){var h=n[o],f=n[o+1],d=Math.max(s,h),p=Math.min(c,f);if(d<=p&&new e(d+l,p+l,d,p).addToSet(r),f>c)break;o+=2}if(!u)return r;new e(u.fromA,u.toA,u.fromB,u.toB).addToSet(r),a=u.toA,s=u.toB}}}]),e}(),ct=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze;(0,h.Z)(this,e),this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=d.as.empty(this.startState.doc.length);var i,o=(0,c.Z)(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.changes=this.changes.compose(a.changes)}}catch(l){o.e(l)}finally{o.f()}var s=[];this.changes.iterChangedRanges((function(e,t,n,r){return s.push(new lt(e,t,n,r))})),this.changedRanges=s;var u=t.hasFocus;u!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=u,this.flags|=1)}return(0,f.Z)(e,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(10&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some((function(e){return e.selection}))}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}]),e}(),ht=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(ht||(ht={})),ft=ht.LTR,dt=ht.RTL;function pt(e){for(var t=[],n=0;n<e.length;n++)t.push(1<<+e[n]);return t}for(var vt=pt("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),mt=pt("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),gt=Object.create(null),yt=[],bt=0,Ot=["()","[]","{}"];bt<Ot.length;bt++){var xt=Ot[bt],wt=xt.charCodeAt(0),kt=xt.charCodeAt(1);gt[wt]=kt,gt[kt]=-wt}function St(e){return e<=247?vt[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?mt[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8203||8204==e?256:1}var _t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Tt=function(){function e(t,n,r){(0,h.Z)(this,e),this.from=t,this.to=n,this.level=r}return(0,f.Z)(e,[{key:"dir",get:function(){return this.level%2?dt:ft}},{key:"side",value:function(e,t){return this.dir==t==e?this.to:this.from}}],[{key:"find",value:function(e,t,n,r){for(var i=-1,o=0;o<e.length;o++){var a=e[o];if(a.from<=t&&a.to>=t){if(a.level==n)return o;(i<0||(0!=r?r<0?a.from<t:a.to>t:e[i].level>a.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}]),e}(),Mt=[];function Et(e,t){var n=e.length,r=t==ft?1:2,i=t==ft?2:1;if(!e||1==r&&!_t.test(e))return Pt(n);for(var o=0,a=r,s=r;o<n;o++){var u=St(e.charCodeAt(o));512==u?u=a:8==u&&4==s&&(u=16),Mt[o]=4==u?2:u,7&u&&(s=u),a=u}for(var l=0,c=r,h=r;l<n;l++){var f=Mt[l];if(128==f)l<n-1&&c==Mt[l+1]&&24&c?f=Mt[l]=c:Mt[l]=256;else if(64==f){for(var d=l+1;d<n&&64==Mt[d];)d++;for(var p=l&&8==c||d<n&&8==Mt[d]?1==h?1:8:256,v=l;v<d;v++)Mt[v]=p;l=d-1}else 8==f&&1==h&&(Mt[l]=1);c=f,7&f&&(h=f)}for(var m,g,y,b=0,O=0,x=0;b<n;b++)if(g=gt[m=e.charCodeAt(b)])if(g<0){for(var w=O-3;w>=0;w-=3)if(yt[w+1]==-g){var k=yt[w+2],S=2&k?r:4&k?1&k?i:r:0;S&&(Mt[b]=Mt[yt[w]]=S),O=w;break}}else{if(189==yt.length)break;yt[O++]=b,yt[O++]=m,yt[O++]=x}else if(2==(y=Mt[b])||1==y){var _=y==r;x=_?0:1;for(var T=O-3;T>=0;T-=3){var M=yt[T+2];if(2&M)break;if(_)yt[T+2]|=2;else{if(4&M)break;yt[T+2]|=4}}}for(var E=0;E<n;E++)if(256==Mt[E]){for(var P=E+1;P<n&&256==Mt[P];)P++;for(var C=1==(E?Mt[E-1]:r),A=C==(1==(P<n?Mt[P]:r))?C?1:2:r,R=E;R<P;R++)Mt[R]=A;E=P-1}var L=[];if(1==r)for(var Q=0;Q<n;){for(var D=Q,Z=1!=Mt[Q++];Q<n&&Z==(1!=Mt[Q]);)Q++;if(Z)for(var I=Q;I>D;){for(var N=I,z=2!=Mt[--I];I>D&&z==(2!=Mt[I-1]);)I--;L.push(new Tt(I,N,z?2:1))}else L.push(new Tt(D,Q,0))}else for(var j=0;j<n;){for(var W=j,B=2==Mt[j++];j<n&&B==(2==Mt[j]);)j++;L.push(new Tt(W,j,B?1:2))}return L}function Pt(e){return[new Tt(0,e,0)]}var Ct="";function At(e,t,n,r,i){var o,a=r.head-e.from,s=-1;if(0==a){if(!i||!e.length)return null;t[0].level!=n&&(a=t[0].side(!1,n),s=0)}else if(a==e.length){if(i)return null;var u=t[t.length-1];u.level!=n&&(a=u.side(!0,n),s=t.length-1)}s<0&&(s=Tt.find(t,a,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));var l=t[s];a==l.side(i,n)&&(a=(l=t[s+=i?1:-1]).side(!i,n));var c=i==(l.dir==n),h=(0,p.cp)(e.text,a,c);if(Ct=e.text.slice(Math.min(a,h),Math.max(a,h)),h!=l.side(i,n))return d.jT.cursor(h+e.from,c?-1:1,l.level);var f=s==(i?t.length-1:0)?null:t[s+(i?1:-1)];return f||l.level==n?f&&f.level<l.level?d.jT.cursor(f.side(!i,n)+e.from,i?1:-1,f.level):d.jT.cursor(h+e.from,i?-1:1,l.level):d.jT.cursor(i?e.to:e.from,i?-1:1,n)}var Rt=function(){function e(t,n){(0,h.Z)(this,e),this.points=t,this.view=n,this.text="",this.lineBreak=n.state.lineBreak}return(0,f.Z)(e,[{key:"readRange",value:function(e,t){if(!e)return this;for(var n=e.parentNode,r=e;;){this.findPointBefore(n,r),this.readNode(r);var i=r.nextSibling;if(i==t)break;var o=G.get(r),a=G.get(i);(o&&a?o.breakAfter:(o?o.breakAfter:Lt(r))||Lt(i)&&("BR"!=r.nodeName||r.cmIgnore))&&(this.text+=this.lineBreak),r=i}return this.findPointBefore(n,t),this}},{key:"readNode",value:function(e){if(!e.cmIgnore){var t,n=G.get(e),r=n&&n.overrideDOMText;null!=r?t=r.sliceString(0,void 0,this.lineBreak):3==e.nodeType?t=e.nodeValue:"BR"==e.nodeName?t=e.nextSibling?this.lineBreak:"":1==e.nodeType&&this.readRange(e.firstChild,null),null!=t&&(this.findPointIn(e,t.length),this.text+=t,fe.chrome&&13==this.view.inputState.lastKeyCode&&!e.nextSibling&&/\n\n$/.test(this.text)&&(this.text=this.text.slice(0,-1)))}}},{key:"findPointBefore",value:function(e,t){var n,r=(0,c.Z)(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}}catch(o){r.e(o)}finally{r.f()}}},{key:"findPointIn",value:function(e,t){var n,r=(0,c.Z)(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t))}}catch(o){r.e(o)}finally{r.f()}}}]),e}();function Lt(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}var Qt=(0,f.Z)((function e(t,n){(0,h.Z)(this,e),this.node=t,this.offset=n,this.pos=-1})),Dt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,h.Z)(this,n),(i=t.call(this)).view=e,i.compositionDeco=Ee.none,i.decorations=[],i.pluginDecorationLength=0,i.minWidth=0,i.minWidthFrom=0,i.minWidthTo=0,i.impreciseAnchor=null,i.impreciseHead=null,i.forceSelection=!1,i.lastUpdate=Date.now(),i.setDOM(e.contentDOM),i.children=[new Qe],i.children[0].setParent((0,r.Z)(i)),i.updateDeco(),i.updateInner([new lt(0,0,0,e.state.doc.length)],0),i}return(0,f.Z)(n,[{key:"root",get:function(){return this.view.root}},{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(e){var t=this,n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((function(e){var n=e.fromA;return e.toA<t.minWidthFrom||n>t.minWidthTo}))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Ee.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){var n=e.observer.selectionRange,r=n.focusNode&&zt(n.focusNode,n.focusOffset,0);if(!r)return Ee.none;var i=e.docView.nearest(r);if(!i)return Ee.none;var o,a,s=r;if(i instanceof Qe){for(;s.parentNode!=i.dom;)s=s.parentNode;for(var u=s.previousSibling;u&&!G.get(u);)u=u.previousSibling;o=a=u?G.get(u).posAtEnd:i.posAtStart}else{for(;;){var l=i.parent;if(!l)return Ee.none;if(l instanceof Qe)break;i=l}a=(o=i.posAtStart)+i.length,s=i.dom}var c=t.mapPos(o,1),h=Math.max(c,t.mapPos(a,-1)),f=e.state,d=3==s.nodeType?s.nodeValue:new Rt([],e).readRange(s.firstChild,null).text;if(h-c<d.length)if(f.sliceDoc(c,Math.min(f.doc.length,c+d.length))==d)h=c+d.length;else{if(f.sliceDoc(Math.max(0,h-d.length),h)!=d)return Ee.none;c=h-d.length}else if(f.sliceDoc(c,h)!=d)return Ee.none;return Ee.set(Ee.replace({widget:new Nt(s,r)}).range(c,h))}(this.view,e.changes)),(fe.ie||fe.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);var r=function(e,t,n){var r=new Wt;return m.Xs.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=lt.extendWithRanges(n,r),(0!=this.dirty||0!=n.length)&&(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(e,t){var n=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);var r=this.view.observer;r.ignore((function(){n.dom.style.height=n.view.viewState.contentHeight+"px",n.dom.style.minWidth=n.minWidth?n.minWidth+"px":"";var e=fe.chrome||fe.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;n.sync(e),n.dirty=0,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(n.forceSelection=!0),n.dom.style.height=""}));var i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var o,a=(0,c.Z)(this.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;s instanceof De&&s.widget instanceof It&&i.push(s.dom)}}catch(u){a.e(u)}finally{a.f()}}r.updateGaps(i)}},{key:"updateChildren",value:function(e,t){for(var n=this.childCursor(t),r=e.length-1;;r--){var i=r>=0?e[r]:null;if(!i)break;var o=i.fromA,a=i.toA,s=i.fromB,u=i.toB,l=Ze.build(this.view.state.doc,s,u,this.decorations,this.pluginDecorationLength),c=l.content,h=l.breakAtStart,f=l.openStart,d=l.openEnd,p=n.findPos(a,1),v=p.i,m=p.off,g=n.findPos(o,-1);Y(this,g.i,g.off,v,m,c,h,f,d)}}},{key:"updateSelection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&this.view.observer.readSelectionRange(),!(!n&&!this.mayControlSelection()||fe.ios&&this.view.inputState.rapidCompositionStart)){var r=this.forceSelection;this.forceSelection=!1;var i=this.view.state.selection.main,o=this.domAtPos(i.anchor),a=i.empty?o:this.domAtPos(i.head);if(fe.gecko&&i.empty&&Zt(o)){var s=document.createTextNode("");this.view.observer.ignore((function(){return o.node.insertBefore(s,o.node.childNodes[o.offset]||null)})),o=a=new U(s,0),r=!0}var u=this.view.observer.selectionRange;!r&&u.focusNode&&A(o.node,o.offset,u.anchorNode,u.anchorOffset)&&A(a.node,a.offset,u.focusNode,u.focusOffset)||(this.view.observer.ignore((function(){fe.android&&fe.chrome&&e.dom.contains(u.focusNode)&&Bt(u.focusNode,e.dom)&&(e.dom.blur(),e.dom.focus({preventScroll:!0}));var t=M(e.root);if(i.empty){if(fe.gecko){var n=jt(o.node,o.offset);if(n&&3!=n){var r=zt(o.node,o.offset,1==n?1:-1);r&&(o=new U(r,1==n?0:r.nodeValue.length))}}t.collapse(o.node,o.offset),null!=i.bidiLevel&&null!=u.cursorBidiLevel&&(u.cursorBidiLevel=i.bidiLevel)}else if(t.extend)t.collapse(o.node,o.offset),t.extend(a.node,a.offset);else{var s=document.createRange();if(i.anchor>i.head){var l=[a,o];o=l[0],a=l[1]}s.setEnd(a.node,a.offset),s.setStart(o.node,o.offset),t.removeAllRanges(),t.addRange(s)}})),this.view.observer.setSelectionRange(o,a)),this.impreciseAnchor=o.precise?null:new U(u.anchorNode,u.anchorOffset),this.impreciseHead=a.precise?null:new U(u.focusNode,u.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){if(!this.compositionDeco.size){var e=this.view.state.selection.main,t=M(this.root);if(e.empty&&e.assoc&&t.modify){var n=Qe.find(this,e.head);if(n){var r=n.posAtStart;if(e.head!=r&&e.head!=r+n.length){var i=this.coordsAt(e.head,-1),o=this.coordsAt(e.head,1);if(i&&o&&!(i.bottom>o.top)){var a=this.domAtPos(e.head+e.assoc);t.collapse(a.node,a.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}}}}}}},{key:"mayControlSelection",value:function(){return this.view.state.facet(Ye)?this.root.activeElement==this.dom:P(this.dom,this.view.observer.selectionRange)}},{key:"nearest",value:function(e){for(var t=e;t;){var n=G.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}},{key:"posFromDOM",value:function(e,t){var n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}},{key:"domAtPos",value:function(e){for(var t=this.childCursor().findPos(e,-1),n=t.i,r=t.off;n<this.children.length-1;){var i=this.children[n];if(r<i.length||i instanceof Qe)break;n++,r=0}return this.children[n].domAtPos(r)}},{key:"coordsAt",value:function(e,t){for(var n=this.length,r=this.children.length-1;;r--){var i=this.children[r],o=n-i.breakAfter-i.length;if(e>o||e==o&&i.type!=Me.WidgetBefore&&i.type!=Me.WidgetAfter&&(!r||2==t||this.children[r-1].breakAfter||this.children[r-1].type==Me.WidgetBefore&&t>-2))return i.coordsAt(e-o,t);n=o}}},{key:"measureVisibleLineHeights",value:function(){for(var e=[],t=this.view.viewState.viewport,n=t.from,r=t.to,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,s=0,u=0;u<this.children.length;u++){var l=this.children[u],c=s+l.length;if(c>r)break;if(s>=n){var h=l.dom.getBoundingClientRect();if(e.push(h.height),o){var f=l.dom.lastChild,d=f?C(f):[];if(d.length){var p=d[d.length-1],v=this.view.textDirection==ht.LTR?p.right-h.left:h.right-p.left;v>a&&(a=v,this.minWidth=i,this.minWidthFrom=s,this.minWidthTo=c)}}}s=c+l.breakAfter}return e}},{key:"measureTextSize",value:function(){var e,t=this,n=(0,c.Z)(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof Qe){var i=r.measureTextSize();if(i)return i}}}catch(u){n.e(u)}finally{n.f()}var o,a,s=document.createElement("div");return s.className="cm-line",s.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((function(){t.dom.appendChild(s);var e=C(s.firstChild)[0];o=s.getBoundingClientRect().height,a=e?e.width/27:7,s.remove()})),{lineHeight:o,charWidth:a}}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new X(this.children,e,t)}},{key:"computeBlockGapDeco",value:function(){for(var e=[],t=this.view.viewState,n=0,r=0;;r++){var i=r==t.viewports.length?null:t.viewports[r],o=i?i.from-1:this.length;if(o>n){var a=t.lineBlockAt(o).bottom-t.lineBlockAt(n).top;e.push(Ee.replace({widget:new It(a),block:!0,inclusive:!0}).range(n,o))}if(!i)break;n=i.to+1}return Ee.set(e)}},{key:"updateDeco",value:function(){var e=this.view.pluginField(Ke.decorations);return this.pluginDecorationLength=e.length,this.decorations=[].concat((0,l.Z)(e),(0,l.Z)(this.view.state.facet(st)),[this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(e){var t,n=e.range,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(r){!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});var i,o=0,a=0,s=0,u=0,l=(0,c.Z)(this.view.pluginField(Ke.scrollMargins));try{for(l.s();!(i=l.n()).done;){var h=i.value;if(h){var f=h.left,d=h.right,p=h.top,v=h.bottom;null!=f&&(o=Math.max(o,f)),null!=d&&(a=Math.max(a,d)),null!=p&&(s=Math.max(s,p)),null!=v&&(u=Math.max(u,v))}}}catch(g){l.e(g)}finally{l.f()}var m={left:r.left-o,top:r.top-s,right:r.right+a,bottom:r.bottom+u};!function(e,t,n,r,i,o,a,s){for(var u=e.ownerDocument,l=u.defaultView,c=e;c;)if(1==c.nodeType){var h=void 0,f=c==u.body;if(f)h=I(l);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}var d=c.getBoundingClientRect();h={left:d.left,right:d.left+c.clientWidth,top:d.top,bottom:d.top+c.clientHeight}}var p=0,v=0;if("nearest"==i)t.top<h.top?(v=-(h.top-t.top+a),n>0&&t.bottom>h.bottom+v&&(v=t.bottom-h.bottom+v+a)):t.bottom>h.bottom&&(v=t.bottom-h.bottom+a,n<0&&t.top-v<h.top&&(v=-(h.top+v-t.top+a)));else{var m=t.bottom-t.top,g=h.bottom-h.top;v=("center"==i&&m<=g?t.top+m/2-g/2:"start"==i||"center"==i&&n<0?t.top-a:t.bottom-g+a)-h.top}if("nearest"==r?t.left<h.left?(p=-(h.left-t.left+o),n>0&&t.right>h.right+p&&(p=t.right-h.right+p+o)):t.right>h.right&&(p=t.right-h.right+o,n<0&&t.left<h.left+p&&(p=-(h.left+p-t.left+o))):p=("center"==r?t.left+(t.right-t.left)/2-(h.right-h.left)/2:"start"==r==s?t.left-o:t.right-(h.right-h.left)+o)-h.left,p||v)if(f)l.scrollBy(p,v);else{if(v){var y=c.scrollTop;c.scrollTop+=v,v=c.scrollTop-y}if(p){var b=c.scrollLeft;c.scrollLeft+=p,p=c.scrollLeft-b}t={left:t.left-p,top:t.top-v,right:t.right-p,bottom:t.bottom-v}}if(f)break;c=c.assignedSlot||c.parentNode,r=i="nearest"}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,m,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ht.LTR)}}}]),n}(G);function Zt(e){return 1==e.node.nodeType&&e.node.firstChild&&(0==e.offset||"false"==e.node.childNodes[e.offset-1].contentEditable)&&(e.offset==e.node.childNodes.length||"false"==e.node.childNodes[e.offset].contentEditable)}var It=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this)).height=e,r}return(0,f.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("div");return this.updateDOM(e),e}},{key:"eq",value:function(e){return e.height==this.height}},{key:"updateDOM",value:function(e){return e.style.height=this.height+"px",!0}},{key:"estimatedHeight",get:function(){return this.height}}]),n}(Te);var Nt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var i;return(0,h.Z)(this,n),(i=t.call(this)).top=e,i.text=r,i}return(0,f.Z)(n,[{key:"eq",value:function(e){return this.top==e.top&&this.text==e.text}},{key:"toDOM",value:function(){return this.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return ge}}]),n}(Te);function zt(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=Q(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}function jt(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}var Wt=function(){function e(){(0,h.Z)(this,e),this.changes=[]}return(0,f.Z)(e,[{key:"compareRange",value:function(e,t){Le(e,t,this.changes)}},{key:"comparePoint",value:function(e,t){Le(e,t,this.changes)}}]),e}();function Bt(e,t){for(var n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}function Ft(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function $t(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Vt(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function Ut(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Ht(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Gt(e,t,n){for(var r,i,o,a,s,u,l,c,h=e.firstChild;h;h=h.nextSibling)for(var f=C(h),d=0;d<f.length;d++){var p=f[d];i&&Vt(i,p)&&(p=Ut(Ht(p,i.bottom),i.top));var v=Ft(t,p),m=$t(n,p);if(0==v&&0==m)return 3==h.nodeType?qt(h,t,n):Gt(h,t,n);(!r||a>m||a==m&&o>v)&&(r=h,i=p,o=v,a=m),0==v?n>p.bottom&&(!l||l.bottom<p.bottom)?(s=h,l=p):n<p.top&&(!c||c.top>p.top)&&(u=h,c=p):l&&Vt(l,p)?l=Ht(l,p.bottom):c&&Vt(c,p)&&(c=Ut(c,p.top))}if(l&&l.bottom>=n?(r=s,i=l):c&&c.top<=n&&(r=u,i=c),!r)return{node:e,offset:0};var g=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?qt(r,g,n):o||"true"!=r.contentEditable?{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}:Gt(r,g,n)}function qt(e,t,n){for(var r=e.nodeValue.length,i=-1,o=1e9,a=0,s=0;s<r;s++)for(var u=B(e,s,s+1).getClientRects(),l=0;l<u.length;l++){var c=u[l];if(c.top!=c.bottom){a||(a=t-c.left);var h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&h<o){var f=t>=(c.left+c.right)/2,d=f;if(fe.chrome||fe.gecko)B(e,s).getBoundingClientRect().left==c.right&&(d=!f);if(h<=0)return{node:e,offset:s+(d?1:0)};i=s+(d?1:0),o=h}}}return{node:e,offset:i>-1?i:a>0?e.nodeValue.length:0}}function Xt(e,t,n){var r,i,o=t.x,a=t.y,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,u=e.contentDOM.getBoundingClientRect(),l=u.top+e.viewState.paddingTop,c=e.viewState.docHeight,h=a-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(var f=e.defaultLineHeight/2,d=!1;(i=e.elementAtHeight(h)).type!=Me.Text;)for(;!((h=s>0?i.bottom+f:i.top-f)>=0&&h<=c);){if(d)return n?null:0;d=!0,s=-s}a=l+h;var p=i.from;if(p<e.viewport.from)return 0==e.viewport.from?0:n?null:Yt(e,u,i,o,a);if(p>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:Yt(e,u,i,o,a);var v=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:v,g=m.elementFromPoint(o,a);g&&!e.contentDOM.contains(g)&&(g=null),g||(o=Math.max(u.left+1,Math.min(u.right-1,o)),(g=m.elementFromPoint(o,a))&&!e.contentDOM.contains(g)&&(g=null));var y,b=-1;if(g&&0!=(null===(r=e.docView.nearest(g))||void 0===r?void 0:r.isEditable))if(v.caretPositionFromPoint){var O=v.caretPositionFromPoint(o,a);O&&(y=O.offsetNode,b=O.offset)}else if(v.caretRangeFromPoint){var x=v.caretRangeFromPoint(o,a);x&&(y=x.startContainer,b=x.startOffset,fe.safari&&Jt(y,b,o)&&(y=void 0))}if(!y||!e.docView.dom.contains(y)){var w=Qe.find(e.docView,p);if(!w)return h>i.top+i.height/2?i.to:i.from;var k=Gt(w.dom,o,a);y=k.node,b=k.offset}return e.docView.posFromDOM(y,b)}function Yt(e,t,n,r,i){var o=Math.round((r-t.left)*e.defaultCharacterWidth);e.lineWrapping&&n.height>1.5*e.defaultLineHeight&&(o+=Math.floor((i-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength);var a=e.state.sliceDoc(n.from,n.to);return n.from+(0,p.Gz)(a,o,e.state.tabSize)}function Jt(e,t,n){var r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(var i=e.nextSibling;i;i=i.nextSibling)if(1!=i.nodeType||"BR"!=i.nodeName)return!1;return B(e,r-1,r).getBoundingClientRect().left>n}function Kt(e,t,n,r){var i=e.state.doc.lineAt(t.head),o=r&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(o){var a=e.dom.getBoundingClientRect(),s=e.posAtCoords({x:n==(e.textDirection==ht.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(null!=s)return d.jT.cursor(s,n?-1:1)}var u=Qe.find(e.docView,t.head),l=u?n?u.posAtEnd:u.posAtStart:n?i.to:i.from;return d.jT.cursor(l,n?-1:1)}function en(e,t,n,r){for(var i=e.state.doc.lineAt(t.head),o=e.bidiSpans(i),a=t,s=null;;){var u=At(i,o,e.textDirection,a,n),l=Ct;if(!u){if(i.number==(n?e.state.doc.lines:1))return a;l="\n",i=e.state.doc.line(i.number+(n?1:-1)),o=e.bidiSpans(i),u=d.jT.cursor(n?i.from:i.to)}if(s){if(!s(l))return a}else{if(!r)return u;s=r(l)}a=u}}function tn(e,t,n){for(var r=e.pluginField(Ke.atomicRanges);;){var i,o=!1,a=(0,c.Z)(r);try{for(a.s();!(i=a.n()).done;){i.value.between(n.from-1,n.from+1,(function(e,r,i){n.from>e&&n.from<r&&(n=t.from>n.from?d.jT.cursor(e,1):d.jT.cursor(r,-1),o=!0)}))}}catch(s){a.e(s)}finally{a.f()}if(!o)return n}}var nn=function(){function e(t){var n=this;(0,h.Z)(this,e),this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;var r=function(e){var r=un[e];t.contentDOM.addEventListener(e,(function(i){"keydown"==e&&n.keydown(t,i)||sn(t,i)&&!n.ignoreDuringComposition(i)&&(n.mustFlushObserver(i)&&t.observer.forceFlush(),n.runCustomHandlers(e,t,i)?i.preventDefault():r(t,i))})),n.registeredEvents.push(e)};for(var i in un)r(i);this.notifiedFocused=t.hasFocus,this.ensureHandlers(t),fe.safari&&t.contentDOM.addEventListener("input",(function(){return null}))}return(0,f.Z)(e,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(e){var t,n=this,r=this.customHandlers=e.pluginField(rt),i=(0,c.Z)(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=function(t){n.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(n.registeredEvents.push(t),e.contentDOM.addEventListener(t,(function(r){sn(e,r)&&n.runCustomHandlers(t,e,r)&&r.preventDefault()})))};for(var s in o.handlers)a(s)}}catch(u){i.e(u)}finally{i.f()}}},{key:"runCustomHandlers",value:function(e,t,n){var r,i=(0,c.Z)(this.customHandlers);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.handlers[e];if(a)try{if(a.call(o.plugin,n,t)||n.defaultPrevented)return!0}catch(s){Xe(t.state,s)}}}catch(u){i.e(u)}finally{i.f()}return!1}},{key:"runScrollHandlers",value:function(e,t){var n,r=(0,c.Z)(this.customHandlers);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.handlers.scroll;if(o)try{o.call(i.plugin,t,e)}catch(a){Xe(e.state,a)}}}catch(s){r.e(s)}finally{r.f()}}},{key:"keydown",value:function(e,t){var n,r=this;return this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),!!this.screenKeyEvent(e,t)||(!fe.android||!fe.chrome||t.synthetic||13!=t.keyCode&&8!=t.keyCode?!(!fe.ios||!(n=rn.find((function(e){return e.keyCode==t.keyCode})))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic)&&(this.pendingIOSKey=n,setTimeout((function(){return r.flushIOSKey(e)}),250),!0):(e.observer.delayAndroidKey(t.key,t.keyCode),!0))}},{key:"flushIOSKey",value:function(e){var t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,F(e.contentDOM,t.key,t.keyCode))}},{key:"ignoreDuringComposition",value:function(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(fe.safari&&Date.now()-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}},{key:"screenKeyEvent",value:function(e,t){var n=9==t.keyCode&&Date.now()<this.lastEscPress+2e3;return 27==t.keyCode?this.lastEscPress=Date.now():on.indexOf(t.keyCode)<0&&(this.lastEscPress=0),n}},{key:"mustFlushObserver",value:function(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!fe.ios}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),e}(),rn=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],on=[16,17,18,20,91,92,224,225],an=function(){function e(t,n,r,i){(0,h.Z)(this,e),this.view=t,this.style=r,this.mustSelect=i,this.lastEvent=n;var o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(d.yy.allowMultipleSelections)&&function(e,t){var n=e.state.facet(je);return n.length?n[0](t):fe.mac?t.metaKey:t.ctrlKey}(t,n),this.dragMove=function(e,t){var n=e.state.facet(We);return n.length?n[0](t):fe.mac?!t.altKey:!t.ctrlKey}(t,n),this.dragging=!(!function(e,t){if(e.state.selection.main.empty)return!1;var n=M(e.root);if(0==n.rangeCount)return!0;for(var r=n.getRangeAt(0).getClientRects(),i=0;i<r.length;i++){var o=r[i];if(o.left<=t.clientX&&o.right>=t.clientX&&o.top<=t.clientY&&o.bottom>=t.clientY)return!0}return!1}(t,n)||1!=xn(n))&&null,!1===this.dragging&&(n.preventDefault(),this.select(n))}return(0,f.Z)(e,[{key:"move",value:function(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}},{key:"up",value:function(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}},{key:"select",value:function(e){var t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}},{key:"update",value:function(e){var t=this;e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((function(){return t.select(t.lastEvent)}),20)}}]),e}();function sn(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=G.get(r))&&n.ignoreEvent(t))return!1;return!0}var un=Object.create(null),ln=fe.ie&&fe.ie_version<15||fe.ios&&fe.webkit_version<604;function cn(e,t){var n,r=e.state,i=1,o=r.toText(t),a=o.lines==r.selection.ranges.length,s=null!=kn&&r.selection.ranges.every((function(e){return e.empty}))&&kn==o.toString();if(s){var u=-1;n=r.changeByRange((function(e){var n=r.doc.lineAt(e.from);if(n.from==u)return{range:e};u=n.from;var s=r.toText((a?o.line(i++).text:t)+r.lineBreak);return{changes:{from:n.from,insert:s},range:d.jT.cursor(e.from+s.length)}}))}else n=a?r.changeByRange((function(e){var t=o.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:d.jT.cursor(e.from+t.length)}})):r.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}un.keydown=function(e,t){e.inputState.setSelectionOrigin("select")};var hn=0;function fn(e,t,n,r){if(1==r)return d.jT.cursor(t,n);if(2==r)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.charCategorizer(t),i=e.doc.lineAt(t),o=t-i.from;if(0==i.length)return d.jT.cursor(t);0==o?n=1:o==i.length&&(n=-1);var a=o,s=o;n<0?a=(0,p.cp)(i.text,o,!1):s=(0,p.cp)(i.text,o);for(var u=r(i.text.slice(a,s));a>0;){var l=(0,p.cp)(i.text,a,!1);if(r(i.text.slice(l,a))!=u)break;a=l}for(;s<i.length;){var c=(0,p.cp)(i.text,s);if(r(i.text.slice(s,c))!=u)break;s=c}return d.jT.range(a+i.from,s+i.from)}(e.state,t,n);var i=Qe.find(e.docView,t),o=e.state.doc.lineAt(i?i.posAtEnd:t),a=i?i.posAtStart:o.from,s=i?i.posAtEnd:o.to;return s<e.state.doc.length&&s==o.to&&s++,d.jT.range(a,s)}un.touchstart=function(e,t){hn=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},un.touchmove=function(e){e.inputState.setSelectionOrigin("select.pointer")},un.mousedown=function(e,t){if(e.observer.flush(),!(hn>Date.now()-2e3&&1==xn(t))){var n,r=null,i=(0,c.Z)(e.state.facet(Be));try{for(i.s();!(n=i.n()).done;){if(r=(0,n.value)(e,t))break}}catch(a){i.e(a)}finally{i.f()}if(r||0!=t.button||(r=function(e,t){var n=mn(e,t),r=xn(t),i=e.state.selection,o=n,a=t;return{update:function(e){e.docChanged&&(n&&(n.pos=e.changes.mapPos(n.pos)),i=i.map(e.changes),a=null)},get:function(t,s,u){var l;if(a&&t.clientX==a.clientX&&t.clientY==a.clientY?l=o:(l=o=mn(e,t),a=t),!l||!n)return i;var c=fn(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!s){var h=fn(e,n.pos,n.bias,r),f=Math.min(h.from,c.from),p=Math.max(h.to,c.to);c=f<c.from?d.jT.range(f,p):d.jT.range(p,f)}return s?i.replaceRange(i.main.extend(c.from,c.to)):u?i.addRange(c):d.jT.create([c])}}}(e,t)),r){var o=e.root.activeElement!=e.contentDOM;o&&e.observer.ignore((function(){return W(e.contentDOM)})),e.inputState.startMouseSelection(new an(e,t,r,o))}}};var dn=function(e,t){return e>=t.top&&e<=t.bottom},pn=function(e,t,n){return dn(t,n)&&e>=n.left&&e<=n.right};function vn(e,t,n,r){var i=Qe.find(e.docView,t);if(!i)return 1;var o=t-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;var a=i.coordsAt(o,-1);if(a&&pn(n,r,a))return-1;var s=i.coordsAt(o,1);return s&&pn(n,r,s)?1:a&&dn(r,a)?-1:1}function mn(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:vn(e,n,t.clientX,t.clientY)}}var gn=fe.ie&&fe.ie_version<=11,yn=null,bn=0,On=0;function xn(e){if(!gn)return e.detail;var t=yn,n=On;return yn=e,On=Date.now(),bn=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(bn+1)%3:1}function wn(e,t,n,r){if(n){var i=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();var o=e.inputState.mouseSelection,a=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,s={from:i,insert:n},u=e.state.changes(a?[a,s]:s);e.focus(),e.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"})}}un.dragstart=function(e,t){var n=e.state.selection.main,r=e.inputState.mouseSelection;r&&(r.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},un.drop=function(e,t){if(t.dataTransfer){if(e.state.readOnly)return t.preventDefault();var n=t.dataTransfer.files;n&&n.length?function(){t.preventDefault();for(var r=Array(n.length),i=0,o=function(){++i==n.length&&wn(e,t,r.filter((function(e){return null!=e})).join(e.state.lineBreak),!1)},a=function(e){var t=new FileReader;t.onerror=o,t.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),o()},t.readAsText(n[e])},s=0;s<n.length;s++)a(s)}():wn(e,t,t.dataTransfer.getData("Text"),!0)}},un.paste=function(e,t){if(e.state.readOnly)return t.preventDefault();e.observer.flush();var n=ln?null:t.clipboardData;n?(cn(e,n.getData("text/plain")),t.preventDefault()):function(e){var t=e.dom.parentNode;if(t){var n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((function(){e.focus(),n.remove(),cn(e,n.value)}),50)}}(e)};var kn=null;function Sn(e,t){if(e.docView.compositionDeco.size){e.inputState.rapidCompositionStart=t;try{e.update([])}finally{e.inputState.rapidCompositionStart=!1}}}un.copy=un.cut=function(e,t){var n=function(e){var t,n=[],r=[],i=!1,o=(0,c.Z)(e.selection.ranges);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.empty||(n.push(e.sliceDoc(a.from,a.to)),r.push(a))}}catch(d){o.e(d)}finally{o.f()}if(!n.length){var s,u=-1,l=(0,c.Z)(e.selection.ranges);try{for(l.s();!(s=l.n()).done;){var h=s.value.from,f=e.doc.lineAt(h);f.number>u&&(n.push(f.text),r.push({from:f.from,to:Math.min(e.doc.length,f.to+1)})),u=f.number}}catch(d){l.e(d)}finally{l.f()}i=!0}return{text:n.join(e.lineBreak),ranges:r,linewise:i}}(e.state),r=n.text,i=n.ranges,o=n.linewise;if(r||o){kn=o?r:null;var a=ln?null:t.clipboardData;a?(t.preventDefault(),a.clearData(),a.setData("text/plain",r)):function(e,t){var n=e.dom.parentNode;if(n){var r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((function(){r.remove(),e.focus()}),50)}}(e,r),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})}},un.focus=un.blur=function(e){setTimeout((function(){e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)},un.beforeprint=function(e){e.viewState.printing=!0,e.requestMeasure(),setTimeout((function(){e.viewState.printing=!1,e.requestMeasure()}),2e3)},un.compositionstart=un.compositionupdate=function(e){null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.compositionDeco.size&&(e.observer.flush(),Sn(e,!0)))},un.compositionend=function(e){e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,setTimeout((function(){e.inputState.composing<0&&Sn(e,!1)}),50)},un.contextmenu=function(e){e.inputState.lastContextMenu=Date.now()},un.beforeinput=function(e,t){var n,r;if(fe.chrome&&fe.android&&(r=rn.find((function(e){return e.inputType==t.inputType})))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){var i=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((function(){var t;((null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0)>i+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};var _n=["pre-wrap","normal","pre-line","break-spaces"],Tn=function(){function e(){(0,h.Z)(this,e),this.doc=p.xv.empty,this.lineWrapping=!1,this.direction=ht.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}return(0,f.Z)(e,[{key:"heightForGap",value:function(e,t){var n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForStyle",value:function(e,t){return _n.indexOf(e)>-1!=this.lineWrapping||this.direction!=t}},{key:"mustRefreshForHeights",value:function(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}},{key:"refresh",value:function(e,t,n,r,i,o){var a=_n.indexOf(e)>-1,s=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a||this.direction!=t;if(this.lineWrapping=a,this.direction=t,this.lineHeight=n,this.charWidth=r,this.lineLength=i,s){this.heightSamples={};for(var u=0;u<o.length;u++){var l=o[u];l<0?u++:this.heightSamples[Math.floor(10*l)]=!0}}return s}}]),e}(),Mn=function(){function e(t,n){(0,h.Z)(this,e),this.from=t,this.heights=n,this.index=0}return(0,f.Z)(e,[{key:"more",get:function(){return this.index<this.heights.length}}]),e}(),En=function(){function e(t,n,r,i,o){(0,h.Z)(this,e),this.from=t,this.length=n,this.top=r,this.height=i,this.type=o}return(0,f.Z)(e,[{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"join",value:function(t){var n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new e(this.from,this.length+t.length,this.top,this.height+t.height,n)}},{key:"moveY",value:function(t){return t?new e(this.from,this.length,this.top+t,this.height,Array.isArray(this.type)?this.type.map((function(e){return e.moveY(t)})):this.type):this}}]),e}(),Pn=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Pn||(Pn={})),Cn=.001,An=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;(0,h.Z)(this,e),this.length=t,this.height=n,this.flags=r}return(0,f.Z)(e,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e,t){this.height!=t&&(Math.abs(this.height-t)>Cn&&(e.heightChanged=!0),this.height=t)}},{key:"replace",value:function(t,n,r){return e.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(this)}},{key:"decomposeRight",value:function(e,t){t.push(this)}},{key:"applyChanges",value:function(e,t,n,r){for(var i=this,o=r.length-1;o>=0;o--){var a=r[o],s=a.fromA,u=a.toA,l=a.fromB,c=a.toB,h=i.lineAt(s,Pn.ByPosNoHeight,t,0,0),f=h.to>=u?h:i.lineAt(u,Pn.ByPosNoHeight,t,0,0);for(c+=f.to-u,u=f.to;o>0&&h.from<=r[o-1].toA;)s=r[o-1].fromA,l=r[o-1].fromB,o--,s<h.from&&(h=i.lineAt(s,Pn.ByPosNoHeight,t,0,0));l+=h.from-s,s=h.from;var d=In.build(n,e,l,c);i=i.replace(s,u,d)}return i.updateHeight(n,0)}}],[{key:"empty",value:function(){return new Ln(0,0)}},{key:"of",value:function(t){if(1==t.length)return t[0];for(var n=0,r=t.length,i=0,o=0;;)if(n==r)if(i>2*o){var a=t[n-1];a.break?t.splice(--n,1,a.left,null,a.right):t.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else{if(!(o>2*i))break;var s=t[r];s.break?t.splice(r,1,s.left,null,s.right):t.splice(r,1,s.left,s.right),r+=2+s.break,o-=s.size}else if(i<o){var u=t[n++];u&&(i+=u.size)}else{var l=t[--r];l&&(o+=l.size)}var c=0;return null==t[n-1]?(c=1,n--):null==t[n]&&(c=1,r++),new Dn(e.of(t.slice(0,n)),c,e.of(t.slice(r)))}}]),e}();An.prototype.size=1;var Rn=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,i){var o;return(0,h.Z)(this,n),(o=t.call(this,e,r)).type=i,o}return(0,f.Z)(n,[{key:"blockAt",value:function(e,t,n,r){return new En(r,this.length,n,this.height,this.type)}},{key:"lineAt",value:function(e,t,n,r,i){return this.blockAt(0,n,r,i)}},{key:"forEachLine",value:function(e,t,n,r,i,o){o(this.blockAt(0,n,r,i))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),n}(An),Ln=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var i;return(0,h.Z)(this,n),(i=t.call(this,e,r,Me.Text)).collapsed=0,i.widgetHeight=0,i}return(0,f.Z)(n,[{key:"replace",value:function(e,t,r){var i=r[0];return 1==r.length&&(i instanceof n||i instanceof Qn&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Qn?i=new n(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):An.of(r)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),n}(Rn),Qn=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,h.Z)(this,n),t.call(this,e,0)}return(0,f.Z)(n,[{key:"lines",value:function(e,t){var n=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}},{key:"blockAt",value:function(e,t,n,r){var i=this.lines(t,r),o=i.firstLine,a=i.lastLine,s=i.lineHeight,u=Math.max(0,Math.min(a-o,Math.floor((e-n)/s))),l=t.line(o+u),c=l.from,h=l.length;return new En(c,h,n+s*u,s,Me.Text)}},{key:"lineAt",value:function(e,t,n,r,i){if(t==Pn.ByHeight)return this.blockAt(e,n,r,i);if(t==Pn.ByPosNoHeight){var o=n.lineAt(e),a=o.from,s=o.to;return new En(a,s-a,0,0,Me.Text)}var u=this.lines(n,i),l=u.firstLine,c=u.lineHeight,h=n.lineAt(e),f=h.from,d=h.length,p=h.number;return new En(f,d,r+c*(p-l),c,Me.Text)}},{key:"forEachLine",value:function(e,t,n,r,i,o){for(var a=this.lines(n,i),s=a.firstLine,u=a.lineHeight,l=Math.max(e,i),c=Math.min(i+this.length,t);l<=c;){var h=n.lineAt(l);l==e&&(r+=u*(h.number-s)),o(new En(h.from,h.length,r,u,Me.Text)),r+=u,l=h.to+1}}},{key:"replace",value:function(e,t,r){var i=this.length-t;if(i>0){var o=r[r.length-1];o instanceof n?r[r.length-1]=new n(o.length+i):r.push(null,new n(i-1))}if(e>0){var a=r[0];a instanceof n?r[0]=new n(e+a.length):r.unshift(new n(e-1),null)}return An.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(new n(e-1),null)}},{key:"decomposeRight",value:function(e,t){t.push(null,new n(this.length-e-1))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=t+this.length;if(i&&i.from<=t+this.length&&i.more){var a=[],s=Math.max(t,i.from),u=-1,l=e.heightChanged;for(i.from>t&&a.push(new n(i.from-t-1).updateHeight(e,t));s<=o&&i.more;){var c=e.doc.lineAt(s).length;a.length&&a.push(null);var h=i.heights[i.index++];-1==u?u=h:Math.abs(h-u)>=Cn&&(u=-2);var f=new Ln(c,h);f.outdated=!1,a.push(f),s+=c+1}s<=o&&a.push(null,new n(o-s).updateHeight(e,s));var d=An.of(a);return e.heightChanged=l||u<0||Math.abs(d.height-this.height)>=Cn||Math.abs(u-this.lines(e.doc,t).lineHeight)>=Cn,d}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),n}(An),Dn=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,i){var o;return(0,h.Z)(this,n),(o=t.call(this,e.length+r+i.length,e.height+i.height,r|(e.outdated||i.outdated?2:0))).left=e,o.right=i,o.size=e.size+i.size,o}return(0,f.Z)(n,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(e,t,n,r){var i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}},{key:"lineAt",value:function(e,t,n,r,i){var o=r+this.left.height,a=i+this.left.length+this.break,s=t==Pn.ByHeight?e<o:e<a,u=s?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,o,a);if(this.break||(s?u.to<a:u.from>a))return u;var l=t==Pn.ByPosNoHeight?Pn.ByPosNoHeight:Pn.ByPos;return s?u.join(this.right.lineAt(a,l,n,o,a)):this.left.lineAt(a,l,n,r,i).join(u)}},{key:"forEachLine",value:function(e,t,n,r,i,o){var a=r+this.left.height,s=i+this.left.length+this.break;if(this.break)e<s&&this.left.forEachLine(e,t,n,r,i,o),t>=s&&this.right.forEachLine(e,t,n,a,s,o);else{var u=this.lineAt(s,Pn.ByPos,n,r,i);e<u.from&&this.left.forEachLine(e,u.from-1,n,r,i,o),u.to>=e&&u.from<=t&&o(u),t>u.to&&this.right.forEachLine(u.to+1,t,n,a,s,o)}}},{key:"replace",value:function(e,t,n){var r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));var i=[];e>0&&this.decomposeLeft(e,i);var o,a=i.length,s=(0,c.Z)(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;i.push(u)}}catch(h){s.e(h)}finally{s.f()}if(e>0&&Zn(i,a-1),t<this.length){var l=i.length;this.decomposeRight(t,i),Zn(i,l)}return An.of(i)}},{key:"decomposeLeft",value:function(e,t){var n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&e>=++n&&t.push(null),e>n&&this.right.decomposeLeft(e-n,t)}},{key:"decomposeRight",value:function(e,t){var n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}},{key:"balanced",value:function(e,t){return e.size>2*t.size||t.size>2*e.size?An.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this.left,o=this.right,a=t+i.length+this.break,s=null;return r&&r.from<=t+i.length&&r.more?s=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=a+o.length&&r.more?s=o=o.updateHeight(e,a,n,r):o.updateHeight(e,a,n),s?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),n}(An);function Zn(e,t){var n,r;null==e[t]&&(n=e[t-1])instanceof Qn&&(r=e[t+1])instanceof Qn&&e.splice(t-1,3,new Qn(n.length+1+r.length))}var In=function(){function e(t,n){(0,h.Z)(this,e),this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}return(0,f.Z)(e,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,t){if(this.lineStart>-1){var n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Ln?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Ln(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}},{key:"point",value:function(e,t,n){if(e<t||n.heightRelevant){var r=n.widget?n.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);var i=t-e;n.block?this.addBlock(new Rn(i,r,n.type)):(i||r>=5)&&this.addLineDeco(r,i)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),t=e.from,n=e.to;this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Ln(this.pos-t,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,t){var n=new Qn(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ln)return e;var t=new Ln(0,-1);return this.nodes.push(t),t}},{key:"addBlock",value:function(e){this.enterLine(),e.type!=Me.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Me.WidgetBefore&&(this.covering=e)}},{key:"addLineDeco",value:function(e,t){var n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}},{key:"finish",value:function(e){var t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Ln||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Ln(0,-1));var n,r=e,i=(0,c.Z)(this.nodes);try{for(i.s();!(n=i.n()).done;){var o=n.value;o instanceof Ln&&o.updateHeight(this.oracle,r),r+=o?o.length:1}}catch(a){i.e(a)}finally{i.f()}return this.nodes}}],[{key:"build",value:function(t,n,r,i){var o=new e(r,t);return m.Xs.spans(n,r,i,o,0),o.finish(r)}}]),e}();function Nn(e,t,n){var r=new zn;return m.Xs.compare(e,t,n,r,0),r.changes}var zn=function(){function e(){(0,h.Z)(this,e),this.changes=[]}return(0,f.Z)(e,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&Le(e,t,this.changes,5)}}]),e}();var jn=function(){function e(t,n,r){(0,h.Z)(this,e),this.from=t,this.to=n,this.size=r}return(0,f.Z)(e,[{key:"draw",value:function(e){return Ee.replace({widget:new Wn(this.size,e)}).range(this.from,this.to)}}],[{key:"same",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}}]),e}(),Wn=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var i;return(0,h.Z)(this,n),(i=t.call(this)).size=e,i.vertical=r,i}return(0,f.Z)(n,[{key:"eq",value:function(e){return e.size==this.size&&e.vertical==this.vertical}},{key:"toDOM",value:function(){var e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),n}(Te),Bn=function(){function e(t){(0,h.Z)(this,e),this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Tn,this.scaler=Hn,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=An.empty().applyChanges(t.facet(st),p.xv.empty,this.heightOracle.setDoc(t.doc),[new lt(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ee.set(this.lineGaps.map((function(e){return e.draw(!1)}))),this.computeVisibleRanges()}return(0,f.Z)(e,[{key:"updateForViewport",value:function(){for(var e=this,t=[this.viewport],n=this.state.selection.main,r=function(r){var i=r?n.head:n.anchor;if(!t.some((function(e){var t=e.from,n=e.to;return i>=t&&i<=n}))){var o=e.lineBlockAt(i),a=o.from,s=o.to;t.push(new Fn(a,s))}},i=0;i<=1;i++)r(i);this.viewports=t.sort((function(e,t){return e.from-t.from})),this.scaler=this.heightMap.height<=7e6?Hn:new Gn(this.heightOracle.doc,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(function(t){e.viewportLines.push(1==e.scaler.scale?t:qn(t,e.scaler))}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.state;this.state=e.state;var r=this.state.facet(st),i=e.changedRanges,o=lt.extendWithRanges(i,Nn(e.startState.facet(st),r,e?e.changes:d.as.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(r,n.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=a&&(e.flags|=2);var s=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));var u=!e.changes.empty||2&e.flags||s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace,o="rtl"==n.direction?ht.RTL:ht.LTR,a=this.heightOracle.mustRefreshForStyle(i,o),s=a||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight,u=0,l=0;if(s){this.mustMeasureContent=!1,this.contentDOMHeight=t.clientHeight;var c=parseInt(n.paddingTop)||0,h=parseInt(n.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==h||(u|=8,this.paddingTop=c,this.paddingBottom=h)}var f=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:function(e,t){for(var n=e.getBoundingClientRect(),r=Math.max(0,n.left),i=Math.min(innerWidth,n.right),o=Math.max(0,n.top),a=Math.min(innerHeight,n.bottom),s=e.ownerDocument.body,u=e.parentNode;u&&u!=s;)if(1==u.nodeType){var l=u,c=window.getComputedStyle(l);if((l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth)&&"visible"!=c.overflow){var h=l.getBoundingClientRect();r=Math.max(r,h.left),i=Math.min(i,h.right),o=Math.max(o,h.top),a=Math.min(a,h.bottom)}u="absolute"==c.position||"fixed"==c.position?l.offsetParent:l.parentNode}else{if(11!=u.nodeType)break;u=u.host}return{left:r-n.left,right:Math.max(r,i)-n.left,top:o-(n.top+t),bottom:Math.max(o,a)-(n.top+t)}}(t,this.paddingTop),d=f.top-this.pixelViewport.top,p=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;var v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(s=!0)),!this.inView)return 0;var m=t.clientWidth;if(this.contentDOMWidth==m&&this.editorHeight==e.scrollDOM.clientHeight&&this.editorWidth==e.scrollDOM.clientWidth||(this.contentDOMWidth=m,this.editorHeight=e.scrollDOM.clientHeight,this.editorWidth=e.scrollDOM.clientWidth,u|=8),s){var g=e.docView.measureVisibleLineHeights();if(r.mustRefreshForHeights(g)&&(a=!0),a||r.lineWrapping&&Math.abs(m-this.contentDOMWidth)>r.charWidth){var y=e.docView.measureTextSize(),b=y.lineHeight,O=y.charWidth;(a=r.refresh(i,o,b,O,m/O,g))&&(e.docView.minWidth=0,u|=8)}d>0&&p>0?l=Math.max(d,p):d<0&&p<0&&(l=Math.min(d,p)),r.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(r,0,a,new Mn(this.viewport.from,g)),r.heightChanged&&(u|=2)}var x=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&u||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,t){var n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.state.doc,o=this.visibleTop,a=this.visibleBottom,s=new Fn(r.lineAt(o-1e3*n,Pn.ByHeight,i,0,0).from,r.lineAt(a+1e3*(1-n),Pn.ByHeight,i,0,0).to);if(t){var u=t.range.head,l=this.editorHeight;if(u<s.from||u>s.to){var c,h=r.lineAt(u,Pn.ByPos,i,0,0);c="center"==t.y?(h.top+h.bottom)/2-l/2:"start"==t.y||"nearest"==t.y&&u<s.from?h.top:h.bottom-l,s=new Fn(r.lineAt(c-500,Pn.ByHeight,i,0,0).from,r.lineAt(c+l+500,Pn.ByHeight,i,0,0).to)}}return s}},{key:"mapViewport",value:function(e,t){var n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Fn(this.heightMap.lineAt(n,Pn.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,Pn.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var t=e.from,n=e.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;var i=this.heightMap.lineAt(t,Pn.ByPos,this.state.doc,0,0),o=i.top,a=this.heightMap.lineAt(n,Pn.ByPos,this.state.doc,0,0),s=a.bottom,u=this.visibleTop,l=this.visibleBottom;return(0==t||o<=u-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=l+Math.max(10,Math.min(r,250)))&&o>u-2e3&&s<l+2e3}},{key:"mapLineGaps",value:function(e,t){if(!e.length||t.empty)return e;var n,r=[],i=(0,c.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.touchesRange(o.from,o.to)||r.push(new jn(t.mapPos(o.from),t.mapPos(o.to),o.size))}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"ensureLineGaps",value:function(e){var t=this,n=[];if(this.heightOracle.direction!=ht.LTR)return n;var r,i=(0,c.Z)(this.viewportLines);try{var o=function(){var i=r.value;if(i.length<4e3)return"continue";var o=function(e,t,n){var r=[],i=e,o=0;m.Xs.spans(n.facet(st),e,t,{span:function(){},point:function(e,t){e>i&&(r.push({from:i,to:e}),o+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),o+=t-i);return{total:o,ranges:r}}(i.from,i.to,t.state);if(o.total<4e3)return"continue";var a=void 0,s=void 0;if(t.heightOracle.lineWrapping){var u=2e3/t.heightOracle.lineLength*t.heightOracle.lineHeight;a=$n(o,(t.visibleTop-i.top-u)/i.height),s=$n(o,(t.visibleBottom-i.top+u)/i.height)}else{var l=o.total*t.heightOracle.charWidth,h=2e3*t.heightOracle.charWidth;a=$n(o,(t.pixelViewport.left-h)/l),s=$n(o,(t.pixelViewport.right+h)/l)}var f=[];a>i.from&&f.push({from:i.from,to:a}),s<i.to&&f.push({from:s,to:i.to});var d=t.state.selection.main;d.from>=i.from&&d.from<=i.to&&Un(f,d.from-10,d.from+10),!d.empty&&d.to>=i.from&&d.to<=i.to&&Un(f,d.to-10,d.to+10);for(var p=function(){var r=g[v],a=r.from,s=r.to;s-a>1e3&&n.push(function(e,t){var n,r=(0,c.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i))return i}}catch(o){r.e(o)}finally{r.f()}return}(e,(function(e){return e.from>=i.from&&e.to<=i.to&&Math.abs(e.from-a)<1e3&&Math.abs(e.to-s)<1e3}))||new jn(a,s,t.gapSize(i,a,s,o)))},v=0,g=f;v<g.length;v++)p()};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return n}},{key:"gapSize",value:function(e,t,n,r){var i=Vn(r,n)-Vn(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}},{key:"updateLineGaps",value:function(e){var t=this;jn.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ee.set(e.map((function(e){return e.draw(t.heightOracle.lineWrapping)}))))}},{key:"computeVisibleRanges",value:function(){var e=this.state.facet(st);this.lineGaps.length&&(e=e.concat(this.lineGapDeco));var t=[];m.Xs.spans(e,this.viewport.from,this.viewport.to,{span:function(e,n){t.push({from:e,to:n})},point:function(){}},20);var n=t.length!=this.visibleRanges.length||this.visibleRanges.some((function(e,n){return e.from!=t[n].from||e.to!=t[n].to}));return this.visibleRanges=t,n?4:0}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((function(t){return t.from<=e&&t.to>=e}))||qn(this.heightMap.lineAt(e,Pn.ByPos,this.state.doc,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return qn(this.heightMap.lineAt(this.scaler.fromDOM(e),Pn.ByHeight,this.state.doc,0,0),this.scaler)}},{key:"elementAtHeight",value:function(e){return qn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),e}(),Fn=(0,f.Z)((function e(t,n){(0,h.Z)(this,e),this.from=t,this.to=n}));function $n(e,t){var n=e.total,r=e.ranges;if(t<=0)return r[0].from;if(t>=1)return r[r.length-1].to;for(var i=Math.floor(n*t),o=0;;o++){var a=r[o],s=a.from,u=a.to-s;if(i<=u)return s+i;i-=u}}function Vn(e,t){var n,r=0,i=(0,c.Z)(e.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.from,s=o.to;if(t<=s){r+=t-a;break}r+=s-a}}catch(u){i.e(u)}finally{i.f()}return r/e.total}function Un(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(i.from<n&&i.to>t){var o=[];i.from<t&&o.push({from:i.from,to:t}),i.to>n&&o.push({from:n,to:i.to}),e.splice.apply(e,[r,1].concat(o)),r+=o.length-1}}}var Hn={toDOM:function(e){return e},fromDOM:function(e){return e},scale:1},Gn=function(){function e(t,n,r){(0,h.Z)(this,e);var i=0,o=0,a=0;this.viewports=r.map((function(e){var r=e.from,o=e.to,a=n.lineAt(r,Pn.ByPos,t,0,0).top,s=n.lineAt(o,Pn.ByPos,t,0,0).bottom;return i+=s-a,{from:r,to:o,top:a,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(n.height-i);var s,u=(0,c.Z)(this.viewports);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.domTop=a+(l.top-o)*this.scale,a=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}}catch(f){u.e(f)}finally{u.f()}}return(0,f.Z)(e,[{key:"toDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}},{key:"fromDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}}]),e}();function qn(e,t){if(1==t.scale)return e;var n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new En(e.from,e.length,n,r-n,Array.isArray(e.type)?e.type.map((function(e){return qn(e,t)})):e.type)}var Xn=d.r$.define({combine:function(e){return e.join(" ")}}),Yn=d.r$.define({combine:function(e){return e.indexOf(!0)>-1}}),Jn=v.V.newName(),Kn=v.V.newName(),er=v.V.newName(),tr={"&light":"."+Kn,"&dark":"."+er};function nr(e,t,n){return new v.V(t,{finish:function(t){return/&/.test(t)?t.replace(/&\w*/,(function(t){if("&"==t)return e;if(!n||!n[t])throw new RangeError("Unsupported selector: ".concat(t));return n[t]})):e+" "+t}})}var rr=nr("."+Jn,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},tr),ir={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},or=fe.ie&&fe.ie_version<=11,ar=function(){function e(t,n,r){var i=this;(0,h.Z)(this,e),this.view=t,this.onChange=n,this.onScrollChanged=r,this.active=!1,this.selectionRange=new z,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((function(e){var n,r=(0,c.Z)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;i.queue.push(o)}}catch(a){r.e(a)}finally{r.f()}(fe.ie&&fe.ie_version<=11||fe.ios&&t.composing)&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?i.flushSoon():i.flush()})),or&&(this.onCharData=function(e){i.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),i.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((function(){i.view.docView.lastUpdate<Date.now()-75&&i.resizeTimeout<0&&(i.resizeTimeout=setTimeout((function(){i.resizeTimeout=-1,i.view.requestMeasure()}),50))})),this.resize.observe(t.scrollDOM)),this.start(),this.onScroll=this.onScroll.bind(this),window.addEventListener("scroll",this.onScroll),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((function(e){i.parentCheck<0&&(i.parentCheck=setTimeout(i.listenForScroll.bind(i),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=i.intersecting&&(i.intersecting=!i.intersecting,i.intersecting!=i.view.inView&&i.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((function(e){e.length>0&&e[e.length-1].intersectionRatio>0&&i.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}return(0,f.Z)(e,[{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((function(t,n){return t!=e[n]})))){this.gapIntersection.disconnect();var t,n=(0,c.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.gapIntersection.observe(r)}}catch(i){n.e(i)}finally{n.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){if(this.readSelectionRange()&&!this.delayedAndroidKey){var t=this.view,n=this.selectionRange;if(t.state.facet(Ye)?t.root.activeElement==this.dom:P(t.dom,n)){var r=n.anchorNode&&t.docView.nearest(n.anchorNode);r&&r.ignoreEvent(e)||((fe.ie&&fe.ie_version<=11||fe.android&&fe.chrome)&&!t.state.selection.main.empty&&n.focusNode&&A(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}}}},{key:"readSelectionRange",value:function(){var e=this.view.root,t=M(e),n=fe.safari&&11==e.nodeType&&function(){for(var e=document.activeElement;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}()==this.view.contentDOM&&function(e){var t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;var r=t.startContainer,i=t.startOffset,o=t.endContainer,a=t.endOffset,s=e.docView.domAtPos(e.state.selection.main.anchor);if(A(s.node,s.offset,o,a)){var u=[o,a,r,i];r=u[0],i=u[1],o=u[2],a=u[3]}return{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}(this.view)||t;return!this.selectionRange.eq(n)&&(this.selectionRange.setRange(n),this.selectionChanged=!0)}},{key:"setSelectionRange",value:function(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,t=null,n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){var r,i=(0,c.Z)(this.scrollTargets);try{for(i.s();!(r=i.n()).done;){r.value.removeEventListener("scroll",this.onScroll)}}catch(s){i.e(s)}finally{i.f()}var o,a=(0,c.Z)(this.scrollTargets=t);try{for(a.s();!(o=a.n()).done;){o.value.addEventListener("scroll",this.onScroll)}}catch(s){a.e(s)}finally{a.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,ir),or&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),or&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.observer.takeRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,t){var n=this;this.delayedAndroidKey||requestAnimationFrame((function(){var e=n.delayedAndroidKey;n.delayedAndroidKey=null;var t=n.view.state;F(n.view.contentDOM,e.key,e.keyCode)?n.processRecords():n.flush(),n.view.state==t&&n.view.update([])})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t})}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((function(){e.delayedFlush=-1,e.flush()}),20))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}},{key:"processRecords",value:function(){var e,t=this.queue,n=(0,c.Z)(this.observer.takeRecords());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(f){n.e(f)}finally{n.f()}t.length&&(this.queue=[]);var i,o=-1,a=-1,s=!1,u=(0,c.Z)(t);try{for(u.s();!(i=u.n()).done;){var l=i.value,h=this.readMutation(l);h&&(h.typeOver&&(s=!0),-1==o?(o=h.from,a=h.to):(o=Math.min(h.from,o),a=Math.max(h.to,a)))}}catch(f){u.e(f)}finally{u.f()}return{from:o,to:a,typeOver:s}}},{key:"flush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(this.delayedFlush>=0||this.delayedAndroidKey)){e&&this.readSelectionRange();var t=this.processRecords(),n=t.from,r=t.to,i=t.typeOver,o=this.selectionChanged&&P(this.dom,this.selectionRange);if(!(n<0)||o){this.selectionChanged=!1;var a=this.view.state;this.onChange(n,r,i),this.view.state==a&&this.view.update([])}}}},{key:"readMutation",value:function(e){var t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){var n=sr(t,e.previousSibling||e.target.previousSibling,-1),r=sr(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"destroy",value:function(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resize)||void 0===n||n.disconnect();var r,i=(0,c.Z)(this.scrollTargets);try{for(i.s();!(r=i.n()).done;){r.value.removeEventListener("scroll",this.onScroll)}}catch(o){i.e(o)}finally{i.f()}window.removeEventListener("scroll",this.onScroll),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}]),e}();function sr(e,t,n){for(;t;){var r=G.get(t);if(r&&r.parent==e)return r;var i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}function ur(e,t,n,r){var i,o,a=e.state.selection.main;if(t>-1){var s=e.docView.domBoundsAround(t,n,0);if(!s||e.state.readOnly)return;var u=s.from,l=s.to,c=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(e){var t=[];if(e.root.activeElement!=e.contentDOM)return t;var n=e.observer.selectionRange,r=n.anchorNode,i=n.anchorOffset,o=n.focusNode,a=n.focusOffset;r&&(t.push(new Qt(r,i)),o==r&&a==i||t.push(new Qt(o,a)));return t}(e),h=new Rt(c,e);h.readRange(s.startDOM,s.endDOM),o=function(e,t){if(0==e.length)return null;var n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?d.jT.single(n+t,r+t):null}(c,u);var f=a.from,p=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||fe.android&&h.text.length<l-u)&&(f=a.to,p="end");var v=function(e,t,n,r){var i=Math.min(e.length,t.length),o=0;for(;o<i&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&e.length==t.length)return null;var a=e.length,s=t.length;for(;a>0&&s>0&&e.charCodeAt(a-1)==t.charCodeAt(s-1);)a--,s--;if("end"==r){n-=a+Math.max(0,o-Math.min(a,s))-o}if(a<o&&e.length<t.length){s=(o-=n<=o&&n>=a?o-n:0)+(s-a),a=o}else if(s<o){a=(o-=n<=o&&n>=s?o-n:0)+(a-s),s=o}return{from:o,toA:a,toB:s}}(e.state.sliceDoc(u,l),h.text,f-u,p);v&&(i={from:u+v.from,to:u+v.toA,insert:e.state.toText(h.text.slice(v.from,v.toB))})}else if(e.hasFocus||!e.state.facet(Ye)){var m=e.observer.selectionRange,g=e.docView,y=g.impreciseHead,b=g.impreciseAnchor,O=y&&y.node==m.focusNode&&y.offset==m.focusOffset||!E(e.contentDOM,m.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(m.focusNode,m.focusOffset),x=b&&b.node==m.anchorNode&&b.offset==m.anchorOffset||!E(e.contentDOM,m.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(m.anchorNode,m.anchorOffset);O==a.head&&x==a.anchor||(o=d.jT.single(x,O))}if(i||o)if(!i&&r&&!a.empty&&o&&o.main.empty?i={from:a.from,to:a.to,insert:e.state.doc.slice(a.from,a.to)}:i&&i.from>=a.from&&i.to<=a.to&&(i.from!=a.from||i.to!=a.to)&&a.to-a.from-(i.to-i.from)<=4&&(i={from:a.from,to:a.to,insert:e.state.doc.slice(a.from,i.from).append(i.insert).append(e.state.doc.slice(i.to,a.to))}),i){var w=e.state;if(fe.ios&&e.inputState.flushIOSKey(e))return;if(fe.android&&(i.from==a.from&&i.to==a.to&&1==i.insert.length&&2==i.insert.lines&&F(e.contentDOM,"Enter",13)||i.from==a.from-1&&i.to==a.to&&0==i.insert.length&&F(e.contentDOM,"Backspace",8)||i.from==a.from&&i.to==a.to+1&&0==i.insert.length&&F(e.contentDOM,"Delete",46)))return;var k,S=i.insert.toString();if(e.state.facet(Ve).some((function(t){return t(e,i.from,i.to,S)})))return;if(e.inputState.composing>=0&&e.inputState.composing++,i.from>=a.from&&i.to<=a.to&&i.to-i.from>=(a.to-a.from)/3&&(!o||o.main.empty&&o.main.from==i.from+i.insert.length)){var _=a.from<i.from?w.sliceDoc(a.from,i.from):"",T=a.to>i.to?w.sliceDoc(i.to,a.to):"";k=w.replaceSelection(e.state.toText(_+i.insert.sliceString(0,void 0,e.state.lineBreak)+T))}else{var M=w.changes(i);k={changes:M,selection:o&&!w.selection.main.eq(o.main)&&o.main.to<=M.newLength?w.selection.replaceRange(o.main):void 0}}var P="input.type";e.composing&&(P+=".compose",e.inputState.compositionFirstChange&&(P+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(k,{scrollIntoView:!0,userEvent:P})}else if(o&&!o.main.eq(a)){var C=!1,A="select";e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(C=!0),A=e.inputState.lastSelectionOrigin),e.dispatch({selection:o,scrollIntoView:C,userEvent:A})}}var lr=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.Z)(this,e),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=n.dispatch||function(e){return t.update([e])},this.dispatch=this.dispatch.bind(this),this.root=n.root||$(n.parent)||document,this.viewState=new Bn(n.state||d.yy.create()),this.plugins=this.state.facet(tt).map((function(e){return new it(e)}));var r,i=(0,c.Z)(this.plugins);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.update(this)}}catch(a){i.e(a)}finally{i.f()}this.observer=new ar(this,(function(e,n,r){ur(t,e,n,r)}),(function(e){t.inputState.runScrollHandlers(t,e),t.observer.intersecting&&t.measure()})),this.inputState=new nn(this),this.docView=new Dt(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,dr(),this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}return(0,f.Z)(e,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"dispatch",value:function(){var e;this._dispatch(1==arguments.length&&(arguments.length<=0?void 0:arguments[0])instanceof d.YW?arguments.length<=0?void 0:arguments[0]:(e=this.state).update.apply(e,arguments))}},{key:"update",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var t,n,r=!1,i=this.state,o=(0,c.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=a.state}}catch(b){o.e(b)}finally{o.f()}if(this.destroyed)this.viewState.state=i;else{if(i.facet(d.yy.phrases)!=this.state.facet(d.yy.phrases))return this.setState(i);t=new ct(this,i,e);var s=this.viewState.scrollTarget;try{this.updateState=2;var u,l=(0,c.Z)(e);try{for(l.s();!(u=l.n()).done;){var h=u.value;if(s&&(s=s.map(h.changes)),h.scrollIntoView){var f=h.state.selection.main;s=new Ge(f.empty?f:d.jT.cursor(f.head,f.head>f.anchor?-1:1))}var p,v=(0,c.Z)(h.effects);try{for(v.s();!(p=v.n()).done;){var m=p.value;m.is(Ue)?s=new Ge(m.value):m.is(He)?s=new Ge(m.value,"center"):m.is(qe)&&(s=m.value)}}catch(b){v.e(b)}finally{v.f()}}}catch(b){l.e(b)}finally{l.f()}this.viewState.update(t,s),this.bidiCache=mr.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),r=this.docView.update(t),this.state.facet(ut)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some((function(e){return e.isUserEvent("select.pointer")})))}finally{this.updateState=0}if((r||s||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure(),!t.empty){var g,y=(0,c.Z)(this.state.facet($e));try{for(y.s();!(g=y.n()).done;){(0,g.value)(t)}}catch(b){y.e(b)}finally{y.f()}}}}},{key:"setState",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;try{var t,n=(0,c.Z)(this.plugins);try{for(n.s();!(t=n.n()).done;){t.value.destroy(this)}}catch(o){n.e(o)}finally{n.f()}this.viewState=new Bn(e),this.plugins=e.facet(tt).map((function(e){return new it(e)})),this.pluginMap.clear();var r,i=(0,c.Z)(this.plugins);try{for(i.s();!(r=i.n()).done;){r.value.update(this)}}catch(o){i.e(o)}finally{i.f()}this.docView=new Dt(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var t=e.startState.facet(tt),n=e.state.facet(tt);if(t!=n){var r,i=[],o=(0,c.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t.indexOf(a);if(s<0)i.push(new it(a));else{var u=this.plugins[s];u.mustUpdate=e,i.push(u)}}}catch(m){o.e(m)}finally{o.f()}var l,h=(0,c.Z)(this.plugins);try{for(h.s();!(l=h.n()).done;){var f=l.value;f.mustUpdate!=e&&f.destroy(this)}}catch(m){h.e(m)}finally{h.f()}this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this)}else{var d,p=(0,c.Z)(this.plugins);try{for(p.s();!(d=p.n()).done;){d.value.mustUpdate=e}}catch(m){p.e(m)}finally{p.f()}}for(var v=0;v<this.plugins.length;v++)this.plugins[v].update(this)}},{key:"measure",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.destroyed){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.flush();var n=null;try{for(var r=0;;r++){this.updateState=1;var i=this.viewport,o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(r>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var a=[];if(!(4&o)){var s=[a,this.measureRequests];this.measureRequests=s[0],a=s[1]}var u=a.map((function(t){try{return t.read(e)}catch(n){return Xe(e.state,n),vr}})),l=new ct(this,this.state),h=!1;l.flags|=o,n?n.flags|=o:n=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),h=this.docView.update(l));for(var f=0;f<a.length;f++)if(u[f]!=vr)try{var d=a[f];d.write&&d.write(u[f],this)}catch(g){Xe(this.state,g)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null),h&&this.docView.updateSelection(!0),this.viewport.from==i.from&&this.viewport.to==i.to&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty){var p,v=(0,c.Z)(this.state.facet($e));try{for(v.s();!(p=v.n()).done;){var m=p.value;m(n)}}catch(y){v.e(y)}finally{v.f()}}}}},{key:"themeClasses",get:function(){return Jn+" "+(this.state.facet(Yn)?er:Kn)+" "+this.state.facet(Xn)}},{key:"updateAttrs",value:function(){var e=this,t=gr(this,ot,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ye)?"true":"false",class:"cm-content",style:"".concat(fe.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),gr(this,at,n),this.observer.ignore((function(){_e(e.contentDOM,e.contentAttrs,n),_e(e.dom,e.editorAttrs,t)})),this.editorAttrs=t,this.contentAttrs=n}},{key:"showAnnouncements",value:function(t){var n,r=!0,i=(0,c.Z)(t);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=(0,c.Z)(a.effects);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.is(e.announce))r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=u.value}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(ut),v.V.mount(this.root,this.styleModules.concat(rr).reverse())}},{key:"readMeasured",value:function(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var t=this;if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((function(){return t.measure()}))),e){if(null!=e.key)for(var n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key)return void(this.measureRequests[n]=e);this.measureRequests.push(e)}}},{key:"pluginField",value:function(e){var t,n=[],r=(0,c.Z)(this.plugins);try{for(r.s();!(t=r.n()).done;){t.value.update(this).takeField(e,n)}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"plugin",value:function(e){var t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((function(t){return t.spec==e}))||null),t&&t.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"blockAtHeight",value:function(e,t){var n=hr(t,this);return this.elementAtHeight(e-n).moveY(n)}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"visualLineAtHeight",value:function(e,t){var n=hr(t,this);return this.lineBlockAtHeight(e-n).moveY(n)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLines",value:function(e,t){var n,r=hr(t,this),i=(0,c.Z)(this.viewportLineBlocks);try{for(i.s();!(n=i.n()).done;){e(n.value.moveY(r))}}catch(o){i.e(o)}finally{i.f()}}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"visualLineAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.lineBlockAt(e).moveY(t+this.viewState.paddingTop)}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,t,n){return tn(this,e,en(this,e,t,n))}},{key:"moveByGroup",value:function(e,t){var n=this;return tn(this,e,en(this,e,t,(function(t){return function(e,t,n){var r=e.state.charCategorizer(t),i=r(n);return function(e){var t=r(e);return i==d.D0.Space&&(i=t),i==t}}(n,e.head,t)})))}},{key:"moveToLineBoundary",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Kt(this,e,t,n)}},{key:"moveVertically",value:function(e,t,n){return tn(this,e,function(e,t,n,r){var i=t.head,o=n?1:-1;if(i==(n?e.state.doc.length:0))return d.jT.cursor(i);var a,s=t.goalColumn,u=e.contentDOM.getBoundingClientRect(),l=e.coordsAtPos(i),c=e.documentTop;if(l)null==s&&(s=l.left-u.left),a=o<0?l.top:l.bottom;else{var h=e.viewState.lineBlockAt(i-c);null==s&&(s=Math.min(u.right-u.left,e.defaultCharacterWidth*(i-h.from))),a=(o<0?h.top:h.bottom)+c}for(var f=u.left+s,p=null!==r&&void 0!==r?r:e.defaultLineHeight>>1,v=0;;v+=10){var m=a+(p+v)*o,g=Xt(e,{x:f,y:m},!1,o);if(m<u.top||m>u.bottom||(o<0?g<i:g>i))return d.jT.cursor(g,void 0,void 0,s)}}(this,e,t,n))}},{key:"scrollPosIntoView",value:function(e){this.dispatch({effects:Ue.of(d.jT.cursor(e))})}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}},{key:"posAtCoords",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),Xt(this,e,t)}},{key:"coordsAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;var r=this.state.doc.lineAt(e),i=this.bidiSpans(r),o=i[Tt.find(i,e-r.from,-1,t)];return Z(n,o.dir==ht.LTR==t>0)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.heightOracle.direction}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>cr)return Pt(e.length);var t,n=this.textDirection,r=(0,c.Z)(this.bidiCache);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.from==e.from&&i.dir==n)return i.order}}catch(a){r.e(a)}finally{r.f()}var o=Et(e.text,this.textDirection);return this.bidiCache.push(new mr(e.from,e.to,n,o)),o}},{key:"hasFocus",get:function(){var e;return(document.hasFocus()||fe.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore((function(){W(e.contentDOM),e.docView.updateSelection()}))}},{key:"destroy",value:function(){var e,t=(0,c.Z)(this.plugins);try{for(t.s();!(e=t.n()).done;){e.value.destroy(this)}}catch(n){t.e(n)}finally{t.f()}this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}}],[{key:"scrollIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return qe.of(new Ge("number"==typeof e?d.jT.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}},{key:"domEventHandlers",value:function(e){return nt.define((function(){return{}}),{eventHandlers:e})}},{key:"theme",value:function(e,t){var n=v.V.newName(),r=[Xn.of(n),ut.of(nr(".".concat(n),e))];return t&&t.dark&&r.push(Yn.of(!0)),r}},{key:"baseTheme",value:function(e){return d.Wl.lowest(ut.of(nr("."+Jn,e,tr)))}}]),e}();lr.scrollTo=Ue,lr.centerOn=He,lr.styleModule=ut,lr.inputHandler=Ve,lr.exceptionSink=Fe,lr.updateListener=$e,lr.editable=Ye,lr.mouseSelectionStyle=Be,lr.dragMovesSelection=We,lr.clickAddsSelectionRange=je,lr.decorations=st,lr.darkTheme=Yn,lr.contentAttributes=at,lr.editorAttributes=ot,lr.lineWrapping=lr.contentAttributes.of({class:"cm-lineWrapping"}),lr.announce=d.Py.define();var cr=4096;function hr(e,t){return(null==e?t.contentDOM.getBoundingClientRect().top:e)+t.viewState.paddingTop}var fr=-1;function dr(){window.addEventListener("resize",(function(){-1==fr&&(fr=setTimeout(pr,50))}))}function pr(){fr=-1;for(var e=document.querySelectorAll(".cm-content"),t=0;t<e.length;t++){var n=G.get(e[t]);n&&n.editorView.requestMeasure()}}var vr={},mr=function(){function e(t,n,r,i){(0,h.Z)(this,e),this.from=t,this.to=n,this.dir=r,this.order=i}return(0,f.Z)(e,null,[{key:"update",value:function(t,n){if(n.empty)return t;for(var r=[],i=t.length?t[t.length-1].dir:ht.LTR,o=Math.max(0,t.length-10);o<t.length;o++){var a=t[o];a.dir!=i||n.touchesRange(a.from,a.to)||r.push(new e(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.order))}return r}}]),e}();function gr(e,t,n){for(var r=e.state.facet(t),i=r.length-1;i>=0;i--){var o=r[i],a="function"==typeof o?o(e):o;a&&ke(a,n)}return n}var yr=fe.mac?"mac":fe.windows?"win":fe.linux?"linux":"key";function br(e,t){var n,r,i,o,a=e.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(var u=0;u<a.length-1;++u){var l=a[u];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);"mac"==t?o=!0:r=!0}}return n&&(s="Alt-"+s),r&&(s="Ctrl-"+s),o&&(s="Meta-"+s),i&&(s="Shift-"+s),s}function Or(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}var xr=lr.domEventHandlers({keydown:function(e,t){return Er(Sr(t.state),e,t,"editor")}}),wr=d.r$.define({enables:xr}),kr=new WeakMap;function Sr(e){var t=e.facet(wr),n=kr.get(t);return n||kr.set(t,n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yr,r=Object.create(null),i=Object.create(null),o=function(e,t){var n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},a=function(e,t,i,a){for(var s=r[e]||(r[e]=Object.create(null)),u=t.split(/ (?!$)/).map((function(e){return br(e,n)})),l=function(t){var n=u.slice(0,t).join(" ");o(n,!0),s[n]||(s[n]={preventDefault:!0,commands:[function(t){var r=Tr={view:t,prefix:n,scope:e};return setTimeout((function(){Tr==r&&(Tr=null)}),Mr),!0}]})},c=1;c<u.length;c++)l(c);var h=u.join(" ");o(h,!1);var f=s[h]||(s[h]={preventDefault:!1,commands:[]});f.commands.push(i),a&&(f.preventDefault=!0)},s=(0,c.Z)(e);try{for(s.s();!(t=s.n()).done;){var u=t.value,l=u[n]||u.key;if(l){var h,f=(0,c.Z)(u.scope?u.scope.split(" "):["editor"]);try{for(f.s();!(h=f.n()).done;){var d=h.value;a(d,l,u.run,u.preventDefault),u.shift&&a(d,"Shift-"+l,u.shift,u.preventDefault)}}catch(p){f.e(p)}finally{f.f()}}}}catch(p){s.e(p)}finally{s.f()}return r}(t.reduce((function(e,t){return e.concat(t)}),[]))),n}function _r(e,t,n){return Er(Sr(e.state),t,e,n)}var Tr=null,Mr=4e3;function Er(e,t,n,r){var i=function(e){var t=!(S&&(e.ctrlKey||e.altKey||e.metaKey)||(O||k)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?y:g)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=1==i.length&&" "!=i,a="",s=!1;Tr&&Tr.view==n&&Tr.scope==r&&(a=Tr.prefix+" ",(s=on.indexOf(t.keyCode)<0)&&(Tr=null));var u,l=function(e){if(e){var t,r=(0,c.Z)(e.commands);try{for(r.s();!(t=r.n()).done;){if((0,t.value)(n))return!0}}catch(i){r.e(i)}finally{r.f()}e.preventDefault&&(s=!0)}return!1},h=e[r];if(h){if(l(h[a+Or(i,t,!o)]))return!0;if(o&&(t.shiftKey||t.altKey||t.metaKey)&&(u=g[t.keyCode])&&u!=i){if(l(h[a+Or(u,t,!0)]))return!0}else if(o&&t.shiftKey&&l(h[a+Or(i,t,!0)]))return!0}return s}var Pr=!fe.ios,Cr=d.r$.define({combine:function(e){return(0,d.BO)(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,t){return Math.min(e,t)},drawRangeCursor:function(e,t){return e||t}})}});function Ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Cr.of(e),Lr,Dr]}var Rr=function(){function e(t,n,r,i,o){(0,h.Z)(this,e),this.left=t,this.top=n,this.width=r,this.height=i,this.className=o}return(0,f.Z)(e,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}]),e}(),Lr=nt.fromClass(function(){function e(t){(0,h.Z)(this,e),this.view=t,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=t.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}return(0,f.Z)(e,[{key:"setBlinkRate",value:function(){this.cursorLayer.style.animationDuration=this.view.state.facet(Cr).cursorBlinkRate+"ms"}},{key:"update",value:function(e){var t=e.startState.facet(Cr)!=e.state.facet(Cr);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((function(e){return e.scrollIntoView}))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}},{key:"readPos",value:function(){var e,t=this,n=this.view.state,r=n.facet(Cr),i=n.selection.ranges.map((function(e){return e.empty?[]:function(e,t){if(t.to<=e.viewport.from||t.from>=e.viewport.to)return[];var n=Math.max(t.from,e.viewport.from),r=Math.min(t.to,e.viewport.to),i=e.textDirection==ht.LTR,o=e.contentDOM,a=o.getBoundingClientRect(),s=Zr(e),u=window.getComputedStyle(o.firstChild),l=a.left+parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)),h=a.right-parseInt(u.paddingRight),f=Nr(e,n),d=Nr(e,r),p=f.type==Me.Text?f:null,v=d.type==Me.Text?d:null;e.lineWrapping&&(p&&(p=Ir(e,n,p)),v&&(v=Ir(e,r,v)));if(p&&v&&p.from==v.from)return O(x(t.from,t.to,p));var m=p?x(t.from,null,p):w(f,!1),g=v?x(null,t.to,v):w(d,!0),y=[];return(p||f).to<(v||d).from-1?y.push(b(l,m.bottom,h,g.top)):m.bottom<g.top&&e.elementAtHeight((m.bottom+g.top)/2).type==Me.Text&&(m.bottom=g.top=(m.bottom+g.top)/2),O(m).concat(y).concat(O(g));function b(e,t,n,r){return new Rr(e-s.left,t-s.top,n-e,r-t,"cm-selectionBackground")}function O(e){for(var t=e.top,n=e.bottom,r=e.horizontal,i=[],o=0;o<r.length;o+=2)i.push(b(r[o],t,r[o+1],n));return i}function x(t,n,r){var o=1e9,a=-1e9,s=[];function u(t,n,u,c,f){var d=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(u,u==r.from?2:-2);o=Math.min(d.top,p.top,o),a=Math.max(d.bottom,p.bottom,a),f==ht.LTR?s.push(i&&n?l:d.left,i&&c?h:p.right):s.push(!i&&c?l:p.left,!i&&n?h:d.right)}var f,d=null!==t&&void 0!==t?t:r.from,p=null!==n&&void 0!==n?n:r.to,v=(0,c.Z)(e.visibleRanges);try{for(v.s();!(f=v.n()).done;){var m=f.value;if(m.to>d&&m.from<p)for(var g=Math.max(m.from,d),y=Math.min(m.to,p);;){var b,O=e.state.doc.lineAt(g),x=(0,c.Z)(e.bidiSpans(O));try{for(x.s();!(b=x.n()).done;){var w=b.value,k=w.from+O.from,S=w.to+O.from;if(k>=y)break;S>g&&u(Math.max(k,g),null==t&&k<=d,Math.min(S,y),null==n&&S>=p,w.dir)}}catch(_){x.e(_)}finally{x.f()}if((g=O.to+1)>=y)break}}}catch(_){v.e(_)}finally{v.f()}return 0==s.length&&u(d,null==t,p,null==n,e.textDirection),{top:o,bottom:a,horizontal:s}}function w(e,t){var n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(t.view,e)})).reduce((function(e,t){return e.concat(t)})),o=[],a=(0,c.Z)(n.selection.ranges);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=s==n.selection.main;if(s.empty?!u||Pr:r.drawRangeCursor){var l=zr(this.view,s,u);l&&o.push(l)}}}catch(h){a.e(h)}finally{a.f()}return{rangePieces:i,cursors:o}}},{key:"drawSel",value:function(e){var t=this,n=e.rangePieces,r=e.cursors;if(n.length!=this.rangePieces.length||n.some((function(e,n){return!e.eq(t.rangePieces[n])}))){this.selectionLayer.textContent="";var i,o=(0,c.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.selectionLayer.appendChild(a.draw())}}catch(f){o.e(f)}finally{o.f()}this.rangePieces=n}if(r.length!=this.cursors.length||r.some((function(e,n){return!e.eq(t.cursors[n])}))){var s=this.cursorLayer.children;if(s.length!==r.length){this.cursorLayer.textContent="";var u,l=(0,c.Z)(r);try{for(l.s();!(u=l.n()).done;){var h=u.value;this.cursorLayer.appendChild(h.draw())}}catch(f){l.e(f)}finally{l.f()}}else r.forEach((function(e,t){return e.adjust(s[t])}));this.cursors=r}}},{key:"destroy",value:function(){this.selectionLayer.remove(),this.cursorLayer.remove()}}]),e}()),Qr={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Pr&&(Qr[".cm-line"].caretColor="transparent !important");var Dr=d.Wl.highest(lr.theme(Qr));function Zr(e){var t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==ht.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function Ir(e,t,n){var r=d.jT.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:Me.Text}}function Nr(e,t){var n=e.lineBlockAt(t);if(Array.isArray(n.type)){var r,i=(0,c.Z)(n.type);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.to>t||o.to==t&&(o.to==n.to||o.type==Me.Text))return o}}catch(a){i.e(a)}finally{i.f()}}return n}function zr(e,t,n){var r=e.coordsAtPos(t.head,t.assoc||1);if(!r)return null;var i=Zr(e);return new Rr(r.left-i.left,r.top-i.top,-1,r.bottom-r.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}var jr=d.Py.define({map:function(e,t){return null==e?null:t.mapPos(e)}}),Wr=d.QQ.define({create:function(){return null},update:function(e,t){return null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((function(e,t){return t.is(jr)?t.value:e}),e)}}),Br=nt.fromClass(function(){function e(t){(0,h.Z)(this,e),this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return(0,f.Z)(e,[{key:"update",value:function(e){var t,n=e.state.field(Wr);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(Wr)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view.state.field(Wr),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;var n=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+this.view.scrollDOM.scrollLeft,top:t.top-n.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}},{key:"drawCursor",value:function(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field(Wr)!=e&&this.view.dispatch({effects:jr.of(e)})}}]),e}(),{eventHandlers:{dragover:function(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave:function(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function Fr(){return[Wr,Br]}function $r(e,t,n,r,i){t.lastIndex=0;for(var o,a=e.iterRange(n,r),s=n;!a.next().done;s+=a.value.length)if(!a.lineBreak)for(;o=t.exec(a.value);)i(s+o.index,s+o.index+o[0].length,o)}var Vr=function(){function e(t){(0,h.Z)(this,e);var n=t.regexp,r=t.decoration,i=t.boundary,o=t.maxLength,a=void 0===o?1e3:o;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=n,this.getDeco="function"==typeof r?r:function(){return r},this.boundary=i,this.maxLength=a}return(0,f.Z)(e,[{key:"createDeco",value:function(e){var t,n=this,r=new m.f_,i=(0,c.Z)(function(e,t){var n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;var r,i=[],o=(0,c.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.from,u=a.to;s=Math.max(e.state.doc.lineAt(s).from,s-t),u=Math.min(e.state.doc.lineAt(u).to,u+t),i.length&&i[i.length-1].to>=s?i[i.length-1].to=u:i.push({from:s,to:u})}}catch(l){o.e(l)}finally{o.f()}return i}(e,this.maxLength));try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.from,s=o.to;$r(e.state.doc,this.regexp,a,s,(function(t,i,o){return r.add(t,i,n.getDeco(o,e,t))}))}}catch(u){i.e(u)}finally{i.f()}return r.finish()}},{key:"updateDeco",value:function(e,t){var n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((function(t,i,o,a){a>e.view.viewport.from&&o<e.view.viewport.to&&(n=Math.min(o,n),r=Math.max(a,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}},{key:"updateRange",value:function(e,t,n,r){var i,o=this,a=(0,c.Z)(e.visibleRanges);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=Math.max(s.from,n),l=Math.min(s.to,r);l>u&&function(){var n=e.state.doc.lineAt(u),r=n.to<l?e.state.doc.lineAt(l):n,i=Math.max(s.from,n.from),a=Math.min(s.to,r.to);if(o.boundary){for(;u>n.from;u--)if(o.boundary.test(n.text[u-1-n.from])){i=u;break}for(;l<r.to;l++)if(o.boundary.test(r.text[l-r.from])){a=l;break}}var c=[],h=void 0;if(n==r)for(o.regexp.lastIndex=i-n.from;(h=o.regexp.exec(n.text))&&h.index<a-n.from;){var f=h.index+n.from;c.push(o.getDeco(h,e,f).range(f,f+h[0].length))}else $r(e.state.doc,o.regexp,i,a,(function(t,n,r){return c.push(o.getDeco(r,e,t).range(t,n))}));t=t.update({filterFrom:i,filterTo:a,filter:function(e,t){return e<i||t>a},add:c})}()}}catch(h){a.e(h)}finally{a.f()}return t}}]),e}(),Ur=null!=/x/.unicode?"gu":"g",Hr=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\ufeff\ufff9-\ufffc]",Ur),Gr={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},qr=null;var Xr=d.r$.define({combine:function(e){var t=(0,d.BO)(e,{render:null,specialChars:Hr,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==qr&&"undefined"!=typeof document&&document.body){var t=document.body.style;qr=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return qr||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Ur)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Ur)),t}});function Yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Xr.of(e),Kr()]}var Jr=null;function Kr(){return Jr||(Jr=nt.fromClass(function(){function e(t){(0,h.Z)(this,e),this.view=t,this.decorations=Ee.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Xr)),this.decorations=this.decorator.createDeco(t)}return(0,f.Z)(e,[{key:"makeDecorator",value:function(e){var t=this;return new Vr({regexp:e.specialChars,decoration:function(n,r,i){var o=r.state.doc,a=(0,p.gm)(n[0],0);if(9==a){var s=o.lineAt(i),u=r.state.tabSize,l=(0,p.IS)(s.text,u,i-s.from);return Ee.replace({widget:new ti((u-l%u)*t.view.defaultCharacterWidth)})}return t.decorationCache[a]||(t.decorationCache[a]=Ee.replace({widget:new ei(e,a)}))},boundary:e.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(e){var t=e.state.facet(Xr);e.startState.facet(Xr)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}}]),e}(),{decorations:function(e){return e.decorations}}))}var ei=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var i;return(0,h.Z)(this,n),(i=t.call(this)).options=e,i.code=r,i}return(0,f.Z)(n,[{key:"eq",value:function(e){return e.code==this.code}},{key:"toDOM",value:function(e){var t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(Gr[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;var i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Te),ti=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this)).width=e,r}return(0,f.Z)(n,[{key:"eq",value:function(e){return e.width==this.width}},{key:"toDOM",value:function(){var e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Te);function ni(){return ii}var ri=Ee.line({class:"cm-activeLine"}),ii=nt.fromClass(function(){function e(t){(0,h.Z)(this,e),this.decorations=this.getDeco(t)}return(0,f.Z)(e,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t,n=-1,r=[],i=(0,c.Z)(e.state.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(!o.empty)return Ee.none;var a=e.lineBlockAt(o.head);a.from>n&&(r.push(ri.range(a.from)),n=a.from)}}catch(s){i.e(s)}finally{i.f()}return Ee.set(r)}}]),e}(),{decorations:function(e){return e.decorations}}),oi=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this)).content=e,r}return(0,f.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Te);function ai(e){return nt.fromClass(function(){function t(n){(0,h.Z)(this,t),this.view=n,this.placeholder=Ee.set([Ee.widget({widget:new oi(e),side:1}).range(0)])}return(0,f.Z)(t,[{key:"decorations",get:function(){return this.view.state.doc.length?Ee.none:this.placeholder}}]),t}(),{decorations:function(e){return e.decorations}})}},4499:function(e,t,n){"use strict";n.d(t,{L3:function(){return s},md:function(){return c},Lj:function(){return p},Jq:function(){return d},_b:function(){return Q},mp:function(){return g},i9:function(){return L},FE:function(){return Z}});var r=n(9439),i=n(7762),o=n(3144),a=n(5671),s=1024,u=0,l=(0,o.Z)((function e(t,n){(0,a.Z)(this,e),this.from=t,this.to=n})),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.Z)(this,e),this.id=u++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return(0,o.Z)(e,[{key:"add",value:function(e){var t=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=d.match(e)),function(n){var r=e(n);return void 0===r?null:[t,r]}}}]),e}();c.closedBy=new c({deserialize:function(e){return e.split(" ")}}),c.openedBy=new c({deserialize:function(e){return e.split(" ")}}),c.group=new c({deserialize:function(e){return e.split(" ")}}),c.contextHash=new c({perNode:!0}),c.lookAhead=new c({perNode:!0}),c.mounted=new c({perNode:!0});var h=(0,o.Z)((function e(t,n,r){(0,a.Z)(this,e),this.tree=t,this.overlay=n,this.parser=r})),f=Object.create(null),d=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,a.Z)(this,e),this.name=t,this.props=n,this.id=r,this.flags=i}return(0,o.Z)(e,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if("string"==typeof e){if(this.name==e)return!0;var t=this.prop(c.group);return!!t&&t.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(t){var n=t.props&&t.props.length?Object.create(null):f,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),o=new e(t.name||"",n,t.id,r);if(t.props){var a,s=(0,i.Z)(t.props);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(Array.isArray(u)||(u=u(o)),u){if(u[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[u[0].id]=u[1]}}}catch(l){s.e(l)}finally{s.f()}}return o}},{key:"match",value:function(e){var t=Object.create(null);for(var n in e){var r,o=(0,i.Z)(n.split(" "));try{for(o.s();!(r=o.n()).done;){var a=r.value;t[a]=e[n]}}catch(s){o.e(s)}finally{o.f()}}return function(e){for(var n=e.prop(c.group),r=-1;r<(n?n.length:0);r++){var i=t[r<0?e.name:n[r]];if(i)return i}}}}]),e}();d.none=new d("",Object.create(null),0,8);var p=function(){function e(t){(0,a.Z)(this,e),this.types=t;for(var n=0;n<t.length;n++)if(t[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}return(0,o.Z)(e,[{key:"extend",value:function(){for(var t=[],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a,s=(0,i.Z)(this.types);try{for(s.s();!(a=s.n()).done;){var u,l=a.value,c=null,h=(0,i.Z)(r);try{for(h.s();!(u=h.n()).done;){var f=u.value,p=f(l);p&&(c||(c=Object.assign({},l.props)),c[p[0].id]=p[1])}}catch(v){h.e(v)}finally{h.f()}t.push(c?new d(l.name,c,l.id,l.flags):l)}}catch(v){s.e(v)}finally{s.f()}return new e(t)}}]),e}(),v=new WeakMap,m=new WeakMap,g=function(){function e(t,n,o,s,u){if((0,a.Z)(this,e),this.type=t,this.children=n,this.positions=o,this.length=s,this.props=null,u&&u.length){this.props=Object.create(null);var l,c=(0,i.Z)(u);try{for(c.s();!(l=c.n()).done;){var h=(0,r.Z)(l.value,2),f=h[0],d=h[1];this.props["number"==typeof f?f:f.id]=d}}catch(p){c.e(p)}finally{c.f()}}}return(0,o.Z)(e,[{key:"toString",value:function(){var e=this.prop(c.mounted);if(e&&!e.overlay)return e.tree.toString();var t,n="",r=(0,i.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var o=t.value.toString();o&&(n&&(n+=","),n+=o)}}catch(a){r.e(a)}finally{r.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}},{key:"cursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null!=e&&v.get(this)||this.topNode,r=new M(n);return null!=e&&(r.moveTo(e,t),v.set(this,r._tree)),r}},{key:"fullCursor",value:function(){return new M(this.topNode,1)}},{key:"topNode",get:function(){return new k(this,0,0,null)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=w(v.get(this)||this.topNode,e,t,!1);return v.set(this,n),n}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=w(m.get(this)||this.topNode,e,t,!0);return m.set(this,n),n}},{key:"iterate",value:function(e){for(var t=e.enter,n=e.leave,r=e.from,i=void 0===r?0:r,o=e.to,a=void 0===o?this.length:o,s=this.cursor(),u=function(){return s.node};;){var l=!1;if(s.from<=a&&s.to>=i&&(s.type.isAnonymous||!1!==t(s.type,s.from,s.to,u))){if(s.firstChild())continue;s.type.isAnonymous||(l=!0)}for(;l&&n&&n(s.type,s.from,s.to,u),l=s.type.isAnonymous,!s.nextSibling();){if(!s.parent())return;l=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var t in this.props)e.push([+t,this.props[t]]);return e}},{key:"balance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:R(d.none,this.children,this.positions,0,this.children.length,0,this.length,(function(n,r,i){return new e(t.type,n,r,i,t.propValues)}),n.makeTree||function(t,n,r){return new e(d.none,t,n,r)})}}],[{key:"build",value:function(e){return P(e)}}]),e}();g.empty=new g(d.none,[],[],0);var y=function(){function e(t,n){(0,a.Z)(this,e),this.buffer=t,this.index=n}return(0,o.Z)(e,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new e(this.buffer,this.index)}}]),e}(),b=function(){function e(t,n,r){(0,a.Z)(this,e),this.buffer=t,this.length=n,this.set=r}return(0,o.Z)(e,[{key:"type",get:function(){return d.none}},{key:"toString",value:function(){for(var e=[],t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}},{key:"childString",value:function(e){var t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;for(var o=[];e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}},{key:"findChild",value:function(e,t,n,r,i){for(var o=this.buffer,a=-1,s=e;s!=t&&!(O(i,r,o[s+1],o[s+2])&&(a=s,n>0));s=o[s+3]);return a}},{key:"slice",value:function(t,n,r,i){for(var o=this.buffer,a=new Uint16Array(n-t),s=t,u=0;s<n;)a[u++]=o[s++],a[u++]=o[s++]-r,a[u++]=o[s++]-r,a[u++]=o[s++]-t;return new e(a,i-r,this.set)}}]),e}();function O(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function x(e,t){for(var n=e.childBefore(t);n;){var r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(e=n,n=r.prevSibling):n=r}return e}function w(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){var o=!r&&e instanceof k&&e.index<0?null:e.parent;if(!o)return e;e=o}if(r)for(var a=e,s=a.parent;s;s=(a=s).parent)a instanceof k&&a.index<0&&(null===(i=s.enter(t,n,!0))||void 0===i?void 0:i.from)!=a.from&&(e=s);for(;;){var u=e.enter(t,n,r);if(!u)return e;e=u}}var k=function(){function e(t,n,r,i){(0,a.Z)(this,e),this.node=t,this._from=n,this.index=r,this._parent=i}return(0,o.Z)(e,[{key:"type",get:function(){return this.node.type}},{key:"name",get:function(){return this.node.type.name}},{key:"from",get:function(){return this._from}},{key:"to",get:function(){return this._from+this.node.length}},{key:"nextChild",value:function(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=this;;){for(var s=a.node,u=s.children,l=s.positions,h=n>0?u.length:-1;t!=h;t+=n){var f=u[t],d=l[t]+a._from;if(O(i,r,d,d+f.length))if(f instanceof b){if(2&o)continue;var p=f.findChild(0,f.buffer.length,n,r-d,i);if(p>-1)return new T(new _(a,f,t,d),null,p)}else if(1&o||!f.type.isAnonymous||E(f)){var v=void 0;if(!(1&o)&&f.props&&(v=f.prop(c.mounted))&&!v.overlay)return new e(v.tree,d,t,a);var m=new e(f,d,t,a);return 1&o||!m.type.isAnonymous?m:m.nextChild(n<0?f.children.length-1:0,n,r,i)}}if(1&o||!a.type.isAnonymous)return null;if(t=a.index>=0?a.index+n:n<0?-1:a._parent.node.children.length,!(a=a._parent))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this.node.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this.node.children.length-1,-1,e,-2)}},{key:"enter",value:function(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(o&&(r=this.node.prop(c.mounted))&&r.overlay){var s,u=t-this.from,l=(0,i.Z)(r.overlay);try{for(l.s();!(s=l.n()).done;){var h=s.value,f=h.from,d=h.to;if((n>0?f<=u:f<u)&&(n<0?d>=u:d>u))return new e(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(p){l.e(p)}finally{l.f()}}return this.nextChild(0,1,t,n,a?0:2)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",get:function(){return new M(this)}},{key:"tree",get:function(){return this.node}},{key:"toTree",value:function(){return this.node}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return w(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return w(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return x(this,e)}},{key:"getChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=S(this,e,t,n);return r.length?r[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return S(this,e,t,n)}},{key:"toString",value:function(){return this.node.toString()}}]),e}();function S(e,t,n,r){var i=e.cursor,o=[];if(!i.firstChild())return o;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}var _=(0,o.Z)((function e(t,n,r,i){(0,a.Z)(this,e),this.parent=t,this.buffer=n,this.index=r,this.start=i})),T=function(){function e(t,n,r){(0,a.Z)(this,e),this.context=t,this._parent=n,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}return(0,o.Z)(e,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(t,n,r){var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.context.start,r);return o<0?null:new e(this.context,this,o)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!i)return null;var o=this.context.buffer,a=o.findChild(this.index+4,o.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return a<0?null:new e(this.context,this,a)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var t=this.context.buffer,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new e(this.context,this._parent,n):this.externalSibling(1)}},{key:"prevSibling",get:function(){var t=this.context.buffer,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new e(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}},{key:"cursor",get:function(){return new M(this)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],t=[],n=this.context.buffer,r=this.index+4,i=n.buffer[this.index+3];if(i>r){var o=n.buffer[this.index+1],a=n.buffer[this.index+2];e.push(n.slice(r,i,o,a)),t.push(0)}return new g(this.type,e,t,this.to-this.from)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return w(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return w(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return x(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=S(this,e,t,n);return r.length?r[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return S(this,e,t,n)}}]),e}(),M=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((0,a.Z)(this,e),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof k)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(var r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}return(0,o.Z)(e,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,t){this.index=e;var n=this.buffer,r=n.start,i=n.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof k?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree.node.children.length-1:0,e,t,n,this.mode));var r=this.buffer.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.buffer?!!r&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n&&!(1&this.mode),r))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var t=this.buffer.buffer,n=this.stack.length-1;if(e<0){var r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{var i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var t,n,r=this.buffer;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(var i=0;i<this.index;i++)if(r.buffer.buffer[i+3]<this.index)return!1;t=r.index,n=r.parent}else{var o=this._tree;t=o.index,n=o._parent}for(;n;t=(a=n).index,n=a._parent,a){var a;if(t>-1)for(var s=t+e,u=e<0?-1:n.node.children.length;s!=u;s+=e){var l=n.node.children[s];if(1&this.mode||l instanceof b||!l.type.isAnonymous||E(l))return!1}}return!0}},{key:"move",value:function(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(var r=this.index,i=this.stack.length;i>=0;){for(var o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=i+1;break e}r=this.stack[--i]}for(var a=n;a<this.stack.length;a++)t=new T(this.buffer,t,this.stack[a]);return this.bufferNode=new T(this.buffer,t,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree.node}}]),e}();function E(e){return e.children.some((function(e){return e instanceof b||!e.type.isAnonymous||E(e)}))}function P(e){var t,n=e.buffer,r=e.nodeSet,i=e.maxBufferLength,o=void 0===i?s:i,a=e.reused,u=void 0===a?[]:a,l=e.minRepeatType,h=void 0===l?r.types.length:l,f=Array.isArray(n)?new y(n,n.length):n,d=r.types,p=0,v=0;function m(e,t,n,i,a){for(var s=f.id,l=f.start,y=f.end,k=f.size,S=v;k<0;){if(f.next(),-1==k){var _=u[s];return n.push(_),void i.push(l-e)}if(-3==k)return void(p=s);if(-4==k)return void(v=s);throw new RangeError("Unrecognized record size: ".concat(k))}var T,M,E=d[s],P=l-e;if(y-l<=o&&(M=function(e,t){var n=f.fork(),r=0,i=0,a=0,s=n.end-o,u={size:0,start:0,skip:0};e:for(var l=n.pos-e;n.pos>l;){var c=n.size;if(n.id==t&&c>=0)u.size=r,u.start=i,u.skip=a,a+=4,r+=4,n.next();else{var d=n.pos-c;if(c<0||d<l||n.start<s)break;var p=n.id>=h?4:0,v=n.start;for(n.next();n.pos>d;){if(n.size<0){if(-3!=n.size)break e;p+=4}else n.id>=h&&(p+=4);n.next()}i=v,r+=c,a+=p}}(t<0||r==e)&&(u.size=r,u.start=i,u.skip=a);return u.size>4?u:void 0}(f.pos-t,a))){for(var C=new Uint16Array(M.size-M.skip),A=f.pos-M.size,L=C.length;f.pos>A;)L=w(M.start,C,L);T=new b(C,y-M.start,r),P=M.start-e}else{var Q=f.pos-k;f.next();for(var D=[],Z=[],I=s>=h?s:-1,N=0,z=y;f.pos>Q;)I>=0&&f.id==I&&f.size>=0?(f.end<=z-o&&(O(D,Z,l,N,f.end,z,I,S),N=D.length,z=f.end),f.next()):m(l,Q,D,Z,I);if(I>=0&&N>0&&N<D.length&&O(D,Z,l,N,l,z,I,S),D.reverse(),Z.reverse(),I>-1&&N>0){var j=function(e){return function(t,n,r){var i,o,a=0,s=t.length-1;if(s>=0&&(i=t[s])instanceof g){if(!s&&i.type==e&&i.length==r)return i;(o=i.prop(c.lookAhead))&&(a=n[s]+i.length+o)}return x(e,t,n,r,a)}}(E);T=R(E,D,Z,0,D.length,0,y-l,j,j)}else T=x(E,D,Z,y-l,S-y)}n.push(T),i.push(P)}function O(e,t,n,i,o,a,s,u){for(var l=[],c=[];e.length>i;)l.push(e.pop()),c.push(t.pop()+n-o);e.push(x(r.types[s],l,c,a-o,u-a)),t.push(o-n)}function x(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;if(p){var a=[c.contextHash,p];o=o?[a].concat(o):[a]}if(i>25){var s=[c.lookAhead,i];o=o?[s].concat(o):[s]}return new g(e,t,n,r,o)}function w(e,t,n){var r=f.id,i=f.start,o=f.end,a=f.size;if(f.next(),a>=0&&r<h){var s=n;if(a>4)for(var u=f.pos-(a-4);f.pos>u;)n=w(e,t,n);t[--n]=s,t[--n]=o-e,t[--n]=i-e,t[--n]=r}else-3==a?p=r:-4==a&&(v=r);return n}for(var k=[],S=[];f.pos>0;)m(e.start||0,e.bufferStart||0,k,S,-1);var _=null!==(t=e.length)&&void 0!==t?t:k.length?S[0]+k[0].length:0;return new g(d[e.topID],k.reverse(),S.reverse(),_)}var C=new WeakMap;function A(e,t){if(!e.isAnonymous||t instanceof b||t.type!=e)return 1;var n=C.get(t);if(null==n){n=1;var r,o=(0,i.Z)(t.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.type!=e||!(a instanceof g)){n=1;break}n+=A(e,a)}}catch(s){o.e(s)}finally{o.f()}C.set(t,n)}return n}function R(e,t,n,r,i,o,a,s,u){for(var l=0,c=r;c<i;c++)l+=A(e,t[c]);var h=Math.ceil(1.5*l/8),f=[],d=[];return function t(n,r,i,a,s){for(var l=i;l<a;){var c=l,p=r[l],v=A(e,n[l]);for(l++;l<a;l++){var m=A(e,n[l]);if(v+m>=h)break;v+=m}if(l==c+1){if(v>h){var g=n[c];t(g.children,g.positions,0,g.children.length,r[c]+s);continue}f.push(n[c])}else{var y=r[l-1]+n[l-1].length-p;f.push(R(e,n,r,c,l,p,y,null,u))}d.push(p+s-o)}}(t,n,r,i,0),(s||u)(f,d,a)}var L=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];(0,a.Z)(this,e),this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}return(0,o.Z)(e,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[new e(0,t.length,t,0,!1,o)],s=(0,i.Z)(r);try{for(s.s();!(n=s.n()).done;){var u=n.value;u.to>t.length&&a.push(u)}}catch(l){s.e(l)}finally{s.f()}return a}},{key:"applyChanges",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!n.length)return t;for(var i=[],o=1,a=t.length?t[0]:null,s=0,u=0,l=0;;s++){var c=s<n.length?n[s]:null,h=c?c.fromA:1e9;if(h-u>=r)for(;a&&a.from<h;){var f=a;if(u>=f.from||h<=f.to||l){var d=Math.max(f.from,u)-l,p=Math.min(f.to,h)-l;f=d>=p?null:new e(d,p,f.tree,f.offset+l,s>0,!!c)}if(f&&i.push(f),a.to>h)break;a=o<t.length?t[o++]:null}if(!c)break;u=c.toA,l=c.toA-c.toB}return i}}]),e}(),Q=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,[{key:"startParse",value:function(e,t,n){return"string"==typeof e&&(e=new D(e)),n=n?n.length?n.map((function(e){return new l(e.from,e.to)})):[new l(0,0)]:[new l(0,e.length)],this.createParse(e,t||[],n)}},{key:"parse",value:function(e,t,n){for(var r=this.startParse(e,t,n);;){var i=r.advance();if(i)return i}}}]),e}(),D=function(){function e(t){(0,a.Z)(this,e),this.string=t}return(0,o.Z)(e,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,t){return this.string.slice(e,t)}}]),e}();function Z(e){return function(t,n,r,i){return new j(t,e,n,r,i)}}var I=(0,o.Z)((function e(t,n,r,i,o){(0,a.Z)(this,e),this.parser=t,this.parse=n,this.overlay=r,this.target=i,this.ranges=o})),N=(0,o.Z)((function e(t,n,r,i,o,s,u){(0,a.Z)(this,e),this.parser=t,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=u,this.depth=0,this.ranges=[]})),z=new c({perNode:!0}),j=function(){function e(t,n,r,i,o){(0,a.Z)(this,e),this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}return(0,o.Z)(e,[{key:"advance",value:function(){if(this.baseParse){var e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt){var t,n=(0,i.Z)(this.inner);try{for(n.s();!(t=n.n()).done;){t.value.parse.stopAt(this.stoppedAt)}}catch(u){n.e(u)}finally{n.f()}}}if(this.innerDone==this.inner.length){var r=this.baseTree;return null!=this.stoppedAt&&(r=new g(r.type,r.children,r.positions,r.length,r.propValues.concat([[z,this.stoppedAt]]))),r}var o=this.inner[this.innerDone],a=o.parse.advance();if(a){this.innerDone++;var s=Object.assign(Object.create(null),o.target.props);s[c.mounted.id]=new h(a,o.overlay,o.parser),o.target.props=s}return null}},{key:"parsedPos",get:function(){if(this.baseParse)return 0;for(var e=this.input.length,t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}},{key:"stopAt",value:function(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(var t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}},{key:"startInner",value:function(){var e=new V(this.fragments),t=null,n=null,r=new M(new k(this.baseTree,this.ranges[0].from,0,null),1);e:for(var o,a;null==this.stoppedAt||r.from<this.stoppedAt;){var s=!0,u=void 0;if(e.hasNode(r)){if(t){var c=t.mounts.find((function(e){return e.frag.from<=r.from&&e.frag.to>=r.to&&e.mount.overlay}));if(c){var h,f=(0,i.Z)(c.mount.overlay);try{for(f.s();!(h=f.n()).done;){var d=h.value,p=d.from+c.pos,v=d.to+c.pos;p>=r.from&&v<=r.to&&t.ranges.push({from:p,to:v})}}catch(b){f.e(b)}finally{f.f()}}}s=!1}else if(n&&(a=W(n.ranges,r.from,r.to)))s=2!=a;else if(!r.type.isAnonymous&&r.from<r.to&&(o=this.nest(r,this.input))){r.tree||F(r);var m=e.findMounts(r.from,o.parser);if("function"==typeof o.overlay)t=new N(o.parser,o.overlay,m,this.inner.length,r.from,r.tree,t);else{var g=U(this.ranges,o.overlay||[new l(r.from,r.to)]);g.length&&this.inner.push(new I(o.parser,o.parser.startParse(this.input,H(m,g),g),o.overlay?o.overlay.map((function(e){return new l(e.from-r.from,e.to-r.from)})):null,r.tree,g)),o.overlay?g.length&&(n={ranges:g,depth:0,prev:n}):s=!1}}else t&&(u=t.predicate(r))&&(!0===u&&(u=new l(r.from,r.to)),u.from<u.to&&t.ranges.push(u));if(s&&r.firstChild())t&&t.depth++,n&&n.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(t&&!--t.depth){var y=U(this.ranges,t.ranges);y.length&&this.inner.splice(t.index,0,new I(t.parser,t.parser.startParse(this.input,H(t.mounts,y),y),t.ranges.map((function(e){return new l(e.from-t.start,e.to-t.start)})),t.target,y)),t=t.prev}n&&!--n.depth&&(n=n.prev)}}}}]),e}();function W(e,t,n){var r,o=(0,i.Z)(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.from>=n)break;if(a.to>t)return a.from<=t&&a.to>=n?2:1}}catch(s){o.e(s)}finally{o.f()}return 0}function B(e,t,n,r,i,o){if(t<n){var a=e.buffer[t+1],s=e.buffer[n-2];r.push(e.slice(t,n,a,s)),i.push(a-o)}}function F(e){var t=e.node,n=0;do{e.parent(),n++}while(!e.tree);for(var r=0,i=e.tree,o=0;!((o=i.positions[r]+e.from)<=t.from&&o+i.children[r].length>=t.to);r++);var a=i.children[r],s=a.buffer;i.children[r]=function e(n,r,i,u,l){for(var c=n;s[c+2]+o<=t.from;)c=s[c+3];var h=[],f=[];B(a,n,c,h,f,u);var d=s[c+1],p=s[c+2],v=d+o==t.from&&p+o==t.to&&s[c]==t.type.id;return h.push(v?t.toTree():e(c+4,s[c+3],a.set.types[s[c]],d,p-d)),f.push(d-u),B(a,s[c+3],r,h,f,u),new g(i,h,f,l)}(0,s.length,d.none,0,a.length);for(var u=0;u<=n;u++)e.childAfter(t.from)}var $=function(){function e(t,n){(0,a.Z)(this,e),this.offset=n,this.done=!1,this.cursor=t.fullCursor()}return(0,o.Z)(e,[{key:"moveTo",value:function(e){for(var t=this.cursor,n=e-this.offset;!this.done&&t.from<n;)t.to>=e&&t.enter(n,1,!1,!1)||t.next(!1)||(this.done=!0)}},{key:"hasNode",value:function(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(var t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof g))break;t=t.children[0]}return!1}}]),e}(),V=function(){function e(t){var n;if((0,a.Z)(this,e),this.fragments=t,this.curTo=0,this.fragI=0,t.length){var r=this.curFrag=t[0];this.curTo=null!==(n=r.tree.prop(z))&&void 0!==n?n:r.to,this.inner=new $(r.tree,-r.offset)}else this.curFrag=this.inner=null}return(0,o.Z)(e,[{key:"hasNode",value:function(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}},{key:"nextFrag",value:function(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{var t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(z))&&void 0!==e?e:t.to,this.inner=new $(t.tree,-t.offset)}}},{key:"findMounts",value:function(e,t){var n,r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(var i=this.inner.cursor.node;i;i=i.parent){var o=null===(n=i.tree)||void 0===n?void 0:n.prop(c.mounted);if(o&&o.parser==t)for(var a=this.fragI;a<this.fragments.length;a++){var s=this.fragments[a];if(s.from>=i.to)break;s.tree==this.curFrag.tree&&r.push({frag:s,pos:i.from-s.offset,mount:o})}}}return r}}]),e}();function U(e,t){for(var n=null,r=t,i=1,o=0;i<e.length;i++)for(var a=e[i-1].to,s=e[i].from;o<r.length;o++){var u=r[o];if(u.from>=s)break;u.to<=a||(n||(r=n=t.slice()),u.from<a?(n[o]=new l(u.from,a),u.to>s&&n.splice(o+1,0,new l(s,u.to))):u.to>s?n[o--]=new l(s,u.to):n.splice(o--,1))}return r}function H(e,t){var n,r=[],o=(0,i.Z)(e);try{var a=function(){var e=n.value,i=e.pos,o=e.mount,a=e.frag,s=i+(o.overlay?o.overlay[0].from:0),u=s+o.tree.length,c=Math.max(a.from,s),h=Math.min(a.to,u);if(o.overlay)for(var f=o.overlay.map((function(e){return new l(e.from+i,e.to+i)})),d=function(e,t,n,r){for(var i=0,o=0,a=!1,s=!1,u=-1e9,c=[];;){var h=i==e.length?1e9:a?e[i].to:e[i].from,f=o==t.length?1e9:s?t[o].to:t[o].from;if(a!=s){var d=Math.max(u,n),p=Math.min(h,f,r);d<p&&c.push(new l(d,p))}if(1e9==(u=Math.min(h,f)))break;h==u&&(a?(a=!1,i++):a=!0),f==u&&(s?(s=!1,o++):s=!0)}return c}(t,f,c,h),p=0,v=c;;p++){var m=p==d.length,g=m?h:d[p].from;if(g>v&&r.push(new L(v,g,o.tree,-s,a.from>=v,a.to<=g)),m)break;v=d[p].to}else r.push(new L(c,h,o.tree,-s,a.from>=s,a.to<=u))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return r}},3242:function(e,t,n){"use strict";n.d(t,{IK:function(){return R},Jq:function(){return b},WQ:function(){return L}});var r,i=n(3433),o=n(136),a=n(9388),s=n(7762),u=n(5671),l=n(3144),c=n(4499),h=function(){function e(t,n,r,i,o,a,s,l,c){var h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,f=arguments.length>10?arguments[10]:void 0;(0,u.Z)(this,e),this.p=t,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=a,this.buffer=s,this.bufferBase=l,this.curContext=c,this.lookAhead=h,this.parent=f}return(0,l.Z)(e,[{key:"toString",value:function(){return"[".concat(this.stack.filter((function(e,t){return t%3==0})).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}},{key:"context",get:function(){return this.curContext?this.curContext.context:null}},{key:"pushState",value:function(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}},{key:"reduce",value:function(e){var t=e>>19,n=65535&e,r=this.p.parser,i=r.dynamicPrecedence(n);if(i&&(this.score+=i),0==t)return n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.pushState(r.getGoto(this.state,n,!0),this.reducePos),void this.reduceContext(n,this.reducePos);var o=this.stack.length-3*(t-1)-(262144&e?6:0),a=this.stack[o-2],s=this.stack[o-1],u=this.bufferBase+this.buffer.length-s;if(n<r.minRepeatTerm||131072&e){var l=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,a,l,u+4,!0)}if(262144&e)this.state=this.stack[o];else{var c=this.stack[o-3];this.state=r.getGoto(c,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n,a)}},{key:"storeNode",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==e){var o=this,a=this.buffer.length;if(0==a&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&0==o.buffer[a-4]&&o.buffer[a-1]>-1){if(t==n)return;if(o.buffer[a-2]>=t)return void(o.buffer[a-2]=n)}}if(i&&this.pos!=n){var s=this.buffer.length;if(s>0&&0!=this.buffer[s-4])for(;s>0&&this.buffer[s-2]>n;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,r>4&&(r-=4);this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=n,this.buffer[s+3]=r}else this.buffer.push(e,t,n,r)}},{key:"shift",value:function(e,t,n){var r=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){var i=e,o=this.p.parser;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(i,1)||(this.reducePos=n)),this.pushState(i,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,n,4)}else this.pos=n,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,n,4)}},{key:"apply",value:function(e,t,n){65536&e?this.reduce(e):this.shift(e,t,n)}},{key:"useNode",value:function(e,t){var n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);var r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}},{key:"split",value:function(){for(var t=this,n=t.buffer.length;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;for(var r=t.buffer.slice(n),i=t.bufferBase+n;t&&i==t.bufferBase;)t=t.parent;return new e(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,t)}},{key:"recoverByDelete",value:function(e,t){var n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}},{key:"canShift",value:function(e){for(var t=new d(this);;){var n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&n))return!0;if(0==n)return!1;t.reduce(n)}}},{key:"recoverByInsert",value:function(e){if(this.stack.length>=300)return[];var t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){for(var n,r=[],i=0;i<t.length;i+=2)(n=t[i+1])!=this.state&&this.p.parser.hasAction(n,e)&&r.push(t[i],n);if(this.stack.length<120)for(var o=function(e){var n=t[e+1];r.some((function(e,t){return 1&t&&e==n}))||r.push(t[e],n)},a=0;r.length<8&&a<t.length;a+=2)o(a);t=r}for(var s=[],u=0;u<t.length&&s.length<4;u+=2){var l=t[u+1];if(l!=this.state){var c=this.split();c.storeNode(0,c.pos,c.pos,4,!0),c.pushState(l,this.pos),c.shiftContext(t[u],this.pos),c.score-=200,s.push(c)}}return s}},{key:"forceReduce",value:function(){var e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;var t=this.p.parser;if(!t.validAction(this.state,e)){var n=e>>19,r=65535&e,i=this.stack.length-3*n;if(i<0||t.getGoto(this.stack[i],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reduce(e),!0}},{key:"forceAll",value:function(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}},{key:"deadEnd",get:function(){if(3!=this.stack.length)return!1;var e=this.p.parser;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}},{key:"restart",value:function(){this.state=this.stack[0],this.stack.length=0}},{key:"sameState",value:function(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(var t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}},{key:"parser",get:function(){return this.p.parser}},{key:"dialectEnabled",value:function(e){return this.p.parser.dialect.flags[e]}},{key:"shiftContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"reduceContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"emitContext",value:function(){var e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}},{key:"emitLookAhead",value:function(){var e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}},{key:"updateContext",value:function(e){if(e!=this.curContext.context){var t=new f(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}},{key:"setLookAhead",value:function(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}},{key:"close",value:function(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}],[{key:"start",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.parser.context;return new e(t,[],n,r,r,0,[],0,i?new f(i,i.start):null,0,null)}}]),e}(),f=(0,l.Z)((function e(t,n){(0,u.Z)(this,e),this.tracker=t,this.context=n,this.hash=t.strict?t.hash(n):0}));!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(r||(r={}));var d=function(){function e(t){(0,u.Z)(this,e),this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}return(0,l.Z)(e,[{key:"reduce",value:function(e){var t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);var r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}]),e}(),p=function(){function e(t,n,r){(0,u.Z)(this,e),this.stack=t,this.pos=n,this.index=r,this.buffer=t.buffer,0==this.index&&this.maybeNext()}return(0,l.Z)(e,[{key:"maybeNext",value:function(){var e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}},{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"next",value:function(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}},{key:"fork",value:function(){return new e(this.stack,this.pos,this.index)}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.bufferBase+t.buffer.length;return new e(t,n,n-t.bufferBase)}}]),e}(),v=(0,l.Z)((function e(){(0,u.Z)(this,e),this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0})),m=new v,g=function(){function e(t,n){(0,u.Z)(this,e),this.input=t,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=m,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}return(0,l.Z)(e,[{key:"resolveOffset",value:function(e,t){for(var n=this.range,r=this.rangeIndex,i=this.pos+e;i<n.from;){if(!r)return null;var o=this.ranges[--r];i-=n.from-o.to,n=o}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;var a=this.ranges[++r];i+=a.from-n.to,n=a}return i}},{key:"peek",value:function(e){var t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{var i=this.resolveOffset(e,1);if(null==i)return-1;if((t=i)>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{for(var o=this.rangeIndex,a=this.range;a.to<=t;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}},{key:"acceptToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}},{key:"getChunk",value:function(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){var e=this.chunk,t=this.chunkPos;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;var n=this.input.chunk(this.pos),r=this.pos+n.length;this.chunk=r>this.range.to?n.slice(0,this.range.to-this.pos):n,this.chunkPos=this.pos,this.chunkOff=0}}},{key:"readNext",value:function(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}},{key:"advance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}},{key:"setDone",value:function(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}},{key:"reset",value:function(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=m,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}},{key:"read",value:function(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);var n,r="",i=(0,s.Z)(this.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.from>=t)break;o.to>e&&(r+=this.input.read(Math.max(o.from,e),Math.min(o.to,t)))}}catch(a){i.e(a)}finally{i.f()}return r}}]),e}(),y=function(){function e(t,n){(0,u.Z)(this,e),this.data=t,this.id=n}return(0,l.Z)(e,[{key:"token",value:function(e,t){!function(e,t,n,r){var i=0,o=1<<r,a=n.p.parser,s=a.dialect;e:for(;0!=(o&e[i]);){for(var u=e[i+1],l=i+3;l<u;l+=2)if((e[l+1]&o)>0){var c=e[l];if(s.allows(c)&&(-1==t.token.value||t.token.value==c||a.overrides(c,t.token.value))){t.acceptToken(c);break}}for(var h=t.next,f=0,d=e[i+2];f<d;){var p=f+d>>1,v=u+p+(p<<1),m=e[v],g=e[v+1];if(h<m)d=p;else{if(!(h>=g)){i=e[v+2],t.advance();continue e}f=p+1}}break}}(this.data,e,t,this.id)}}]),e}();y.prototype.contextual=y.prototype.fallback=y.prototype.extend=!1;var b=(0,l.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,u.Z)(this,e),this.token=t,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}));function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof e)return e;for(var n=null,r=0,i=0;r<e.length;){for(var o=0;;){var a=e.charCodeAt(r++),s=!1;if(126==a){o=65535;break}a>=92&&a--,a>=34&&a--;var u=a-32;if(u>=46&&(u-=46,s=!0),o+=u,s)break;o*=46}n?n[i++]=o:n=new t(o)}return n}var x,w="undefined"!=typeof process&&/\bparse\b/.test({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.LOG),k=null;function S(e,t,n){var r=e.fullCursor();for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(x||(x={}));var _,T=function(){function e(t,n){(0,u.Z)(this,e),this.fragments=t,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}return(0,l.Z)(e,[{key:"nextFragment",value:function(){var e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?S(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?S(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}},{key:"nodeAt",value:function(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){var t=this.trees.length-1;if(t<0)return this.nextFragment(),null;var n=this.trees[t],r=this.index[t];if(r!=n.children.length){var i=n.children[r],o=this.start[t]+n.positions[r];if(o>e)return this.nextStart=o,null;if(i instanceof c.mp){if(o==e){if(o<this.safeFrom)return null;var a=o+i.length;if(a<=this.safeTo){var s=i.prop(c.md.lookAhead);if(!s||a+s<this.fragment.to)return i}}this.index[t]++,o+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+i.length}else this.trees.pop(),this.start.pop(),this.index.pop()}}}]),e}(),M=function(){function e(t,n){(0,u.Z)(this,e),this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((function(e){return new v}))}return(0,l.Z)(e,[{key:"getActions",value:function(e){for(var t=0,n=null,r=e.p.parser,i=r.tokenizers,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,s=0,u=0;u<i.length;u++)if(0!=(1<<u&o)){var l=i[u],c=this.tokens[u];if((!n||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=o||c.context!=a)&&(this.updateCachedToken(c,l,e),c.mask=o,c.context=a),c.lookAhead>c.end+25&&(s=Math.max(c.lookAhead,s)),0!=c.value)){var h=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(n=c,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return s&&e.setLookAhead(s),n||e.pos!=this.stream.end||((n=new v).value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}},{key:"getMainToken",value:function(e){if(this.mainToken)return this.mainToken;var t=new v,n=e.pos,r=e.p;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}},{key:"updateCachedToken",value:function(e,t,n){if(t.token(this.stream.reset(n.pos,e),n),e.value>-1){for(var r=n.p.parser,i=0;i<r.specialized.length;i++)if(r.specialized[i]==e.value){var o=r.specializers[i](this.stream.read(e.start,e.end),n);if(o>=0&&n.p.parser.dialect.allows(o>>1)){0==(1&o)?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=Math.min(n.p.stream.end,n.pos+1)}},{key:"putAction",value:function(e,t,n,r){for(var i=0;i<r;i+=3)if(this.actions[i]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}},{key:"addActions",value:function(e,t,n,r){for(var i=e.state,o=e.p.parser,a=o.data,s=0;s<2;s++)for(var u=o.stateSlot(i,s?2:1);;u+=3){if(65535==a[u]){if(1!=a[u+1]){0==r&&2==a[u+1]&&(r=this.putAction(Q(a,u+1),t,n,r));break}u=Q(a,u+2)}a[u]==t&&(r=this.putAction(Q(a,u+1),t,n,r))}return r}}]),e}();!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(_||(_={}));var E=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.parser=t,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new g(n,i),this.tokens=new M(t,this.stream),this.topTerm=t.top[1];var o=i[0].from;this.stacks=[h.start(this,t.top[0],o)],this.fragments=r.length&&this.stream.end-o>4*t.bufferLength?new T(r,t.nodeSet):null}return(0,l.Z)(e,[{key:"parsedPos",get:function(){return this.minStackPos}},{key:"advance",value:function(){for(var e,t,n=this.stacks,r=this.minStackPos,i=this.stacks=[],o=0;o<n.length;o++)for(var a=n[o];;){if(this.tokens.mainToken=null,a.pos>r)i.push(a);else{if(this.advanceStack(a,i,n))continue;e||(e=[],t=[]),e.push(a);var u=this.tokens.getMainToken(a);t.push(u.value,u.end)}break}if(!i.length){var l=e&&function(e){var t,n=null,r=(0,s.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=o&&i.pos>o)&&i.p.parser.stateFlag(i.state,2)&&(!n||n.score<i.score)&&(n=i)}}catch(a){r.e(a)}finally{r.f()}return n}(e);if(l)return this.stackToTree(l);if(this.parser.strict)throw w&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){var c=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(c)return this.stackToTree(c.forceAll())}if(this.recovering){var h=1==this.recovering?1:3*this.recovering;if(i.length>h)for(i.sort((function(e,t){return t.score-e.score}));i.length>h;)i.pop();i.some((function(e){return e.reducePos>r}))&&this.recovering--}else if(i.length>1)e:for(var f=0;f<i.length-1;f++)for(var d=i[f],p=f+1;p<i.length;p++){var v=i[p];if(d.sameState(v)||d.buffer.length>500&&v.buffer.length>500){if(!((d.score-v.score||d.buffer.length-v.buffer.length)>0)){i.splice(f--,1);continue e}i.splice(p--,1)}}this.minStackPos=i[0].pos;for(var m=1;m<i.length;m++)i[m].pos<this.minStackPos&&(this.minStackPos=i[m].pos);return null}},{key:"stopAt",value:function(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}},{key:"advanceStack",value:function(e,t,n){var r=e.pos,i=this.parser,o=w?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments)for(var a=e.curContext&&e.curContext.tracker.strict,s=a?e.curContext.hash:0,u=this.fragments.nodeAt(r);u;){var l=this.parser.nodeSet.types[u.type.id]==u.type?i.getGoto(e.state,u.type.id):-1;if(l>-1&&u.length&&(!a||(u.prop(c.md.contextHash)||0)==s))return e.useNode(u,l),w&&console.log(o+this.stackID(e)+" (via reuse of ".concat(i.getName(u.type.id),")")),!0;if(!(u instanceof c.mp)||0==u.children.length||u.positions[0]>0)break;var h=u.children[0];if(!(h instanceof c.mp&&0==u.positions[0]))break;u=h}var f=i.stateSlot(e.state,4);if(f>0)return e.reduce(f),w&&console.log(o+this.stackID(e)+" (via always-reduce ".concat(i.getName(65535&f),")")),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););for(var d=this.tokens.getActions(e),p=0;p<d.length;){var v=d[p++],m=d[p++],g=d[p++],y=p==d.length||!n,b=y?e:e.split();if(b.apply(v,m,g),w&&console.log(o+this.stackID(b)+" (via ".concat(0==(65536&v)?"shift":"reduce of ".concat(i.getName(65535&v))," for ").concat(i.getName(m)," @ ").concat(r).concat(b==e?"":", split",")")),y)return!0;b.pos>r?t.push(b):n.push(b)}return!1}},{key:"advanceFully",value:function(e,t){for(var n=e.pos;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return P(e,t),!0}}},{key:"runRecovery",value:function(e,t,n){for(var r=null,i=!1,o=0;o<e.length;o++){var a=e[o],u=t[o<<1],l=t[1+(o<<1)],c=w?this.stackID(a)+" -> ":"";if(a.deadEnd){if(i)continue;if(i=!0,a.restart(),w&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))continue}for(var h=a.split(),f=c,d=0;h.forceReduce()&&d<10;d++){if(w&&console.log(f+this.stackID(h)+" (via force-reduce)"),this.advanceFully(h,n))break;w&&(f=this.stackID(h)+" -> ")}var p,v=(0,s.Z)(a.recoverByInsert(u));try{for(v.s();!(p=v.n()).done;){var m=p.value;w&&console.log(c+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,n)}}catch(g){v.e(g)}finally{v.f()}this.stream.end>a.pos?(l==a.pos&&(l++,u=0),a.recoverByDelete(u,l),w&&console.log(c+this.stackID(a)+" (via recover-delete ".concat(this.parser.getName(u),")")),P(a,n)):(!r||r.score<a.score)&&(r=a)}return r}},{key:"stackToTree",value:function(e){return e.close(),c.mp.build({buffer:p.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}},{key:"stackID",value:function(e){var t=(k||(k=new WeakMap)).get(e);return t||k.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}]),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}var C=function(){function e(t,n,r){(0,u.Z)(this,e),this.source=t,this.flags=n,this.disabled=r}return(0,l.Z)(e,[{key:"allows",value:function(e){return!this.disabled||0==this.disabled[e]}}]),e}(),A=function(e){return e},R=(0,l.Z)((function e(t){(0,u.Z)(this,e),this.start=t.start,this.shift=t.shift||A,this.reduce=t.reduce||A,this.reuse=t.reuse||A,this.hash=t.hash||function(){return 0},this.strict=!1!==t.strict})),L=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;if((0,u.Z)(this,n),(r=t.call(this)).wrappers=[],13!=e.version)throw new RangeError("Parser version (".concat(e.version,") doesn't match runtime version (",13,")"));var i=e.nodeNames.split(" ");r.minRepeatTerm=i.length;for(var o=0;o<e.repeatNodeCount;o++)i.push("");for(var a=Object.keys(e.topRules).map((function(t){return e.topRules[t][1]})),l=[],h=0;h<i.length;h++)l.push([]);function f(e,t,n){l[e].push([t,t.deserialize(String(n))])}if(e.nodeProps){var d,p=(0,s.Z)(e.nodeProps);try{for(p.s();!(d=p.n()).done;)for(var v=d.value,m=v[0],g=1;g<v.length;){var b=v[g++];if(b>=0)f(b,m,v[g++]);else{for(var x=v[g+-b],w=-b;w>0;w--)f(v[g++],m,x);g++}}}catch(_){p.e(_)}finally{p.f()}}r.nodeSet=new c.Lj(i.map((function(t,n){return c.Jq.define({name:n>=r.minRepeatTerm?void 0:t,id:n,props:l[n],top:a.indexOf(n)>-1,error:0==n,skipped:e.skippedNodes&&e.skippedNodes.indexOf(n)>-1})}))),r.strict=!1,r.bufferLength=c.L3;var k=O(e.tokenData);if(r.context=e.context,r.specialized=new Uint16Array(e.specialized?e.specialized.length:0),r.specializers=[],e.specialized)for(var S=0;S<e.specialized.length;S++)r.specialized[S]=e.specialized[S].term,r.specializers[S]=e.specialized[S].get;return r.states=O(e.states,Uint32Array),r.data=O(e.stateData),r.goto=O(e.goto),r.maxTerm=e.maxTerm,r.tokenizers=e.tokenizers.map((function(e){return"number"==typeof e?new y(k,e):e})),r.topRules=e.topRules,r.dialects=e.dialects||{},r.dynamicPrecedences=e.dynamicPrecedences||null,r.tokenPrecTable=e.tokenPrec,r.termNames=e.termNames||null,r.maxNode=r.nodeSet.types.length-1,r.dialect=r.parseDialect(),r.top=r.topRules[Object.keys(r.topRules)[0]],r}return(0,l.Z)(n,[{key:"createParse",value:function(e,t,n){var r,i=new E(this,e,t,n),o=(0,s.Z)(this.wrappers);try{for(o.s();!(r=o.n()).done;){i=(0,r.value)(i,e,t,n)}}catch(a){o.e(a)}finally{o.f()}return i}},{key:"getGoto",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.goto;if(t>=r[0])return-1;for(var i=r[t+1];;){var o=r[i++],a=1&o,s=r[i++];if(a&&n)return s;for(var u=i+(o>>1);i<u;i++)if(r[i]==e)return s;if(a)return-1}}},{key:"hasAction",value:function(e,t){for(var n=this.data,r=0;r<2;r++)for(var i,o=this.stateSlot(e,r?2:1);;o+=3){if(65535==(i=n[o])){if(1!=n[o+1]){if(2==n[o+1])return Q(n,o+2);break}i=n[o=Q(n,o+2)]}if(i==t||0==i)return Q(n,o+1)}return 0}},{key:"stateSlot",value:function(e,t){return this.states[6*e+t]}},{key:"stateFlag",value:function(e,t){return(this.stateSlot(e,0)&t)>0}},{key:"validAction",value:function(e,t){if(t==this.stateSlot(e,4))return!0;for(var n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=Q(this.data,n+2)}if(t==Q(this.data,n+1))return!0}}},{key:"nextStates",value:function(e){for(var t=this,n=[],r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=Q(this.data,r+2)}0==(1&this.data[r+2])&&function(){var e=t.data[r+1];n.some((function(t,n){return 1&n&&t==e}))||n.push(t.data[r],e)}()}return n}},{key:"overrides",value:function(e,t){var n=D(this.data,this.tokenPrecTable,t);return n<0||D(this.data,this.tokenPrecTable,e)<n}},{key:"configure",value:function(e){var t,r=Object.assign(Object.create(n.prototype),this);if(e.props&&(r.nodeSet=(t=this.nodeSet).extend.apply(t,(0,i.Z)(e.props))),e.top){var o=this.topRules[e.top];if(!o)throw new RangeError("Invalid top rule name ".concat(e.top));r.top=o}return e.tokenizers&&(r.tokenizers=this.tokenizers.map((function(t){var n=e.tokenizers.find((function(e){return e.from==t}));return n?n.to:t}))),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),null!=e.bufferLength&&(r.bufferLength=e.bufferLength),r}},{key:"getName",value:function(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}},{key:"eofTerm",get:function(){return this.maxNode+1}},{key:"topNode",get:function(){return this.nodeSet.types[this.top[1]]}},{key:"dynamicPrecedence",value:function(e){var t=this.dynamicPrecedences;return null==t?0:t[e]||0}},{key:"parseDialect",value:function(e){var t=Object.keys(this.dialects),n=t.map((function(){return!1}));if(e){var r,i=(0,s.Z)(e.split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t.indexOf(o);a>=0&&(n[a]=!0)}}catch(f){i.e(f)}finally{i.f()}}for(var u=null,l=0;l<t.length;l++)if(!n[l])for(var c,h=this.dialects[t[l]];65535!=(c=this.data[h++]);)(u||(u=new Uint8Array(this.maxTerm+1)))[c]=1;return new C(e,n,u)}}],[{key:"deserialize",value:function(e){return new n(e)}}]),n}(c._b);function Q(e,t){return e[t]|e[t+1]<<16}function D(e,t,n){for(var r,i=t;65535!=(r=e[i]);i++)if(r==n)return i-t;return-1}},5745:function(e,t,n){"use strict";n.d(t,{V:function(){return u}});var r=n(5671),i=n(3144),o="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),a="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},u=function(){function e(t,n){(0,r.Z)(this,e),this.rules=[];var i=(n||{}).finish;function o(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function a(e,t,n,r){var s=[],u=/^@(\w+)\b/.exec(e[0]),l=u&&"keyframes"==u[1];if(u&&null==t)return n.push(e[0]+";");for(var c in t){var h=t[c];if(/&/.test(c))a(c.split(/,\s*/).map((function(t){return e.map((function(e){return t.replace(/&/,e)}))})).reduce((function(e,t){return e.concat(t)})),h,n);else if(h&&"object"==typeof h){if(!u)throw new RangeError("The value of a property ("+c+") should be a primitive value.");a(o(c),h,s,l)}else null!=h&&s.push(c.replace(/_.*/,"").replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))+": "+h+";")}(s.length||l)&&n.push((!i||u||r?e:e.map(i)).join(", ")+" {"+s.join(" ")+"}")}for(var s in t)a(o(s),t[s],this.rules)}return(0,i.Z)(e,[{key:"getRules",value:function(){return this.rules.join("\n")}}],[{key:"newName",value:function(){var e=s[o]||1;return s[o]=e+1,"\u037c"+e.toString(36)}},{key:"mount",value:function(e,t){(e[a]||new c(e)).mount(Array.isArray(t)?t:[t])}}]),e}(),l=null,c=function(){function e(t){if((0,r.Z)(this,e),!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(l)return t.adoptedStyleSheets=[l.sheet].concat(t.adoptedStyleSheets),t[a]=l;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),l=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");var n=t.head||t;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],t[a]=this}return(0,i.Z)(e,[{key:"mount",value:function(e){for(var t=this.sheet,n=0,r=0,i=0;i<e.length;i++){var o=e[i],a=this.modules.indexOf(o);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),-1==a){if(this.modules.splice(r++,0,o),t)for(var s=0;s<o.rules.length;s++)t.insertRule(o.rules[s],n++)}else{for(;r<a;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!t){for(var u="",l=0;l<this.modules.length;l++)u+=this.modules[l].getRules()+"\n";this.styleTag.textContent=u}}}]),e}()},9794:function(e){"use strict";e.exports={version:"1.0.34"}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{27:"150344a7",247:"530d11c6",379:"66e568e8",482:"1c6bbce3",507:"52e49ee5",665:"34da4562",745:"d253975d",787:"8004b0f2",832:"eb8d73b3",1003:"8c696766",1100:"2d1999f1",1198:"77090e32",1508:"464b6cdf",1553:"d49469d5",1586:"3d348861",1686:"b45fe330",1736:"5966526e",1742:"5f350732",1972:"a9087497",1983:"8e7ac617",2034:"761b4cd3",2355:"90ae78d2",2368:"5675983a",2412:"521b2293",2458:"d4eff513",2534:"03cd4a91",2568:"8018e343",2757:"dff00d08",2975:"48b7c6ec",3037:"f6b45aee",3093:"d94dc6f5",3104:"949d6946",3113:"dc4b9d73",3464:"a216b2b7",3545:"cca2459c",3691:"886c0348",3713:"e74948cf",3905:"32bbcb58",3928:"aec2c5d5",4042:"5d3decbb",4267:"1a771bee",4307:"5a4a865a",4322:"69e9ff05",4325:"2b5c2023",4341:"91a4044f",4510:"655a4b25",4596:"a414d311",4637:"3dff67da",5136:"4e81a0a7",5266:"bda99d2f",5312:"5789bc77",5399:"42141c11",5448:"7dc15304",5531:"e99d0269",5565:"6d748209",5709:"fcf6351e",5987:"3f7c2db4",6066:"3ab66c29",6176:"50fc68bd",6178:"f0dc2d5b",6286:"3e9a2872",6305:"d78e63af",6525:"b71f430c",6633:"1748acfb",6658:"430d8c00",6678:"d042ad9c",6781:"1f8b4b3d",6886:"b13fdf08",6928:"0b484fae",6951:"b7413b00",6967:"fe4949da",7080:"62386867",7110:"777ccac9",7299:"80b16ba0",7308:"6992000d",7352:"166ac1f1",7386:"67e083a3",7482:"c557bc0e",7798:"c1bd640e",7934:"daf772f8",8054:"372f2776",8181:"6e4074fe",8198:"adea9a74",8222:"247ddd10",8311:"325bde63",8377:"95c0610e",8430:"9d302b34",8456:"47e489a4",8471:"42999a91",8545:"00237b9a",8625:"318207c6",8646:"53cd3731",8751:"c1942f7d",8850:"9add343b",8999:"0d701870",9150:"58887553",9427:"9635ec1a",9461:"ee51d73e",9595:"b05b3bf3",9616:"6d245a41",9738:"c655311a",9892:"51e19dd2",9921:"75f1959e",9940:"d43879c2",9969:"68997609",9975:"f348e36c",9997:"6e0522d9"}[e]+".chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="linalg-fdg:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunklinalg_fdg=self.webpackChunklinalg_fdg||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(2791),t=n(4164);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e,t){var n=new Set(t);return Object.assign.apply(Object,[{}].concat(o(Object.entries(e).filter((function(e){var t=i(e,1)[0];return!n.has(t)})).map((function(e){var t=i(e,2);return r({},t[0],t[1])})))))},l=n(1189),c=n.n(l);function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(t,n){var r="object"===h(n)?n:{wrapperElementType:n,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},i=r.wrapperElementType,o=void 0===i?"div":i,a=r.nodeMapper,s=void 0===a?function(e){return e}:a,l=r.methodNames,p=void 0===l?[]:l,v=r.initPropNames,m=void 0===v?[]:v;return(0,e.forwardRef)((function(n,r){var i=(0,e.useRef)(),a=f((0,e.useState)({}),2),l=a[0],h=a[1];(0,e.useEffect)((function(){return h(n)}));var v=(0,e.useMemo)((function(){var e=c()(m.filter((function(e){return n.hasOwnProperty(e)})).map((function(e){return[e,n[e]]})));return t(e)}),[]);(0,e.useLayoutEffect)((function(){v(s(i.current))}),[]),(0,e.useEffect)((function(){return v._destructor instanceof Function?v._destructor:void 0}),[]);var g=(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v[e]instanceof Function?v[e].apply(v,n):void 0}),[v]),y=u(n,[].concat(d(p),d(m)));return Object.keys(y).filter((function(e){return l[e]!==n[e]})).forEach((function(e){return g(e,n[e])})),(0,e.useImperativeHandle)(r,(function(){return c()(p.map((function(e){return[e,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g.apply(void 0,[e].concat(n))}]})))})),e.createElement(o,{ref:i})}))};function g(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}for(var b,O=n(7762),x=n(4942),w=n(9439),k=n(6215),S=n(1752),_=n(1120),T=n(1413),M=n(7326),E=n(136),P=n(9388),C=n(5671),A=n(3144),R=n(7757),L=n.n(R),Q="136",D={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Z=0,I=1,N=2,z=3,j=100,W=301,B=302,F=303,$=304,V=306,U=307,H=1e3,G=1001,q=1002,X=1003,Y=1004,J=1005,K=1006,ee=1008,te=1009,ne=1012,re=1014,ie=1015,oe=1016,ae=1020,se=1022,ue=1023,le=1026,ce=1027,he=2300,fe=2301,de=2302,pe=2400,ve=2401,me=2402,ge=2500,ye=2501,be=3e3,Oe=3001,xe=7680,we=35044,ke=35048,Se="300 es",_e=function(){function e(){(0,C.Z)(this,e)}return(0,A.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Te=[],Me=0;Me<256;Me++)Te[Me]=(Me<16?"0":"")+Me.toString(16);var Ee=Math.PI/180,Pe=180/Math.PI;function Ce(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Te[255&e]+Te[e>>8&255]+Te[e>>16&255]+Te[e>>24&255]+"-"+Te[255&t]+Te[t>>8&255]+"-"+Te[t>>16&15|64]+Te[t>>24&255]+"-"+Te[63&n|128]+Te[n>>8&255]+"-"+Te[n>>16&255]+Te[n>>24&255]+Te[255&r]+Te[r>>8&255]+Te[r>>16&255]+Te[r>>24&255]).toUpperCase()}function Ae(e,t,n){return Math.max(t,Math.min(n,e))}function Re(e,t){return(e%t+t)%t}function Le(e,t,n){return(1-n)*e+n*t}function Qe(e){return 0===(e&e-1)&&0!==e}function De(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var Ze=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,C.Z)(this,t),this.x=e,this.y=n}return(0,A.Z)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);Ze.prototype.isVector2=!0;var Ie=function(){function e(){(0,C.Z)(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return(0,A.Z)(e,[{key:"set",value:function(e,t,n,r,i,o,a,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],l=n[4],c=n[7],h=n[2],f=n[5],d=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],b=r[7],O=r[2],x=r[5],w=r[8];return i[0]=o*p+a*g+s*O,i[3]=o*v+a*y+s*x,i[6]=o*m+a*b+s*w,i[1]=u*p+l*g+c*O,i[4]=u*v+l*y+c*x,i[7]=u*m+l*b+c*w,i[2]=h*p+f*g+d*O,i[5]=h*v+f*y+d*x,i[8]=h*m+f*b+d*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*o*l-t*a*u-n*i*l+n*a*s+r*i*u-r*o*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=l*o-a*u,h=a*s-l*i,f=u*i-o*s,d=t*c+n*h+r*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return e[0]=c*p,e[1]=(r*u-l*n)*p,e[2]=(a*n-r*o)*p,e[3]=h*p,e[4]=(l*t-r*s)*p,e[5]=(r*i-a*t)*p,e[6]=f*p,e[7]=(n*s-u*t)*p,e[8]=(o*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,o,a){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*o+u*a)+o+e,-r*u,r*s,-r*(-u*o+s*a)+a+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],u=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*u,r[6]=t*a+n*l,r[1]=-n*i+t*s,r[4]=-n*o+t*u,r[7]=-n*a+t*l,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function Ne(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Ie.prototype.isMatrix3=!0;var ze;Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function je(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var We=function(){function e(){(0,C.Z)(this,e)}return(0,A.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===ze&&(ze=je("canvas")),ze.width=e.width,ze.height=e.height;var n=ze.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ze}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}]),e}(),Be=0,Fe=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:K,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ee,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ue,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:te,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:be;return(0,C.Z)(this,n),e=t.call(this),Object.defineProperty((0,M.Z)(e),"id",{value:Be++}),e.uuid=Ce(),e.name="",e.image=r,e.mipmaps=[],e.mapping=i,e.wrapS=o,e.wrapT=a,e.magFilter=s,e.minFilter=u,e.anisotropy=h,e.format=l,e.internalFormat=null,e.type=c,e.offset=new Ze(0,0),e.repeat=new Ze(1,1),e.center=new Ze(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Ie,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e}return(0,A.Z)(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Ce()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)r[o].isDataTexture?i.push($e(r[o].image)):i.push($e(r[o]))}else i=$e(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case H:e.x=e.x-Math.floor(e.x);break;case G:e.x=e.x<0?0:1;break;case q:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case H:e.y=e.y-Math.floor(e.y);break;case G:e.y=e.y<0?0:1;break;case q:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(_e);function $e(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?We.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Fe.DEFAULT_IMAGE=void 0,Fe.DEFAULT_MAPPING=300,Fe.prototype.isTexture=!0;var Ve=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,C.Z)(this,t),this.x=e,this.y=n,this.z=r,this.w=i}return(0,A.Z)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,u=s[0],l=s[4],c=s[8],h=s[1],f=s[5],d=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(l-h)<o&&Math.abs(c-p)<o&&Math.abs(d-v)<o){if(Math.abs(l+h)<a&&Math.abs(c+p)<a&&Math.abs(d+v)<a&&Math.abs(u+f+m-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(f+1)/2,b=(m+1)/2,O=(l+h)/4,x=(c+p)/4,w=(d+v)/4;return g>y&&g>b?g<o?(n=0,r=.707106781,i=.707106781):(r=O/(n=Math.sqrt(g)),i=x/n):y>b?y<o?(n=.707106781,r=0,i=.707106781):(n=O/(r=Math.sqrt(y)),i=w/r):b<o?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var k=Math.sqrt((v-d)*(v-d)+(c-p)*(c-p)+(h-l)*(h-l));return Math.abs(k)<.001&&(k=1),this.x=(v-d)/k,this.y=(c-p)/k,this.z=(h-l)/k,this.w=Math.acos((u+f+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);Ve.prototype.isVector4=!0;var Ue=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,C.Z)(this,n),(i=t.call(this)).width=e,i.height=r,i.depth=1,i.scissor=new Ve(0,0,e,r),i.scissorTest=!1,i.viewport=new Ve(0,0,e,r),i.texture=new Fe(void 0,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),i.texture.isRenderTargetTexture=!0,i.texture.image={width:e,height:r,depth:1},i.texture.generateMipmaps=void 0!==o.generateMipmaps&&o.generateMipmaps,i.texture.internalFormat=void 0!==o.internalFormat?o.internalFormat:null,i.texture.minFilter=void 0!==o.minFilter?o.minFilter:K,i.depthBuffer=void 0===o.depthBuffer||o.depthBuffer,i.stencilBuffer=void 0!==o.stencilBuffer&&o.stencilBuffer,i.depthTexture=void 0!==o.depthTexture?o.depthTexture:null,i}return(0,A.Z)(n,[{key:"setTexture",value:function(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=(0,T.Z)({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(_e);Ue.prototype.isWebGLRenderTarget=!0;var He=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var o;(0,C.Z)(this,n);var a=(o=t.call(this,e,r)).texture;o.texture=[];for(var s=0;s<i;s++)o.texture[s]=a.clone();return o}return(0,A.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}]),n}(Ue);He.prototype.isWebGLMultipleRenderTargets=!0;var Ge=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,C.Z)(this,n),(i=t.call(this,e,r,o)).samples=4,i.ignoreDepthForMultisampleCopy=void 0===o.ignoreDepth||o.ignoreDepth,i.useRenderToTexture=void 0!==o.useRenderToTexture&&o.useRenderToTexture,i.useRenderbuffer=!1===i.useRenderToTexture,i}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}]),n}(Ue);Ge.prototype.isWebGLMultisampleRenderTarget=!0;var qe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,C.Z)(this,e),this._x=t,this._y=n,this._z=r,this._w=i}return(0,A.Z)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,u=a(n/2),l=a(r/2),c=a(i/2),h=s(n/2),f=s(r/2),d=s(i/2);switch(o){case"XYZ":this._x=h*l*c+u*f*d,this._y=u*f*c-h*l*d,this._z=u*l*d+h*f*c,this._w=u*l*c-h*f*d;break;case"YXZ":this._x=h*l*c+u*f*d,this._y=u*f*c-h*l*d,this._z=u*l*d-h*f*c,this._w=u*l*c+h*f*d;break;case"ZXY":this._x=h*l*c-u*f*d,this._y=u*f*c+h*l*d,this._z=u*l*d+h*f*c,this._w=u*l*c-h*f*d;break;case"ZYX":this._x=h*l*c-u*f*d,this._y=u*f*c+h*l*d,this._z=u*l*d-h*f*c,this._w=u*l*c+h*f*d;break;case"YZX":this._x=h*l*c+u*f*d,this._y=u*f*c+h*l*d,this._z=u*l*d-h*f*c,this._w=u*l*c-h*f*d;break;case"XZY":this._x=h*l*c-u*f*d,this._y=u*f*c-h*l*d,this._z=u*l*d+h*f*c,this._w=u*l*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],u=t[2],l=t[6],c=t[10],h=n+a+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(l-s)*f,this._y=(i-u)*f,this._z=(o-r)*f}else if(n>a&&n>c){var d=2*Math.sqrt(1+n-a-c);this._w=(l-s)/d,this._x=.25*d,this._y=(r+o)/d,this._z=(i+u)/d}else if(a>c){var p=2*Math.sqrt(1+a-n-c);this._w=(i-u)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(s+l)/p}else{var v=2*Math.sqrt(1+c-n-a);this._w=(o-r)/v,this._x=(i+u)/v,this._y=(s+l)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Ae(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+o*a+r*u-i*s,this._y=r*l+o*s+i*a-n*u,this._z=i*l+o*u+n*s-r*a,this._w=o*l-n*a-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var u=1-t;return this._w=u*o+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,a),h=Math.sin((1-t)*c)/l,f=Math.sin(t*c)/l;return this._w=o*h+this._w*f,this._x=n*h+this._x*f,this._y=r*h+this._y*f,this._z=i*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===a)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(c!==p||s!==h||u!==f||l!==d){var v=1-a,m=s*h+u*f+l*d+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),O=Math.atan2(b,m*g);v=Math.sin(v*O)/b,a=Math.sin(a*O)/b}var x=a*g;if(s=s*v+h*x,u=u*v+f*x,l=l*v+d*x,c=c*v+p*x,v===1-a){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,o){var a=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[o],h=i[o+1],f=i[o+2],d=i[o+3];return e[t]=a*d+l*c+s*f-u*h,e[t+1]=s*d+l*h+u*c-a*f,e[t+2]=u*d+l*f+a*h-s*c,e[t+3]=l*d-a*c-s*h-u*f,e}}]),e}();qe.prototype.isQuaternion=!0;var Xe=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,C.Z)(this,t),this.x=e,this.y=n,this.z=r}return(0,A.Z)(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Je.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Je.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,l=s*n+a*t-i*r,c=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+l*-a-c*-o,this.y=l*s+h*-o+c*-i-u*-a,this.z=c*s+h*-a+u*-o-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Ye.copy(this).projectOnVector(e),this.sub(Ye)}},{key:"reflect",value:function(e){return this.sub(Ye.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Ae(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:e,value:L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);Xe.prototype.isVector3=!0;var Ye=new Xe,Je=new qe,Ke=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xe(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe(-1/0,-1/0,-1/0);(0,C.Z)(this,e),this.min=t,this.max=n}return(0,A.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],h=e[s+2];l<t&&(t=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),h=e.getZ(s);l<t&&(t=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=tt.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),nt.copy(t.boundingBox),nt.applyMatrix4(e.matrixWorld),this.union(nt));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,tt),tt.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(lt),ct.subVectors(this.max,lt),rt.subVectors(e.a,lt),it.subVectors(e.b,lt),ot.subVectors(e.c,lt),at.subVectors(it,rt),st.subVectors(ot,it),ut.subVectors(rt,ot);var t=[0,-at.z,at.y,0,-st.z,st.y,0,-ut.z,ut.y,at.z,0,-at.x,st.z,0,-st.x,ut.z,0,-ut.x,-at.y,at.x,0,-st.y,st.x,0,-ut.y,ut.x,0];return!!dt(t,rt,it,ot,ct)&&(!!dt(t=[1,0,0,0,1,0,0,0,1],rt,it,ot,ct)&&(ht.crossVectors(at,st),dt(t=[ht.x,ht.y,ht.z],rt,it,ot,ct)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return tt.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(tt).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(et[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),et[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),et[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),et[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),et[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),et[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),et[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),et[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(et)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();Ke.prototype.isBox3=!0;var et=[new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe],tt=new Xe,nt=new Ke,rt=new Xe,it=new Xe,ot=new Xe,at=new Xe,st=new Xe,ut=new Xe,lt=new Xe,ct=new Xe,ht=new Xe,ft=new Xe;function dt(e,t,n,r,i){for(var o=0,a=e.length-3;o<=a;o+=3){ft.fromArray(e,o);var s=i.x*Math.abs(ft.x)+i.y*Math.abs(ft.y)+i.z*Math.abs(ft.z),u=t.dot(ft),l=n.dot(ft),c=r.dot(ft);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var pt=new Ke,vt=new Xe,mt=new Xe,gt=new Xe,yt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,C.Z)(this,e),this.center=t,this.radius=n}return(0,A.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):pt.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){gt.subVectors(e,this.center);var t=gt.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(gt.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return!0===this.center.equals(e.center)?mt.set(0,0,1).multiplyScalar(e.radius):mt.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(vt.copy(e.center).add(mt)),this.expandByPoint(vt.copy(e.center).sub(mt)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),bt=new Xe,Ot=new Xe,xt=new Xe,wt=new Xe,kt=new Xe,St=new Xe,_t=new Xe,Tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe(0,0,-1);(0,C.Z)(this,e),this.origin=t,this.direction=n}return(0,A.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,bt)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=bt.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(bt.copy(this.direction).multiplyScalar(t).add(this.origin),bt.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Ot.copy(e).add(t).multiplyScalar(.5),xt.copy(t).sub(e).normalize(),wt.copy(this.origin).sub(Ot);var i,o,a,s,u=.5*e.distanceTo(t),l=-this.direction.dot(xt),c=wt.dot(this.direction),h=-wt.dot(xt),f=wt.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(o=l*c-h,s=u*d,(i=l*h-c)>=0)if(o>=-s)if(o<=s){var p=1/d;a=(i*=p)*(i+l*(o*=p)+2*c)+o*(l*i+o+2*h)+f}else o=u,a=-(i=Math.max(0,-(l*o+c)))*i+o*(o+2*h)+f;else o=-u,a=-(i=Math.max(0,-(l*o+c)))*i+o*(o+2*h)+f;else o<=-s?a=-(i=Math.max(0,-(-l*u+c)))*i+(o=i>0?-u:Math.min(Math.max(-u,-h),u))*(o+2*h)+f:o<=s?(i=0,a=(o=Math.min(Math.max(-u,-h),u))*(o+2*h)+f):a=-(i=Math.max(0,-(l*u+c)))*i+(o=i>0?u:Math.min(Math.max(-u,-h),u))*(o+2*h)+f;else o=l>0?-u:u,a=-(i=Math.max(0,-(l*o+c)))*i+o*(o+2*h)+f;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(xt).multiplyScalar(o).add(Ot),a}},{key:"intersectSphere",value:function(e,t){bt.subVectors(e.center,this.origin);var n=bt.dot(this.direction),r=bt.dot(bt)-n*n,i=e.radius*e.radius;if(r>i)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),l>=0?(i=(e.min.y-h.y)*l,o=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,o=(e.min.y-h.y)*l),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),c>=0?(a=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(a=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,bt)}},{key:"intersectTriangle",value:function(e,t,n,r,i){kt.subVectors(t,e),St.subVectors(n,e),_t.crossVectors(kt,St);var o,a=this.direction.dot(_t);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}wt.subVectors(this.origin,e);var s=o*this.direction.dot(St.crossVectors(wt,St));if(s<0)return null;var u=o*this.direction.dot(kt.cross(wt));if(u<0)return null;if(s+u>a)return null;var l=-o*wt.dot(_t);return l<0?null:this.at(l/a,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Mt=function(){function e(){(0,C.Z)(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return(0,A.Z)(e,[{key:"set",value:function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=h,m[3]=f,m[7]=d,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Et.setFromMatrixColumn(e,0).length(),i=1/Et.setFromMatrixColumn(e,1).length(),o=1/Et.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=o*l,f=o*c,d=a*l,p=a*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=f+d*u,t[5]=h-p*u,t[9]=-a*s,t[2]=p-h*u,t[6]=d+f*u,t[10]=o*s}else if("YXZ"===e.order){var v=s*l,m=s*c,g=u*l,y=u*c;t[0]=v+y*a,t[4]=g*a-m,t[8]=o*u,t[1]=o*c,t[5]=o*l,t[9]=-a,t[2]=m*a-g,t[6]=y+v*a,t[10]=o*s}else if("ZXY"===e.order){var b=s*l,O=s*c,x=u*l,w=u*c;t[0]=b-w*a,t[4]=-o*c,t[8]=x+O*a,t[1]=O+x*a,t[5]=o*l,t[9]=w-b*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var k=o*l,S=o*c,_=a*l,T=a*c;t[0]=s*l,t[4]=_*u-S,t[8]=k*u+T,t[1]=s*c,t[5]=T*u+k,t[9]=S*u-_,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var M=o*s,E=o*u,P=a*s,C=a*u;t[0]=s*l,t[4]=C-M*c,t[8]=P*c+E,t[1]=c,t[5]=o*l,t[9]=-a*l,t[2]=-u*l,t[6]=E*c+P,t[10]=M-C*c}else if("XZY"===e.order){var A=o*s,R=o*u,L=a*s,Q=a*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=A*c+Q,t[5]=o*l,t[9]=R*c-L,t[2]=L*c-R,t[6]=a*l,t[10]=Q*c+A}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Ct,e,At)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Qt.subVectors(e,t),0===Qt.lengthSq()&&(Qt.z=1),Qt.normalize(),Rt.crossVectors(n,Qt),0===Rt.lengthSq()&&(1===Math.abs(n.z)?Qt.x+=1e-4:Qt.z+=1e-4,Qt.normalize(),Rt.crossVectors(n,Qt)),Rt.normalize(),Lt.crossVectors(Qt,Rt),r[0]=Rt.x,r[4]=Lt.x,r[8]=Qt.x,r[1]=Rt.y,r[5]=Lt.y,r[9]=Qt.y,r[2]=Rt.z,r[6]=Lt.z,r[10]=Qt.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],l=n[1],c=n[5],h=n[9],f=n[13],d=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],O=n[15],x=r[0],w=r[4],k=r[8],S=r[12],_=r[1],T=r[5],M=r[9],E=r[13],P=r[2],C=r[6],A=r[10],R=r[14],L=r[3],Q=r[7],D=r[11],Z=r[15];return i[0]=o*x+a*_+s*P+u*L,i[4]=o*w+a*T+s*C+u*Q,i[8]=o*k+a*M+s*A+u*D,i[12]=o*S+a*E+s*R+u*Z,i[1]=l*x+c*_+h*P+f*L,i[5]=l*w+c*T+h*C+f*Q,i[9]=l*k+c*M+h*A+f*D,i[13]=l*S+c*E+h*R+f*Z,i[2]=d*x+p*_+v*P+m*L,i[6]=d*w+p*T+v*C+m*Q,i[10]=d*k+p*M+v*A+m*D,i[14]=d*S+p*E+v*R+m*Z,i[3]=g*x+y*_+b*P+O*L,i[7]=g*w+y*T+b*C+O*Q,i[11]=g*k+y*M+b*A+O*D,i[15]=g*S+y*E+b*R+O*Z,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+i*s*c-r*u*c-i*a*h+n*u*h+r*a*f-n*s*f)+e[7]*(+t*s*f-t*u*h+i*o*h-r*o*f+r*u*l-i*s*l)+e[11]*(+t*u*c-t*a*f-i*o*c+n*o*f+i*a*l-n*u*l)+e[15]*(-r*a*l-t*s*c+t*a*h+r*o*c-n*o*h+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],m=e[15],g=c*v*u-p*h*u+p*s*f-a*v*f-c*s*m+a*h*m,y=d*h*u-l*v*u-d*s*f+o*v*f+l*s*m-o*h*m,b=l*p*u-d*c*u+d*a*f-o*p*f-l*a*m+o*c*m,O=d*c*s-l*p*s-d*a*h+o*p*h+l*a*v-o*c*v,x=t*g+n*y+r*b+i*O;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=g*w,e[1]=(p*h*i-c*v*i-p*r*f+n*v*f+c*r*m-n*h*m)*w,e[2]=(a*v*i-p*s*i+p*r*u-n*v*u-a*r*m+n*s*m)*w,e[3]=(c*s*i-a*h*i-c*r*u+n*h*u+a*r*f-n*s*f)*w,e[4]=y*w,e[5]=(l*v*i-d*h*i+d*r*f-t*v*f-l*r*m+t*h*m)*w,e[6]=(d*s*i-o*v*i-d*r*u+t*v*u+o*r*m-t*s*m)*w,e[7]=(o*h*i-l*s*i+l*r*u-t*h*u-o*r*f+t*s*f)*w,e[8]=b*w,e[9]=(d*c*i-l*p*i-d*n*f+t*p*f+l*n*m-t*c*m)*w,e[10]=(o*p*i-d*a*i+d*n*u-t*p*u-o*n*m+t*a*m)*w,e[11]=(l*a*i-o*c*i-l*n*u+t*c*u+o*n*f-t*a*f)*w,e[12]=O*w,e[13]=(l*p*r-d*c*r+d*n*h-t*p*h-l*n*v+t*c*v)*w,e[14]=(d*a*r-o*p*r-d*n*s+t*p*s+o*n*v-t*a*v)*w,e[15]=(o*c*r-l*a*r+l*n*s-t*c*s-o*n*h+t*a*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,l=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,l*a+n,l*s-r*o,0,u*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,u=i+i,l=o+o,c=a+a,h=i*u,f=i*l,d=i*c,p=o*l,v=o*c,m=a*c,g=s*u,y=s*l,b=s*c,O=n.x,x=n.y,w=n.z;return r[0]=(1-(p+m))*O,r[1]=(f+b)*O,r[2]=(d-y)*O,r[3]=0,r[4]=(f-b)*x,r[5]=(1-(h+m))*x,r[6]=(v+g)*x,r[7]=0,r[8]=(d+y)*w,r[9]=(v-g)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Et.set(r[0],r[1],r[2]).length(),o=Et.set(r[4],r[5],r[6]).length(),a=Et.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Pt.copy(this);var s=1/i,u=1/o,l=1/a;return Pt.elements[0]*=s,Pt.elements[1]*=s,Pt.elements[2]*=s,Pt.elements[4]*=u,Pt.elements[5]*=u,Pt.elements[6]*=u,Pt.elements[8]*=l,Pt.elements[9]*=l,Pt.elements[10]*=l,t.setFromRotationMatrix(Pt),n.x=i,n.y=o,n.z=a,this}},{key:"makePerspective",value:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),u=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),l=1/(o-i),c=(t+e)*s,h=(n+r)*u,f=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();Mt.prototype.isMatrix4=!0;var Et=new Xe,Pt=new Mt,Ct=new Xe(0,0,0),At=new Xe(1,1,1),Rt=new Xe,Lt=new Xe,Qt=new Xe,Dt=new Mt,Zt=new qe,It=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;(0,C.Z)(this,e),this._x=t,this._y=n,this._z=r,this._order=i}return(0,A.Z)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],u=r[5],l=r[9],c=r[2],h=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(Ae(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ae(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Ae(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Ae(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ae(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-Ae(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-l,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Dt.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Dt,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Zt.setFromEuler(this),this.setFromQuaternion(Zt,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new Xe(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();It.prototype.isEuler=!0,It.DefaultOrder="XYZ",It.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Nt=function(){function e(){(0,C.Z)(this,e),this.mask=1}return(0,A.Z)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),zt=0,jt=new Xe,Wt=new qe,Bt=new Mt,Ft=new Xe,$t=new Xe,Vt=new Xe,Ut=new qe,Ht=new Xe(1,0,0),Gt=new Xe(0,1,0),qt=new Xe(0,0,1),Xt={type:"added"},Yt={type:"removed"},Jt=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;(0,C.Z)(this,n),e=t.call(this),Object.defineProperty((0,M.Z)(e),"id",{value:zt++}),e.uuid=Ce(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new Xe,i=new It,o=new qe,a=new Xe(1,1,1);return i._onChange((function(){o.setFromEuler(i,!1)})),o._onChange((function(){i.setFromQuaternion(o,void 0,!1)})),Object.defineProperties((0,M.Z)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Mt},normalMatrix:{value:new Ie}}),e.matrix=new Mt,e.matrixWorld=new Mt,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new Nt,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,A.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Wt.setFromAxisAngle(e,t),this.quaternion.multiply(Wt),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Wt.setFromAxisAngle(e,t),this.quaternion.premultiply(Wt),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Ht,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Gt,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(qt,e)}},{key:"translateOnAxis",value:function(e,t){return jt.copy(e).applyQuaternion(this.quaternion),this.position.add(jt.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Ht,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Gt,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(qt,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(Bt.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Ft.copy(e):Ft.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),$t.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bt.lookAt($t,Ft,this.up):Bt.lookAt(Ft,$t,this.up),this.quaternion.setFromRotationMatrix(Bt),r&&(Bt.extractRotation(r.matrixWorld),Wt.setFromRotationMatrix(Bt),this.quaternion.premultiply(Wt.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Xt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Yt)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Yt)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Bt.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Bt.multiply(e.parent.matrixWorld)),e.applyMatrix4(Bt),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($t,e,Vt),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($t,Ut,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,u=a.length;s<u;s++){var l=a[s];i(e.shapes,l)}else i(e.shapes,a)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,f=this.material.length;h<f;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var d=0;d<this.children.length;d++)r.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=k(e.geometries),g=k(e.materials),y=k(e.textures),b=k(e.images),O=k(e.shapes),x=k(e.skeletons),w=k(e.animations);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),O.length>0&&(n.shapes=O),x.length>0&&(n.skeletons=x),w.length>0&&(n.animations=w)}return n.object=r,n;function k(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(_e);Jt.DefaultUp=new Xe(0,1,0),Jt.DefaultMatrixAutoUpdate=!0,Jt.prototype.isObject3D=!0;var Kt=new Xe,en=new Xe,tn=new Xe,nn=new Xe,rn=new Xe,on=new Xe,an=new Xe,sn=new Xe,un=new Xe,ln=new Xe,cn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Xe;(0,C.Z)(this,e),this.a=t,this.b=n,this.c=r}return(0,A.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Kt.subVectors(this.c,this.b),en.subVectors(this.a,this.b),.5*Kt.cross(en).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,o){return e.getUV(t,this.a,this.b,this.c,n,r,i,o)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,o=this.b,a=this.c;rn.subVectors(o,i),on.subVectors(a,i),sn.subVectors(e,i);var s=rn.dot(sn),u=on.dot(sn);if(s<=0&&u<=0)return t.copy(i);un.subVectors(e,o);var l=rn.dot(un),c=on.dot(un);if(l>=0&&c<=l)return t.copy(o);var h=s*c-l*u;if(h<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(rn,n);ln.subVectors(e,a);var f=rn.dot(ln),d=on.dot(ln);if(d>=0&&f<=d)return t.copy(a);var p=f*u-s*d;if(p<=0&&u>=0&&d<=0)return r=u/(u-d),t.copy(i).addScaledVector(on,r);var v=l*d-f*c;if(v<=0&&c-l>=0&&f-d>=0)return an.subVectors(a,o),r=(c-l)/(c-l+(f-d)),t.copy(o).addScaledVector(an,r);var m=1/(v+p+h);return n=p*m,r=h*m,t.copy(i).addScaledVector(rn,n).addScaledVector(on,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Kt.subVectors(e,t),r.cross(Kt);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Kt.subVectors(r,t),en.subVectors(n,t),tn.subVectors(e,t);var o=Kt.dot(Kt),a=Kt.dot(en),s=Kt.dot(tn),u=en.dot(en),l=en.dot(tn),c=o*u-a*a;if(0===c)return i.set(-2,-1,-1);var h=1/c,f=(u*s-a*l)*h,d=(o*l-a*s)*h;return i.set(1-f-d,d,f)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,nn),nn.x>=0&&nn.y>=0&&nn.x+nn.y<=1}},{key:"getUV",value:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,nn),s.set(0,0),s.addScaledVector(i,nn.x),s.addScaledVector(o,nn.y),s.addScaledVector(a,nn.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Kt.subVectors(n,t),en.subVectors(e,t),Kt.cross(en).dot(r)<0}}]),e}(),hn=0,fn=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),e=t.call(this),Object.defineProperty((0,M.Z)(e),"id",{value:hn++}),e.uuid=Ce(),e.name="",e.type="Material",e.fog=!0,e.blending=1,e.side=0,e.vertexColors=!1,e.opacity=1,e.format=ue,e.transparent=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=j,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=xe,e.stencilZFail=xe,e.stencilZPass=xe,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,A.Z)(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.format!==ue&&(n.format=this.format),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(_e);fn.prototype.isMaterial=!0;var dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pn={h:0,s:0,l:0},vn={h:0,s:0,l:0};function mn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function gn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function yn(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var bn=function(){function e(t,n,r){return(0,C.Z)(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return(0,A.Z)(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=Re(e,1),t=Ae(t,0,1),n=Ae(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=mn(i,r,e+1/3),this.g=mn(i,r,e),this.b=mn(i,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var l=n[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=dn[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=gn(e.r),this.g=gn(e.g),this.b=gn(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=yn(e.r),this.g=yn(e.g),this.b=yn(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),u=(s+a)/2;if(s===a)t=0,n=0;else{var l=a-s;switch(n=u<=.5?l/(a+s):l/(2-a-s),a){case r:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-r)/l+2;break;case o:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=u,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(pn),pn.h+=e,pn.s+=t,pn.l+=n,this.setHSL(pn.h,pn.s,pn.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(pn),e.getHSL(vn);var n=Le(pn.h,vn.h,t),r=Le(pn.s,vn.s,t),i=Le(pn.l,vn.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();bn.NAMES=dn,bn.prototype.isColor=!0,bn.prototype.r=1,bn.prototype.g=1,bn.prototype.b=1;var On=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="MeshBasicMaterial",r.color=new bn(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(fn);On.prototype.isMeshBasicMaterial=!0;var xn=new Xe,wn=new Ze,kn=function(){function e(t,n,r){if((0,C.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=we,this.updateRange={offset:0,count:-1},this.version=0}return(0,A.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new bn),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Ze),t[n++]=o.x,t[n++]=o.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Xe),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Ve),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)wn.fromBufferAttribute(this,t),wn.applyMatrix3(e),this.setXY(t,wn.x,wn.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)xn.fromBufferAttribute(this,r),xn.applyMatrix3(e),this.setXYZ(r,xn.x,xn.y,xn.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)xn.x=this.getX(t),xn.y=this.getY(t),xn.z=this.getZ(t),xn.applyMatrix4(e),this.setXYZ(t,xn.x,xn.y,xn.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)xn.x=this.getX(t),xn.y=this.getY(t),xn.z=this.getZ(t),xn.applyNormalMatrix(e),this.setXYZ(t,xn.x,xn.y,xn.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)xn.x=this.getX(t),xn.y=this.getY(t),xn.z=this.getZ(t),xn.transformDirection(e),this.setXYZ(t,xn.x,xn.y,xn.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==we&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();kn.prototype.isBufferAttribute=!0;var Sn=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){return(0,C.Z)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,A.Z)(n)}(kn),_n=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){return(0,C.Z)(this,n),t.call(this,new Uint32Array(e),r,i)}return(0,A.Z)(n)}(kn);(function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){return(0,C.Z)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,A.Z)(n)})(kn).prototype.isFloat16BufferAttribute=!0;var Tn=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){return(0,C.Z)(this,n),t.call(this,new Float32Array(e),r,i)}return(0,A.Z)(n)}(kn),Mn=0,En=new Mt,Pn=new Jt,Cn=new Xe,An=new Ke,Rn=new Ke,Ln=new Xe,Qn=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),e=t.call(this),Object.defineProperty((0,M.Z)(e),"id",{value:Mn++}),e.uuid=Ce(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,A.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Ne(e)>65535?_n:Sn)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Ie).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return En.makeRotationFromQuaternion(e),this.applyMatrix4(En),this}},{key:"rotateX",value:function(e){return En.makeRotationX(e),this.applyMatrix4(En),this}},{key:"rotateY",value:function(e){return En.makeRotationY(e),this.applyMatrix4(En),this}},{key:"rotateZ",value:function(e){return En.makeRotationZ(e),this.applyMatrix4(En),this}},{key:"translate",value:function(e,t,n){return En.makeTranslation(e,t,n),this.applyMatrix4(En),this}},{key:"scale",value:function(e,t,n){return En.makeScale(e,t,n),this.applyMatrix4(En),this}},{key:"lookAt",value:function(e){return Pn.lookAt(e),Pn.updateMatrix(),this.applyMatrix4(Pn.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cn).negate(),this.translate(Cn.x,Cn.y,Cn.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Tn(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ke);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Xe(-1/0,-1/0,-1/0),new Xe(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];An.setFromBufferAttribute(i),this.morphTargetsRelative?(Ln.addVectors(this.boundingBox.min,An.min),this.boundingBox.expandByPoint(Ln),Ln.addVectors(this.boundingBox.max,An.max),this.boundingBox.expandByPoint(Ln)):(this.boundingBox.expandByPoint(An.min),this.boundingBox.expandByPoint(An.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new yt);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Xe,1/0);if(e){var n=this.boundingSphere.center;if(An.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];Rn.setFromBufferAttribute(o),this.morphTargetsRelative?(Ln.addVectors(An.min,Rn.min),An.expandByPoint(Ln),Ln.addVectors(An.max,Rn.max),An.expandByPoint(Ln)):(An.expandByPoint(Rn.min),An.expandByPoint(Rn.max))}An.getCenter(n);for(var a=0,s=0,u=e.count;s<u;s++)Ln.fromBufferAttribute(e,s),a=Math.max(a,n.distanceToSquared(Ln));if(t)for(var l=0,c=t.length;l<c;l++)for(var h=t[l],f=this.morphTargetsRelative,d=0,p=h.count;d<p;d++)Ln.fromBufferAttribute(h,d),f&&(Cn.fromBufferAttribute(e,d),Ln.add(Cn)),a=Math.max(a,n.distanceToSquared(Ln));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,o=t.uv.array,a=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new kn(new Float32Array(4*a),4));for(var s=t.tangent.array,u=[],l=[],c=0;c<a;c++)u[c]=new Xe,l[c]=new Xe;var h=new Xe,f=new Xe,d=new Xe,p=new Ze,v=new Ze,m=new Ze,g=new Xe,y=new Xe,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var O=0,x=b.length;O<x;++O)for(var w=b[O],k=w.start,S=k,_=k+w.count;S<_;S+=3)Z(n[S+0],n[S+1],n[S+2]);for(var T=new Xe,M=new Xe,E=new Xe,P=new Xe,C=0,A=b.length;C<A;++C)for(var R=b[C],L=R.start,Q=L,D=L+R.count;Q<D;Q+=3)I(n[Q+0]),I(n[Q+1]),I(n[Q+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function Z(e,t,n){h.fromArray(r,3*e),f.fromArray(r,3*t),d.fromArray(r,3*n),p.fromArray(o,2*e),v.fromArray(o,2*t),m.fromArray(o,2*n),f.sub(h),d.sub(h),v.sub(p),m.sub(p);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(f).multiplyScalar(m.y).addScaledVector(d,-v.y).multiplyScalar(i),y.copy(d).multiplyScalar(v.x).addScaledVector(f,-m.x).multiplyScalar(i),u[e].add(g),u[t].add(g),u[n].add(g),l[e].add(y),l[t].add(y),l[n].add(y))}function I(e){E.fromArray(i,3*e),P.copy(E);var t=u[e];T.copy(t),T.sub(E.multiplyScalar(E.dot(t))).normalize(),M.crossVectors(P,t);var n=M.dot(l[e])<0?-1:1;s[4*e]=T.x,s[4*e+1]=T.y,s[4*e+2]=T.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new kn(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var o=new Xe,a=new Xe,s=new Xe,u=new Xe,l=new Xe,c=new Xe,h=new Xe,f=new Xe;if(e)for(var d=0,p=e.count;d<p;d+=3){var v=e.getX(d+0),m=e.getX(d+1),g=e.getX(d+2);o.fromBufferAttribute(t,v),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),h.subVectors(s,a),f.subVectors(o,a),h.cross(f),u.fromBufferAttribute(n,v),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),u.add(h),l.add(h),c.add(h),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)o.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,a),f.subVectors(o,a),h.cross(f),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,u=Math.min(a.length,i.length-s),l=0,c=s;l<u;l++,c++)i[c]=a[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Ln.fromBufferAttribute(e,t),Ln.normalize(),e.setXYZ(t,Ln.x,Ln.y,Ln.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r),a=0,s=0,u=0,l=t.length;u<l;u++){a=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)o[s++]=n[a++]}return new kn(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var o in i){var a=e(i[o],r);t.setAttribute(o,a)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],h=0,f=c.length;h<f;h++){var d=e(c[h],r);l.push(d)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var o in i){var a=i[o];e.data.attributes[o]=a.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],h=[],f=0,d=c.length;f<d;f++){var p=c[f];h.push(p.toJSON(e.data))}h.length>0&&(s[l]=h,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var o=r[i];this.setAttribute(i,o.clone(t))}var a=e.morphAttributes;for(var s in a){for(var u=[],l=a[s],c=0,h=l.length;c<h;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,d=0,p=f.length;d<p;d++){var v=f[d];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(_e);Qn.prototype.isBufferGeometry=!0;var Dn=new Mt,Zn=new Tt,In=new yt,Nn=new Xe,zn=new Xe,jn=new Xe,Wn=new Xe,Bn=new Xe,Fn=new Xe,$n=new Xe,Vn=new Xe,Un=new Xe,Hn=new Ze,Gn=new Ze,qn=new Ze,Xn=new Xe,Yn=new Xe,Jn=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new On;return(0,C.Z)(this,n),(e=t.call(this)).type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),In.copy(r.boundingSphere),In.applyMatrix4(o),!1!==e.ray.intersectsSphere(In)&&(Dn.copy(o).invert(),Zn.copy(e.ray).applyMatrix4(Dn),null===r.boundingBox||!1!==Zn.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a=r.index,s=r.attributes.position,u=r.morphAttributes.position,l=r.morphTargetsRelative,c=r.attributes.uv,h=r.attributes.uv2,f=r.groups,d=r.drawRange;if(null!==a)if(Array.isArray(i))for(var p=0,v=f.length;p<v;p++)for(var m=f[p],g=i[m.materialIndex],y=Math.max(m.start,d.start),b=Math.min(a.count,Math.min(m.start+m.count,d.start+d.count));y<b;y+=3){var O=a.getX(y),x=a.getX(y+1),w=a.getX(y+2);(n=Kn(this,g,e,Zn,s,u,l,c,h,O,x,w))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=m.materialIndex,t.push(n))}else for(var k=Math.max(0,d.start),S=Math.min(a.count,d.start+d.count);k<S;k+=3){var _=a.getX(k),T=a.getX(k+1),M=a.getX(k+2);(n=Kn(this,i,e,Zn,s,u,l,c,h,_,T,M))&&(n.faceIndex=Math.floor(k/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var E=0,P=f.length;E<P;E++)for(var C=f[E],A=i[C.materialIndex],R=Math.max(C.start,d.start),L=Math.min(s.count,Math.min(C.start+C.count,d.start+d.count));R<L;R+=3){(n=Kn(this,A,e,Zn,s,u,l,c,h,R,R+1,R+2))&&(n.faceIndex=Math.floor(R/3),n.face.materialIndex=C.materialIndex,t.push(n))}else for(var Q=Math.max(0,d.start),D=Math.min(s.count,d.start+d.count);Q<D;Q+=3){(n=Kn(this,i,e,Zn,s,u,l,c,h,Q,Q+1,Q+2))&&(n.faceIndex=Math.floor(Q/3),t.push(n))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),n}(Jt);function Kn(e,t,n,r,i,o,a,s,u,l,c,h){Nn.fromBufferAttribute(i,l),zn.fromBufferAttribute(i,c),jn.fromBufferAttribute(i,h);var f=e.morphTargetInfluences;if(o&&f){$n.set(0,0,0),Vn.set(0,0,0),Un.set(0,0,0);for(var d=0,p=o.length;d<p;d++){var v=f[d],m=o[d];0!==v&&(Wn.fromBufferAttribute(m,l),Bn.fromBufferAttribute(m,c),Fn.fromBufferAttribute(m,h),a?($n.addScaledVector(Wn,v),Vn.addScaledVector(Bn,v),Un.addScaledVector(Fn,v)):($n.addScaledVector(Wn.sub(Nn),v),Vn.addScaledVector(Bn.sub(zn),v),Un.addScaledVector(Fn.sub(jn),v)))}Nn.add($n),zn.add(Vn),jn.add(Un)}e.isSkinnedMesh&&(e.boneTransform(l,Nn),e.boneTransform(c,zn),e.boneTransform(h,jn));var g=function(e,t,n,r,i,o,a,s){if(null===(1===t.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,2!==t.side,s)))return null;Yn.copy(s),Yn.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(Yn);return u<n.near||u>n.far?null:{distance:u,point:Yn.clone(),object:e}}(e,t,n,r,Nn,zn,jn,Xn);if(g){s&&(Hn.fromBufferAttribute(s,l),Gn.fromBufferAttribute(s,c),qn.fromBufferAttribute(s,h),g.uv=cn.getUV(Xn,Nn,zn,jn,Hn,Gn,qn,new Ze)),u&&(Hn.fromBufferAttribute(u,l),Gn.fromBufferAttribute(u,c),qn.fromBufferAttribute(u,h),g.uv2=cn.getUV(Xn,Nn,zn,jn,Hn,Gn,qn,new Ze));var y={a:l,b:c,c:h,normal:new Xe,materialIndex:0};cn.getNormal(Nn,zn,jn,y.normal),g.face=y}return g}Jn.prototype.isMesh=!0;var er=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,C.Z)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:o,widthSegments:a,heightSegments:s,depthSegments:u};var l=(0,M.Z)(e);a=Math.floor(a),s=Math.floor(s),u=Math.floor(u);var c=[],h=[],f=[],d=[],p=0,v=0;function m(e,t,n,r,i,o,a,s,u,m,g){for(var y=o/u,b=a/m,O=o/2,x=a/2,w=s/2,k=u+1,S=m+1,_=0,T=0,M=new Xe,E=0;E<S;E++)for(var P=E*b-x,C=0;C<k;C++){var A=C*y-O;M[e]=A*r,M[t]=P*i,M[n]=w,h.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=s>0?1:-1,f.push(M.x,M.y,M.z),d.push(C/u),d.push(1-E/m),_+=1}for(var R=0;R<m;R++)for(var L=0;L<u;L++){var Q=p+L+k*R,D=p+L+k*(R+1),Z=p+(L+1)+k*(R+1),I=p+(L+1)+k*R;c.push(Q,D,I),c.push(D,Z,I),T+=6}l.addGroup(v,T,g),v+=T,p+=_}return m("z","y","x",-1,-1,o,i,r,u,s,0),m("z","y","x",1,-1,o,i,-r,u,s,1),m("x","z","y",1,1,r,o,i,a,u,2),m("x","z","y",1,-1,r,o,-i,a,u,3),m("x","y","z",1,-1,r,i,o,a,s,4),m("x","y","z",-1,-1,r,i,-o,a,s,5),e.setIndex(c),e.setAttribute("position",new Tn(h,3)),e.setAttribute("normal",new Tn(f,3)),e.setAttribute("uv",new Tn(d,2)),e}return(0,A.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Qn);function tr(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function nr(e){for(var t={},n=0;n<e.length;n++){var r=tr(e[n]);for(var i in r)t[i]=r[i]}return t}var rr={clone:tr,merge:nr},ir=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),r.setValues(e)),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=tr(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var o={};for(var a in this.extensions)!0===this.extensions[a]&&(o[a]=!0);return Object.keys(o).length>0&&(t.extensions=o),t}}]),n}(fn);ir.prototype.isShaderMaterial=!0;var or=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new Mt,e.projectionMatrix=new Mt,e.projectionMatrixInverse=new Mt,e}return(0,A.Z)(n,[{key:"copy",value:function(e,t){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){(0,S.Z)((0,_.Z)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Jt);or.prototype.isCamera=!0;var ar=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,C.Z)(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=o,e.far=a,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,A.Z)(n,[{key:"copy",value:function(e,t){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Pe*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Ee*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Pe*Math.atan(Math.tan(.5*Ee*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Ee*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(or);ar.prototype.isPerspectiveCamera=!0;var sr=90,ur=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var o;if((0,C.Z)(this,n),(o=t.call(this)).type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),(0,k.Z)(o);o.renderTarget=i;var a=new ar(sr,1,e,r);a.layers=o.layers,a.up.set(0,-1,0),a.lookAt(new Xe(1,0,0)),o.add(a);var s=new ar(sr,1,e,r);s.layers=o.layers,s.up.set(0,-1,0),s.lookAt(new Xe(-1,0,0)),o.add(s);var u=new ar(sr,1,e,r);u.layers=o.layers,u.up.set(0,0,1),u.lookAt(new Xe(0,1,0)),o.add(u);var l=new ar(sr,1,e,r);l.layers=o.layers,l.up.set(0,0,-1),l.lookAt(new Xe(0,-1,0)),o.add(l);var c=new ar(sr,1,e,r);c.layers=o.layers,c.up.set(0,-1,0),c.lookAt(new Xe(0,0,1)),o.add(c);var h=new ar(sr,1,e,r);return h.layers=o.layers,h.up.set(0,-1,0),h.lookAt(new Xe(0,0,-1)),o.add(h),o}return(0,A.Z)(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=(0,w.Z)(this.children,6),i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5],c=e.xr.enabled,h=e.getRenderTarget();e.xr.enabled=!1;var f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=f,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(h),e.xr.enabled=c}}]),n}(Jt),lr=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o,a,s,u,l,c,h){var f;return(0,C.Z)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:W,(f=t.call(this,e,r,i,o,a,s,u,l,c,h)).flipY=!1,f}return(0,A.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Fe);lr.prototype.isCubeTexture=!0;var cr=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var o;return(0,C.Z)(this,n),Number.isInteger(r)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),r=i),o=t.call(this,e,e,r),r=r||{},o.texture=new lr(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),o.texture.isRenderTargetTexture=!0,o.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,o.texture.minFilter=void 0!==r.minFilter?r.minFilter:K,o.texture._needsFlipEnvMap=!1,o}return(0,A.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=ue,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new er(5,5,5),a=new ir({name:"CubemapFromEquirect",uniforms:tr(n),vertexShader:r,fragmentShader:i,side:1,blending:0});a.uniforms.tEquirect.value=t;var s=new Jn(o,a),u=t.minFilter;return t.minFilter===ee&&(t.minFilter=K),new ur(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Ue);cr.prototype.isWebGLCubeRenderTarget=!0;var hr=new Xe,fr=new Xe,dr=new Ie,pr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xe(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,C.Z)(this,e),this.normal=t,this.constant=n}return(0,A.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=hr.subVectors(n,t).cross(fr.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(hr),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||dr.getNormalMatrix(e),r=this.coplanarPoint(hr).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();pr.prototype.isPlane=!0;var vr=new yt,mr=new Xe,gr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new pr,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new pr,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new pr,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new pr;(0,C.Z)(this,e),this.planes=[t,n,r,i,o,a]}return(0,A.Z)(e,[{key:"set",value:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6],c=n[7],h=n[8],f=n[9],d=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,c-s,p-h,y-v).normalize(),t[1].setComponents(a+r,c+s,p+h,y+v).normalize(),t[2].setComponents(a+i,c+u,p+f,y+m).normalize(),t[3].setComponents(a-i,c-u,p-f,y-m).normalize(),t[4].setComponents(a-o,c-l,p-d,y-g).normalize(),t[5].setComponents(a+o,c+l,p+d,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),vr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(vr)}},{key:"intersectsSprite",value:function(e){return vr.center.set(0,0,0),vr.radius=.7071067811865476,vr.applyMatrix4(e.matrixWorld),this.intersectsSphere(vr)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(mr.x=r.normal.x>0?e.max.x:e.min.x,mr.y=r.normal.y>0?e.max.y:e.min.y,mr.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(mr)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function yr(){var e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function br(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var o=r.get(t);(!o||o.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var a=r.get(t);void 0===a?r.set(t,function(t,r){var i=t.array,o=t.usage,a=e.createBuffer();e.bindBuffer(r,a),e.bufferData(r,i,o),t.onUploadCallback();var s=5126;return i instanceof Float32Array?s=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:i instanceof Int16Array?s=5122:i instanceof Uint32Array?s=5125:i instanceof Int32Array?s=5124:i instanceof Int8Array?s=5120:(i instanceof Uint8Array||i instanceof Uint8ClampedArray)&&(s=5121),{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,r,i){var o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(a.buffer,t,i),a.version=t.version)}}}}var Or=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,C.Z)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:o,heightSegments:a};for(var s=r/2,u=i/2,l=Math.floor(o),c=Math.floor(a),h=l+1,f=c+1,d=r/l,p=i/c,v=[],m=[],g=[],y=[],b=0;b<f;b++)for(var O=b*p-u,x=0;x<h;x++){var w=x*d-s;m.push(w,-O,0),g.push(0,0,1),y.push(x/l),y.push(1-b/c)}for(var k=0;k<c;k++)for(var S=0;S<l;S++){var _=S+h*k,T=S+h*(k+1),M=S+1+h*(k+1),E=S+1+h*k;v.push(_,T,E),v.push(T,M,E)}return e.setIndex(v),e.setAttribute("position",new Tn(m,3)),e.setAttribute("normal",new Tn(g,3)),e.setAttribute("uv",new Tn(y,2)),e}return(0,A.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Qn),xr={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\treturn texture2D( envMap, uv ).rgb;\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},wr={common:{diffuse:{value:new bn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ie},uv2Transform:{value:new Ie},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ie}},sprite:{diffuse:{value:new bn(16777215)},opacity:{value:1},center:{value:new Ze(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ie}}},kr={basic:{uniforms:nr([wr.common,wr.specularmap,wr.envmap,wr.aomap,wr.lightmap,wr.fog]),vertexShader:xr.meshbasic_vert,fragmentShader:xr.meshbasic_frag},lambert:{uniforms:nr([wr.common,wr.specularmap,wr.envmap,wr.aomap,wr.lightmap,wr.emissivemap,wr.fog,wr.lights,{emissive:{value:new bn(0)}}]),vertexShader:xr.meshlambert_vert,fragmentShader:xr.meshlambert_frag},phong:{uniforms:nr([wr.common,wr.specularmap,wr.envmap,wr.aomap,wr.lightmap,wr.emissivemap,wr.bumpmap,wr.normalmap,wr.displacementmap,wr.fog,wr.lights,{emissive:{value:new bn(0)},specular:{value:new bn(1118481)},shininess:{value:30}}]),vertexShader:xr.meshphong_vert,fragmentShader:xr.meshphong_frag},standard:{uniforms:nr([wr.common,wr.envmap,wr.aomap,wr.lightmap,wr.emissivemap,wr.bumpmap,wr.normalmap,wr.displacementmap,wr.roughnessmap,wr.metalnessmap,wr.fog,wr.lights,{emissive:{value:new bn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xr.meshphysical_vert,fragmentShader:xr.meshphysical_frag},toon:{uniforms:nr([wr.common,wr.aomap,wr.lightmap,wr.emissivemap,wr.bumpmap,wr.normalmap,wr.displacementmap,wr.gradientmap,wr.fog,wr.lights,{emissive:{value:new bn(0)}}]),vertexShader:xr.meshtoon_vert,fragmentShader:xr.meshtoon_frag},matcap:{uniforms:nr([wr.common,wr.bumpmap,wr.normalmap,wr.displacementmap,wr.fog,{matcap:{value:null}}]),vertexShader:xr.meshmatcap_vert,fragmentShader:xr.meshmatcap_frag},points:{uniforms:nr([wr.points,wr.fog]),vertexShader:xr.points_vert,fragmentShader:xr.points_frag},dashed:{uniforms:nr([wr.common,wr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xr.linedashed_vert,fragmentShader:xr.linedashed_frag},depth:{uniforms:nr([wr.common,wr.displacementmap]),vertexShader:xr.depth_vert,fragmentShader:xr.depth_frag},normal:{uniforms:nr([wr.common,wr.bumpmap,wr.normalmap,wr.displacementmap,{opacity:{value:1}}]),vertexShader:xr.meshnormal_vert,fragmentShader:xr.meshnormal_frag},sprite:{uniforms:nr([wr.sprite,wr.fog]),vertexShader:xr.sprite_vert,fragmentShader:xr.sprite_frag},background:{uniforms:{uvTransform:{value:new Ie},t2D:{value:null}},vertexShader:xr.background_vert,fragmentShader:xr.background_frag},cube:{uniforms:nr([wr.envmap,{opacity:{value:1}}]),vertexShader:xr.cube_vert,fragmentShader:xr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xr.equirect_vert,fragmentShader:xr.equirect_frag},distanceRGBA:{uniforms:nr([wr.common,wr.displacementmap,{referencePosition:{value:new Xe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xr.distanceRGBA_vert,fragmentShader:xr.distanceRGBA_frag},shadow:{uniforms:nr([wr.lights,wr.fog,{color:{value:new bn(0)},opacity:{value:1}}]),vertexShader:xr.shadow_vert,fragmentShader:xr.shadow_frag}};function Sr(e,t,n,r,i){var o,a,s=new bn(0),u=0,l=null,c=0,h=null;function f(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),f(s,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){f(s,u=e)},render:function(n,i){var d=!1,p=!0===i.isScene?i.background:null;p&&p.isTexture&&(p=t.get(p));var v=e.xr,m=v.getSession&&v.getSession();m&&"additive"===m.environmentBlendMode&&(p=null),null===p?f(s,u):p&&p.isColor&&(f(p,1),d=!0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.mapping===V)?(void 0===a&&((a=new Jn(new er(1,1,1),new ir({name:"BackgroundCubeMaterial",uniforms:tr(kr.cube.uniforms),vertexShader:kr.cube.vertexShader,fragmentShader:kr.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(a)),a.material.uniforms.envMap.value=p,a.material.uniforms.flipEnvMap.value=p.isCubeTexture&&!1===p.isRenderTargetTexture?-1:1,l===p&&c===p.version&&h===e.toneMapping||(a.material.needsUpdate=!0,l=p,c=p.version,h=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):p&&p.isTexture&&(void 0===o&&((o=new Jn(new Or(2,2),new ir({name:"BackgroundMaterial",uniforms:tr(kr.background.uniforms),vertexShader:kr.background.vertexShader,fragmentShader:kr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),o.material.uniforms.uvTransform.value.copy(p.matrix),l===p&&c===p.version&&h===e.toneMapping||(o.material.needsUpdate=!0,l=p,c=p.version,h=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null))}}}function _r(e,t,n,r){var i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},u=f(null),l=u;function c(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function f(e){for(var t=[],n=[],r=[],o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function d(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){v(e,0)}function v(n,i){var o=l.newAttributes,a=l.enabledAttributes,s=l.attributeDivisors;(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function m(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,a,s)}function y(){b(),l!==u&&c((l=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,h,y,b){var O=!1;if(a){var x=function(t,n,i){var a=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[a];void 0===c&&(c=f(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),l[a]=c);return c}(y,h,u);l!==x&&c((l=x).object),O=function(e,t){var n=l.attributes,r=e.attributes,i=0;for(var o in r){var a=n[o],s=r[o];if(void 0===a)return!0;if(a.attribute!==s)return!0;if(a.data!==s.data)return!0;i++}return l.attributesNum!==i||l.index!==t}(y,b),O&&function(e,t){var n={},r=e.attributes,i=0;for(var o in r){var a=r[o],s={};s.attribute=a,a.data&&(s.data=a.data),n[o]=s,i++}l.attributes=n,l.attributesNum=i,l.index=t}(y,b)}else{var w=!0===u.wireframe;l.geometry===y.id&&l.program===h.id&&l.wireframe===w||(l.geometry=y.id,l.program=h.id,l.wireframe=w,O=!0)}!0===i.isInstancedMesh&&(O=!0),null!==b&&n.update(b,34963),O&&(!function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;d();var u=s.attributes,l=a.getAttributes(),c=o.defaultAttributeValues;for(var h in l){var f=l[h];if(f.location>=0){var y=u[h];if(void 0===y&&("instanceMatrix"===h&&i.instanceMatrix&&(y=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(y=i.instanceColor)),void 0!==y){var b=y.normalized,O=y.itemSize,x=n.get(y);if(void 0===x)continue;var w=x.buffer,k=x.type,S=x.bytesPerElement;if(y.isInterleavedBufferAttribute){var _=y.data,T=_.stride,M=y.offset;if(_&&_.isInstancedInterleavedBuffer){for(var E=0;E<f.locationSize;E++)v(f.location+E,_.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=_.meshPerAttribute*_.count)}else for(var P=0;P<f.locationSize;P++)p(f.location+P);e.bindBuffer(34962,w);for(var C=0;C<f.locationSize;C++)g(f.location+C,O/f.locationSize,k,b,T*S,(M+O/f.locationSize*C)*S)}else{if(y.isInstancedBufferAttribute){for(var A=0;A<f.locationSize;A++)v(f.location+A,y.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)}else for(var R=0;R<f.locationSize;R++)p(f.location+R);e.bindBuffer(34962,w);for(var L=0;L<f.locationSize;L++)g(f.location+L,O/f.locationSize,k,b,O*S,O/f.locationSize*L*S)}}else if(void 0!==c){var Q=c[h];if(void 0!==Q)switch(Q.length){case 2:e.vertexAttrib2fv(f.location,Q);break;case 3:e.vertexAttrib3fv(f.location,Q);break;case 4:e.vertexAttrib4fv(f.location,Q);break;default:e.vertexAttrib1fv(f.location,Q)}}}}m()}(i,u,h,y),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)h(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:d,enableAttribute:p,disableUnusedAttributes:m}}function Tr(e,t,n,r){var i,o=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,a,s){if(0!==s){var u,l;if(o)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,a,s),n.update(a,i,s)}}}function Mr(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=o||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),f=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),v=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),y=h>0,b=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:o?e.getParameter(36183):0}}function Er(e){var t=this,n=null,r=0,i=!1,o=!1,a=new pr,s=new Ie,u={value:null,needsUpdate:!1};function l(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var o=null!==e?e.length:0,l=null;if(0!==o){if(l=u.value,!0!==i||null===l){var c=r+4*o,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===l||l.length<c)&&(l=new Float32Array(c));for(var f=0,d=r;f!==o;++f,d+=4)a.copy(e[f]).applyMatrix4(h,s),a.normal.toArray(l,d),l[d+3]=a.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){var a=0!==e.length||t||0!==r||i;return i=t,n=c(e,o,0),r=e.length,a},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,l()},this.setState=function(t,a,s){var h=t.clippingPlanes,f=t.clipIntersection,d=t.clipShadows,p=e.get(t);if(!i||null===h||0===h.length||o&&!d)o?c(null):l();else{var v=o?0:r,m=4*v,g=p.clippingState||null;u.value=g,g=c(h,a,m,s);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=v}}}function Pr(e){var t=new WeakMap;function n(e,t){return t===F?e.mapping=W:t===$&&(e.mapping=B),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var o=i.mapping;if(o===F||o===$){if(t.has(i))return n(t.get(i).texture,i.mapping);var a=i.image;if(a&&a.height>0){var s=e.getRenderTarget(),u=new cr(a.height/2);return u.fromEquirectangularTexture(e,i),t.set(i,u),e.setRenderTarget(s),i.addEventListener("dispose",r),n(u.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}kr.physical={uniforms:nr([kr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ze(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new bn(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new bn(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new bn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:xr.meshphysical_vert,fragmentShader:xr.meshphysical_frag};var Cr=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,C.Z)(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=o,e.bottom=a,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return(0,A.Z)(n,[{key:"copy",value:function(e,t){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(i+=u*this.view.offsetX)+u*this.view.width,s=(a-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(or);Cr.prototype.isOrthographicCamera=!0;var Ar=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this,e)).type="RawShaderMaterial",r}return(0,A.Z)(n)}(ir);Ar.prototype.isRawShaderMaterial=!0;var Rr=Math.pow(2,8),Lr=[.125,.215,.35,.446,.526,.582],Qr=5+Lr.length,Dr=20,Zr=(b={},(0,x.Z)(b,be,0),(0,x.Z)(b,Oe,1),b),Ir=new Cr,Nr=Gr(),zr=Nr._lodPlanes,jr=Nr._sizeLods,Wr=Nr._sigmas,Br=new bn,Fr=null,$r=(1+Math.sqrt(5))/2,Vr=1/$r,Ur=[new Xe(1,1,1),new Xe(-1,1,1),new Xe(1,1,-1),new Xe(-1,1,-1),new Xe(0,$r,Vr),new Xe(0,$r,-Vr),new Xe(Vr,0,$r),new Xe(-Vr,0,$r),new Xe($r,Vr,0),new Xe(-$r,Vr,0)],Hr=function(){function e(t){(0,C.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(e),n=new Xe(0,1,0);return new Ar({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})}(Dr),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return(0,A.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Fr=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=Jr(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=Yr(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<zr.length;e++)zr[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Fr),e.scissorTest=!1,Xr(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){Fr=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:K,minFilter:K,generateMipmaps:!1,type:oe,format:ue,encoding:be,depthBuffer:!1},n=qr(t);return n.depthBuffer=!e,this._pingPongRenderTarget=qr(t),n}},{key:"_compileMaterial",value:function(e){var t=new Jn(zr[0],e);this._renderer.compile(t,Ir)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new ar(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(Br),s.toneMapping=0,s.autoClear=!1;var c=new On({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new Jn(new er,c),f=!1,d=e.background;d?d.isColor&&(c.color.copy(d),e.background=null,f=!0):(c.color.copy(Br),f=!0);for(var p=0;p<6;p++){var v=p%3;0==v?(i.up.set(0,o[p],0),i.lookAt(a[p],0,0)):1==v?(i.up.set(0,0,o[p]),i.lookAt(0,a[p],0)):(i.up.set(0,o[p],0),i.lookAt(0,0,a[p])),Xr(r,v*Rr,p>2?Rr:0,Rr,Rr),s.setRenderTarget(r),f&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=d}},{key:"_setEncoding",value:function(e,t){!0===this._renderer.capabilities.isWebGL2&&t.format===ue&&t.type===te&&t.encoding===Oe?e.value=Zr[3e3]:e.value=Zr[t.encoding]}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===W||e.mapping===B;r?null==this._cubemapShader&&(this._cubemapShader=Jr()):null==this._equirectShader&&(this._equirectShader=Yr());var i=r?this._cubemapShader:this._equirectShader,o=new Jn(zr[0],i),a=i.uniforms;a.envMap.value=e,r||a.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(a.inputEncoding,e),Xr(t,0,0,3*Rr,2*Rr),n.setRenderTarget(t),n.render(o,Ir)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<Qr;r++){var i=Math.sqrt(Wr[r]*Wr[r]-Wr[r-1]*Wr[r-1]),o=Ur[(r-1)%Ur.length];this._blur(e,r-1,r,i,o)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,o,a){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new Jn(zr[r],u),c=u.uniforms,h=jr[n]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,d=i/f,p=isFinite(i)?1+Math.floor(3*d):Dr;p>Dr&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Dr));for(var v=[],m=0,g=0;g<Dr;++g){var y=g/d,b=Math.exp(-y*y/2);v.push(b),0==g?m+=b:g<p&&(m+=2*b)}for(var O=0;O<v.length;O++)v[O]=v[O]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===o,a&&(c.poleAxis.value=a),c.dTheta.value=f,c.mipInt.value=8-n;var x=jr[r];Xr(t,3*Math.max(0,Rr-2*x),(0===r?0:2*Rr)+2*x*(r>4?r-8+4:0),3*x,2*x),s.setRenderTarget(t),s.render(l,Ir)}}]),e}();function Gr(){for(var e=[],t=[],n=[],r=8,i=0;i<Qr;i++){var o=Math.pow(2,r);t.push(o);var a=1/o;i>4?a=Lr[i-8+4-1]:0==i&&(a=0),n.push(a);for(var s=1/(o-1),u=-s/2,l=1+s/2,c=[u,u,l,u,l,l,u,u,l,l,u,l],h=new Float32Array(108),f=new Float32Array(72),d=new Float32Array(36),p=0;p<6;p++){var v=p%3*2/3-1,m=p>2?0:-1,g=[v,m,0,v+2/3,m,0,v+2/3,m+1,0,v,m,0,v+2/3,m+1,0,v,m+1,0];h.set(g,18*p),f.set(c,12*p);var y=[p,p,p,p,p,p];d.set(y,6*p)}var b=new Qn;b.setAttribute("position",new kn(h,3)),b.setAttribute("uv",new kn(f,2)),b.setAttribute("faceIndex",new kn(d,1)),e.push(b),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function qr(e){var t=new Ue(3*Rr,3*Rr,e);return t.texture.mapping=V,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Xr(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Yr(){var e=new Ze(1,1);return new Ar({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:Zr[3e3]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})}function Jr(){return new Ar({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Zr[3e3]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) );\n\n\t\t\t}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})}function Kr(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var o=i.mapping,a=o===F||o===$,s=o===W||o===B;if(a||s){if(t.has(i))return t.get(i).texture;var u=i.image;if(a&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(u)){var l=e.getRenderTarget();null===n&&(n=new Hr(e));var c=a?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),e.setRenderTarget(l),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function ei(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function ti(e,t,n,r){var i={},o=new WeakMap;function a(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);s.removeEventListener("dispose",a),delete i[s.id];var l=o.get(s);l&&(t.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,a=0;if(null!==r){var s=r.array;a=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],h=s[u+1],f=s[u+2];n.push(c,h,h,f,f,c)}}else{var d=i.array;a=i.version;for(var p=0,v=d.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var b=new(Ne(n)>65535?_n:Sn)(n,1);b.version=a;var O=o.get(e);O&&t.remove(O),o.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var o in i)for(var a=i[o],s=0,u=a.length;s<u;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=o.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function ni(e,t,n,r){var i,o,a,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,u,o,r*a,l),n.update(u,i,l)}}}function ri(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}var ii=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,C.Z)(this,n),(e=t.call(this,null)).image={data:r,width:i,height:o,depth:a},e.magFilter=X,e.minFilter=X,e.wrapR=G,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,A.Z)(n)}(Fe);function oi(e,t){return e[0]-t[0]}function ai(e,t){return Math.abs(t[1])-Math.abs(e[1])}function si(e,t){var n=1,r=t.isInterleavedBufferAttribute?t.data.array:t.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),e.divideScalar(n)}function ui(e,t,n){for(var r={},i=new Float32Array(8),o=new WeakMap,a=new Xe,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c,h){var f=u.morphTargetInfluences;if(!0===t.isWebGL2){var d=l.morphAttributes.position.length,p=o.get(l);if(void 0===p||p.count!==d){void 0!==p&&p.texture.dispose();var v=void 0!==l.morphAttributes.normal,m=l.morphAttributes.position,g=l.morphAttributes.normal||[],y=!0===v?2:1,b=l.attributes.position.count*y,O=1;b>t.maxTextureSize&&(O=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);var x=new Float32Array(b*O*4*d),w=new ii(x,b,O,d);w.format=ue,w.type=ie,w.needsUpdate=!0;for(var k=4*y,S=0;S<d;S++)for(var _=m[S],T=g[S],M=b*O*4*S,E=0;E<_.count;E++){a.fromBufferAttribute(_,E),!0===_.normalized&&si(a,_);var P=E*k;x[M+P+0]=a.x,x[M+P+1]=a.y,x[M+P+2]=a.z,x[M+P+3]=0,!0===v&&(a.fromBufferAttribute(T,E),!0===T.normalized&&si(a,T),x[M+P+4]=a.x,x[M+P+5]=a.y,x[M+P+6]=a.z,x[M+P+7]=0)}p={count:d,texture:w,size:new Ze(b,O)},o.set(l,p)}for(var C=0,A=0;A<f.length;A++)C+=f[A];var R=l.morphTargetsRelative?1:1-C;h.getUniforms().setValue(e,"morphTargetBaseInfluence",R),h.getUniforms().setValue(e,"morphTargetInfluences",f),h.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var L=void 0===f?0:f.length,Q=r[l.id];if(void 0===Q||Q.length!==L){Q=[];for(var D=0;D<L;D++)Q[D]=[D,0];r[l.id]=Q}for(var Z=0;Z<L;Z++){var I=Q[Z];I[0]=Z,I[1]=f[Z]}Q.sort(ai);for(var N=0;N<8;N++)N<L&&Q[N][1]?(s[N][0]=Q[N][0],s[N][1]=Q[N][1]):(s[N][0]=Number.MAX_SAFE_INTEGER,s[N][1]=0);s.sort(oi);for(var z=l.morphAttributes.position,j=l.morphAttributes.normal,W=0,B=0;B<8;B++){var F=s[B],$=F[0],V=F[1];$!==Number.MAX_SAFE_INTEGER&&V?(z&&l.getAttribute("morphTarget"+B)!==z[$]&&l.setAttribute("morphTarget"+B,z[$]),j&&l.getAttribute("morphNormal"+B)!==j[$]&&l.setAttribute("morphNormal"+B,j[$]),i[B]=V,W+=V):(z&&!0===l.hasAttribute("morphTarget"+B)&&l.deleteAttribute("morphTarget"+B),j&&!0===l.hasAttribute("morphNormal"+B)&&l.deleteAttribute("morphNormal"+B),i[B]=0)}var U=l.morphTargetsRelative?1:1-W;h.getUniforms().setValue(e,"morphTargetBaseInfluence",U),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function li(e,t,n,r){var i=new WeakMap;function o(e){var t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var a=r.render.frame,s=e.geometry,u=t.get(e,s);return i.get(u)!==a&&(t.update(u),i.set(u,a)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),u},dispose:function(){i=new WeakMap}}}ii.prototype.isDataTexture2DArray=!0;var ci=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,C.Z)(this,n),(e=t.call(this,null)).image={data:r,width:i,height:o,depth:a},e.magFilter=X,e.minFilter=X,e.wrapR=G,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,A.Z)(n)}(Fe);ci.prototype.isDataTexture3D=!0;var hi=new Fe,fi=new ii,di=new ci,pi=new lr,vi=[],mi=[],gi=new Float32Array(16),yi=new Float32Array(9),bi=new Float32Array(4);function Oi(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=vi[i];if(void 0===o&&(o=new Float32Array(i),vi[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function xi(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function wi(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function ki(e,t){var n=mi[t];void 0===n&&(n=new Int32Array(t),mi[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Si(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function _i(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(xi(n,t))return;e.uniform2fv(this.addr,t),wi(n,t)}}function Ti(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(xi(n,t))return;e.uniform3fv(this.addr,t),wi(n,t)}}function Mi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(xi(n,t))return;e.uniform4fv(this.addr,t),wi(n,t)}}function Ei(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xi(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),wi(n,t)}else{if(xi(n,r))return;bi.set(r),e.uniformMatrix2fv(this.addr,!1,bi),wi(n,r)}}function Pi(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xi(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),wi(n,t)}else{if(xi(n,r))return;yi.set(r),e.uniformMatrix3fv(this.addr,!1,yi),wi(n,r)}}function Ci(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xi(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),wi(n,t)}else{if(xi(n,r))return;gi.set(r),e.uniformMatrix4fv(this.addr,!1,gi),wi(n,r)}}function Ai(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ri(e,t){var n=this.cache;xi(n,t)||(e.uniform2iv(this.addr,t),wi(n,t))}function Li(e,t){var n=this.cache;xi(n,t)||(e.uniform3iv(this.addr,t),wi(n,t))}function Qi(e,t){var n=this.cache;xi(n,t)||(e.uniform4iv(this.addr,t),wi(n,t))}function Di(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Zi(e,t){var n=this.cache;xi(n,t)||(e.uniform2uiv(this.addr,t),wi(n,t))}function Ii(e,t){var n=this.cache;xi(n,t)||(e.uniform3uiv(this.addr,t),wi(n,t))}function Ni(e,t){var n=this.cache;xi(n,t)||(e.uniform4uiv(this.addr,t),wi(n,t))}function zi(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||hi,i)}function ji(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||di,i)}function Wi(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||pi,i)}function Bi(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||fi,i)}function Fi(e,t){e.uniform1fv(this.addr,t)}function $i(e,t){var n=Oi(t,this.size,2);e.uniform2fv(this.addr,n)}function Vi(e,t){var n=Oi(t,this.size,3);e.uniform3fv(this.addr,n)}function Ui(e,t){var n=Oi(t,this.size,4);e.uniform4fv(this.addr,n)}function Hi(e,t){var n=Oi(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Gi(e,t){var n=Oi(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function qi(e,t){var n=Oi(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Xi(e,t){e.uniform1iv(this.addr,t)}function Yi(e,t){e.uniform2iv(this.addr,t)}function Ji(e,t){e.uniform3iv(this.addr,t)}function Ki(e,t){e.uniform4iv(this.addr,t)}function eo(e,t){e.uniform1uiv(this.addr,t)}function to(e,t){e.uniform2uiv(this.addr,t)}function no(e,t){e.uniform3uiv(this.addr,t)}function ro(e,t){e.uniform4uiv(this.addr,t)}function io(e,t,n){var r=t.length,i=ki(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTexture2D(t[o]||hi,i[o])}function oo(e,t,n){var r=t.length,i=ki(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture3D(t[o]||di,i[o])}function ao(e,t,n){var r=t.length,i=ki(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTextureCube(t[o]||pi,i[o])}function so(e,t,n){var r=t.length,i=ki(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2DArray(t[o]||fi,i[o])}function uo(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Si;case 35664:return _i;case 35665:return Ti;case 35666:return Mi;case 35674:return Ei;case 35675:return Pi;case 35676:return Ci;case 5124:case 35670:return Ai;case 35667:case 35671:return Ri;case 35668:case 35672:return Li;case 35669:case 35673:return Qi;case 5125:return Di;case 36294:return Zi;case 36295:return Ii;case 36296:return Ni;case 35678:case 36198:case 36298:case 36306:case 35682:return zi;case 35679:case 36299:case 36307:return ji;case 35680:case 36300:case 36308:case 36293:return Wi;case 36289:case 36303:case 36311:case 36292:return Bi}}(t.type)}function lo(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Fi;case 35664:return $i;case 35665:return Vi;case 35666:return Ui;case 35674:return Hi;case 35675:return Gi;case 35676:return qi;case 5124:case 35670:return Xi;case 35667:case 35671:return Yi;case 35668:case 35672:return Ji;case 35669:case 35673:return Ki;case 5125:return eo;case 36294:return to;case 36295:return no;case 36296:return ro;case 35678:case 36198:case 36298:case 36306:case 35682:return io;case 35679:case 36299:case 36307:return oo;case 35680:case 36300:case 36308:case 36293:return ao;case 36289:case 36303:case 36311:case 36292:return so}}(t.type)}function co(e){this.id=e,this.seq=[],this.map={}}lo.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),wi(t,e)},co.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var ho=/(\w+)(\])?(\[|\.)?/g;function fo(e,t){e.seq.push(t),e.map[t.id]=t}function po(e,t,n){var r=e.name,i=r.length;for(ho.lastIndex=0;;){var o=ho.exec(r),a=ho.lastIndex,s=o[1],u="]"===o[2],l=o[3];if(u&&(s|=0),void 0===l||"["===l&&a+2===i){fo(n,void 0===l?new uo(s,e,t):new lo(s,e,t));break}var c=n.map[s];void 0===c&&fo(n,c=new co(s)),n=c}}function vo(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);po(i,e.getUniformLocation(t,i.name),this)}}function mo(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}vo.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},vo.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},vo.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},vo.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var go=0;function yo(e){switch(e){case be:return["Linear","( value )"];case Oe:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function bo(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":n.toUpperCase()+"\n\n"+i+"\n\n"+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function Oo(e,t){var n=yo(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function xo(e,t){var n=yo(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function wo(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ko(e){return""!==e}function So(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function _o(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var To=/^[ \t]*#include +<([\w\d./]+)>/gm;function Mo(e){return e.replace(To,Eo)}function Eo(e,t){var n=xr[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Mo(n)}var Po=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Co=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ao(e){return e.replace(Co,Lo).replace(Po,Ro)}function Ro(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Lo(e,t,n,r)}function Lo(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Qo(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Do(e,t,n,r){var i,o,a=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case W:case B:t="ENVMAP_TYPE_CUBE";break;case V:case U:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case B:case U:t="ENVMAP_MODE_REFRACTION"}return t}(n),d=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),p=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ko).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),m=a.createProgram(),g=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[v].filter(ko).join("\n")).length>0&&(i+="\n"),(o=[p,v].filter(ko).join("\n")).length>0&&(o+="\n")):(i=[Qo(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ko).join("\n"),o=[p,Qo(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?xr.tonemapping_pars_fragment:"",0!==n.toneMapping?wo("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.format===se?"#define OPAQUE":"",xr.encodings_pars_fragment,n.map?Oo("mapTexelToLinear",n.mapEncoding):"",n.matcap?Oo("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Oo("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Oo("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularColorMap?Oo("specularColorMapTexelToLinear",n.specularColorMapEncoding):"",n.sheenColorMap?Oo("sheenColorMapTexelToLinear",n.sheenColorMapEncoding):"",n.lightMap?Oo("lightMapTexelToLinear",n.lightMapEncoding):"",xo("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ko).join("\n")),u=_o(u=So(u=Mo(u),n),n),l=_o(l=So(l=Mo(l),n),n),u=Ao(u),l=Ao(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(g="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,o=["#define varying in",n.glslVersion===Se?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Se?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var y,b,O=g+o+l,x=mo(a,35633,g+i+u),w=mo(a,35632,O);if(a.attachShader(m,x),a.attachShader(m,w),void 0!==n.index0AttributeName?a.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&a.bindAttribLocation(m,0,"position"),a.linkProgram(m),e.debug.checkShaderErrors){var k=a.getProgramInfoLog(m).trim(),S=a.getShaderInfoLog(x).trim(),_=a.getShaderInfoLog(w).trim(),T=!0,M=!0;if(!1===a.getProgramParameter(m,35714)){T=!1;var E=bo(a,x,"vertex"),P=bo(a,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(m,35715)+"\n\nProgram Info Log: "+k+"\n"+E+"\n"+P)}else""!==k?console.warn("THREE.WebGLProgram: Program Info Log:",k):""!==S&&""!==_||(M=!1);M&&(this.diagnostics={runnable:T,programLog:k,vertexShader:{log:S,prefix:i},fragmentShader:{log:_,prefix:o}})}return a.deleteShader(x),a.deleteShader(w),this.getUniforms=function(){return void 0===y&&(y=new vo(a,m)),y},this.getAttributes=function(){return void 0===b&&(b=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),a=o.name,s=1;35674===o.type&&(s=2),35675===o.type&&(s=3),35676===o.type&&(s=4),n[a]={type:o.type,location:e.getAttribLocation(t,a),locationSize:s}}return n}(a,m)),b},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=go++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=w,this}var Zo=0,Io=function(){function e(){(0,C.Z)(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,A.Z)(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=this.materialCache.get(e),r=(0,O.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i)}}catch(o){r.e(o)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache;if(!1===t.has(e)){var n=new No;t.set(e,n)}return t.get(e)}}]),e}(),No=(0,A.Z)((function e(){(0,C.Z)(this,e),this.id=Zo++,this.usedTimes=0}));function zo(e,t,n,r,i,o,a){var s=new Nt,u=new Io,l=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,f=i.floatVertexTextures,d=i.maxVertexUniforms,p=i.vertexTextures,v=i.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(e){var t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=be,c&&e&&e.isTexture&&e.format===ue&&e.type===te&&e.encoding===Oe&&(t=be),t}return{getParameters:function(o,s,l,y,b){var O,x,w,k,S=y.fog,_=o.isMeshStandardMaterial?y.environment:null,T=(o.isMeshStandardMaterial?n:t).get(o.envMap||_),M=m[o.type],E=b.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(f)return 1024;var n=d,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(b):0;if(null!==o.precision&&(v=i.getMaxPrecision(o.precision))!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",v,"instead."),M){var P=kr[M];O=P.vertexShader,x=P.fragmentShader}else O=o.vertexShader,x=o.fragmentShader,u.update(o),w=u.getVertexShaderID(o),k=u.getFragmentShaderID(o);var C=e.getRenderTarget(),A=o.alphaTest>0,R=o.clearcoat>0;return{isWebGL2:c,shaderID:M,shaderName:o.type,vertexShader:O,fragmentShader:x,defines:o.defines,customVertexShaderID:w,customFragmentShaderID:k,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:v,instancing:!0===b.isInstancedMesh,instancingColor:!0===b.isInstancedMesh&&null!==b.instanceColor,supportsVertexTextures:p,outputEncoding:null!==C?g(C.texture):e.outputEncoding,map:!!o.map,mapEncoding:g(o.map),matcap:!!o.matcap,matcapEncoding:g(o.matcap),envMap:!!T,envMapMode:T&&T.mapping,envMapEncoding:g(T),envMapCubeUV:!!T&&(T.mapping===V||T.mapping===U),lightMap:!!o.lightMap,lightMapEncoding:g(o.lightMap),aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,emissiveMapEncoding:g(o.emissiveMap),bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:1===o.normalMapType,tangentSpaceNormalMap:0===o.normalMapType,clearcoat:R,clearcoatMap:R&&!!o.clearcoatMap,clearcoatRoughnessMap:R&&!!o.clearcoatRoughnessMap,clearcoatNormalMap:R&&!!o.clearcoatNormalMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,specularIntensityMap:!!o.specularIntensityMap,specularColorMap:!!o.specularColorMap,specularColorMapEncoding:g(o.specularColorMap),alphaMap:!!o.alphaMap,alphaTest:A,gradientMap:!!o.gradientMap,sheen:o.sheen>0,sheenColorMap:!!o.sheenColorMap,sheenColorMapEncoding:g(o.sheenColorMap),sheenRoughnessMap:!!o.sheenRoughnessMap,transmission:o.transmission>0,transmissionMap:!!o.transmissionMap,thicknessMap:!!o.thicknessMap,combine:o.combine,vertexTangents:!!o.normalMap&&!!b.geometry&&!!b.geometry.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!b.geometry&&!!b.geometry.attributes.color&&4===b.geometry.attributes.color.itemSize,vertexUvs:!!o.map||!!o.bumpMap||!!o.normalMap||!!o.specularMap||!!o.alphaMap||!!o.emissiveMap||!!o.roughnessMap||!!o.metalnessMap||!!o.clearcoatMap||!!o.clearcoatRoughnessMap||!!o.clearcoatNormalMap||!!o.displacementMap||!!o.transmissionMap||!!o.thicknessMap||!!o.specularIntensityMap||!!o.specularColorMap||!!o.sheenColorMap||!!o.sheenRoughnessMap,uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.transmission>0||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||o.sheen>0||o.sheenColorMap||o.sheenRoughnessMap)&&!!o.displacementMap,fog:!!S,useFog:o.fog,fogExp2:S&&S.isFogExp2,flatShading:!!o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===b.isSkinnedMesh&&E>0,maxBones:E,useVertexTexture:f,morphTargets:!!b.geometry&&!!b.geometry.morphAttributes.position,morphNormals:!!b.geometry&&!!b.geometry.morphAttributes.normal,morphTargetsCount:b.geometry&&b.geometry.morphAttributes.position?b.geometry.morphAttributes.position.length:0,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,format:o.format,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,depthPacking:void 0!==o.depthPacking&&o.depthPacking,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.mapEncoding),e.push(t.matcapEncoding),e.push(t.envMapMode),e.push(t.envMapEncoding),e.push(t.lightMapEncoding),e.push(t.emissiveMapEncoding),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.maxBones),e.push(t.morphTargetsCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.format),e.push(t.specularColorMapEncoding),e.push(t.sheenColorMapEncoding)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.envMapCubeUV&&s.enable(7);t.lightMap&&s.enable(8);t.aoMap&&s.enable(9);t.emissiveMap&&s.enable(10);t.bumpMap&&s.enable(11);t.normalMap&&s.enable(12);t.objectSpaceNormalMap&&s.enable(13);t.tangentSpaceNormalMap&&s.enable(14);t.clearcoat&&s.enable(15);t.clearcoatMap&&s.enable(16);t.clearcoatRoughnessMap&&s.enable(17);t.clearcoatNormalMap&&s.enable(18);t.displacementMap&&s.enable(19);t.specularMap&&s.enable(20);t.roughnessMap&&s.enable(21);t.metalnessMap&&s.enable(22);t.gradientMap&&s.enable(23);t.alphaMap&&s.enable(24);t.alphaTest&&s.enable(25);t.vertexColors&&s.enable(26);t.vertexAlphas&&s.enable(27);t.vertexUvs&&s.enable(28);t.vertexTangents&&s.enable(29);t.uvsVertexOnly&&s.enable(30);t.fog&&s.enable(31);e.push(s.mask),s.disableAll(),t.useFog&&s.enable(0);t.flatShading&&s.enable(1);t.logarithmicDepthBuffer&&s.enable(2);t.skinning&&s.enable(3);t.useVertexTexture&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.premultipliedAlpha&&s.enable(7);t.shadowMapEnabled&&s.enable(8);t.physicallyCorrectLights&&s.enable(9);t.doubleSided&&s.enable(10);t.flipSided&&s.enable(11);t.depthPacking&&s.enable(12);t.dithering&&s.enable(13);t.specularIntensityMap&&s.enable(14);t.specularColorMap&&s.enable(15);t.transmission&&s.enable(16);t.transmissionMap&&s.enable(17);t.thicknessMap&&s.enable(18);t.sheen&&s.enable(19);t.sheenColorMap&&s.enable(20);t.sheenRoughnessMap&&s.enable(21);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=m[e.type];if(n){var r=kr[n];t=rr.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,a=l.length;i<a;i++){var s=l[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new Do(e,n,t,o),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function jo(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Wo(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Bo(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Fo(){var e=[],t=0,n=[],r=[],i=[];function o(n,r,i,o,a,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=o,u.renderOrder=n.renderOrder,u.z=a,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,s,u,l){var c=o(e,t,a,s,u,l);a.transmission>0?r.push(c):!0===a.transparent?i.push(c):n.push(c)},unshift:function(e,t,a,s,u,l){var c=o(e,t,a,s,u,l);a.transmission>0?r.unshift(c):!0===a.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Wo),r.length>1&&r.sort(t||Bo),i.length>1&&i.sort(t||Bo)}}}function $o(){var e=new WeakMap;return{get:function(t,n){var r;return!1===e.has(t)?(r=new Fo,e.set(t,[r])):n>=e.get(t).length?(r=new Fo,e.get(t).push(r)):r=e.get(t)[n],r},dispose:function(){e=new WeakMap}}}function Vo(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Xe,color:new bn};break;case"SpotLight":n={position:new Xe,direction:new Xe,color:new bn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Xe,color:new bn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Xe,skyColor:new bn,groundColor:new bn};break;case"RectAreaLight":n={color:new bn,position:new Xe,halfWidth:new Xe,halfHeight:new Xe}}return e[t.id]=n,n}}}var Uo=0;function Ho(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Go(e,t){for(var n=new Vo,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ze};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ze,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)i.probe.push(new Xe);var a=new Xe,s=new Mt,u=new Mt;return{setup:function(o,a){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,f=0,d=0,p=0,v=0,m=0,g=0,y=0;o.sort(Ho);for(var b=!0!==a?Math.PI:1,O=0,x=o.length;O<x;O++){var w=o[O],k=w.color,S=w.intensity,_=w.distance,T=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)s+=k.r*S*b,u+=k.g*S*b,l+=k.b*S*b;else if(w.isLightProbe)for(var M=0;M<9;M++)i.probe[M].addScaledVector(w.sh.coefficients[M],S);else if(w.isDirectionalLight){var E=n.get(w);if(E.color.copy(w.color).multiplyScalar(w.intensity*b),w.castShadow){var P=w.shadow,C=r.get(w);C.shadowBias=P.bias,C.shadowNormalBias=P.normalBias,C.shadowRadius=P.radius,C.shadowMapSize=P.mapSize,i.directionalShadow[h]=C,i.directionalShadowMap[h]=T,i.directionalShadowMatrix[h]=w.shadow.matrix,m++}i.directional[h]=E,h++}else if(w.isSpotLight){var A=n.get(w);if(A.position.setFromMatrixPosition(w.matrixWorld),A.color.copy(k).multiplyScalar(S*b),A.distance=_,A.coneCos=Math.cos(w.angle),A.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),A.decay=w.decay,w.castShadow){var R=w.shadow,L=r.get(w);L.shadowBias=R.bias,L.shadowNormalBias=R.normalBias,L.shadowRadius=R.radius,L.shadowMapSize=R.mapSize,i.spotShadow[d]=L,i.spotShadowMap[d]=T,i.spotShadowMatrix[d]=w.shadow.matrix,y++}i.spot[d]=A,d++}else if(w.isRectAreaLight){var Q=n.get(w);Q.color.copy(k).multiplyScalar(S),Q.halfWidth.set(.5*w.width,0,0),Q.halfHeight.set(0,.5*w.height,0),i.rectArea[p]=Q,p++}else if(w.isPointLight){var D=n.get(w);if(D.color.copy(w.color).multiplyScalar(w.intensity*b),D.distance=w.distance,D.decay=w.decay,w.castShadow){var Z=w.shadow,I=r.get(w);I.shadowBias=Z.bias,I.shadowNormalBias=Z.normalBias,I.shadowRadius=Z.radius,I.shadowMapSize=Z.mapSize,I.shadowCameraNear=Z.camera.near,I.shadowCameraFar=Z.camera.far,i.pointShadow[f]=I,i.pointShadowMap[f]=T,i.pointShadowMatrix[f]=w.shadow.matrix,g++}i.point[f]=D,f++}else if(w.isHemisphereLight){var N=n.get(w);N.skyColor.copy(w.color).multiplyScalar(S*b),N.groundColor.copy(w.groundColor).multiplyScalar(S*b),i.hemi[v]=N,v++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=wr.LTC_FLOAT_1,i.rectAreaLTC2=wr.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=wr.LTC_HALF_1,i.rectAreaLTC2=wr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var z=i.hash;z.directionalLength===h&&z.pointLength===f&&z.spotLength===d&&z.rectAreaLength===p&&z.hemiLength===v&&z.numDirectionalShadows===m&&z.numPointShadows===g&&z.numSpotShadows===y||(i.directional.length=h,i.spot.length=d,i.rectArea.length=p,i.point.length=f,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotShadowMatrix.length=y,z.directionalLength=h,z.pointLength=f,z.spotLength=d,z.rectAreaLength=p,z.hemiLength=v,z.numDirectionalShadows=m,z.numPointShadows=g,z.numSpotShadows=y,i.version=Uo++)},setupView:function(e,t){for(var n=0,r=0,o=0,l=0,c=0,h=t.matrixWorldInverse,f=0,d=e.length;f<d;f++){var p=e[f];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(a),v.direction.transformDirection(h),n++}else if(p.isSpotLight){var m=i.spot[o];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(a),m.direction.transformDirection(h),o++}else if(p.isRectAreaLight){var g=i.rectArea[l];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),u.identity(),s.copy(p.matrixWorld),s.premultiply(h),u.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),l++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),r++}else if(p.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(h),b.direction.normalize(),c++}}},state:i}}function qo(e,t){var n=new Go(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Xo(e,t){var n=new WeakMap;return{get:function(r){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(i=new qo(e,t),n.set(r,[i])):o>=n.get(r).length?(i=new qo(e,t),n.get(r).push(i)):i=n.get(r)[o],i},dispose:function(){n=new WeakMap}}}var Yo=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(fn);Yo.prototype.isMeshDepthMaterial=!0;var Jo=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="MeshDistanceMaterial",r.referencePosition=new Xe,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(fn);Jo.prototype.isMeshDistanceMaterial=!0;function Ko(e,t,n){var r=new gr,i=new Ze,o=new Ze,a=new Ve,s=new Yo({depthPacking:3201}),u=new Jo,l={},c=n.maxTextureSize,h={0:1,1:0,2:2},f=new ir({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ze},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=f.clone();d.defines.HORIZONTAL_PASS=1;var p=new Qn;p.setAttribute("position",new kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new Jn(p,f),m=this;function g(n,r){var i=t.update(v);f.defines.VSM_SAMPLES!==n.blurSamples&&(f.defines.VSM_SAMPLES=n.blurSamples,d.defines.VSM_SAMPLES=n.blurSamples,f.needsUpdate=!0,d.needsUpdate=!0),f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,f,v,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,d,v,null)}function y(t,n,r,i,o,a,c){var f=null,d=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(f=void 0!==d?d:!0===i.isPointLight?u:s,e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length||r.displacementMap&&0!==r.displacementScale||r.alphaMap&&r.alphaTest>0){var p=f.uuid,v=r.uuid,m=l[p];void 0===m&&(m={},l[p]=m);var g=m[v];void 0===g&&(g=f.clone(),m[v]=g),f=g}return f.visible=r.visible,f.wireframe=r.wireframe,f.side=3===c?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:h[r.side],f.alphaMap=r.alphaMap,f.alphaTest=r.alphaTest,f.clipShadows=r.clipShadows,f.clippingPlanes=r.clippingPlanes,f.clipIntersection=r.clipIntersection,f.displacementMap=r.displacementMap,f.displacementScale=r.displacementScale,f.displacementBias=r.displacementBias,f.wireframeLinewidth=r.wireframeLinewidth,f.linewidth=r.linewidth,!0===i.isPointLight&&!0===f.isMeshDistanceMaterial&&(f.referencePosition.setFromMatrixPosition(i.matrixWorld),f.nearDistance=o,f.farDistance=a),f}function b(n,i,o,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,h=0,f=c.length;h<f;h++){var d=c[h],p=l[d.materialIndex];if(p&&p.visible){var v=y(n,0,p,a,o.near,o.far,s);e.renderBufferDirect(o,null,u,v,n,d)}}else if(l.visible){var m=y(n,0,l,a,o.near,o.far,s);e.renderBufferDirect(o,null,u,m,n,null)}}for(var g=n.children,O=0,x=g.length;O<x;O++)b(g[O],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,s){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var v=t[d],y=v.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var O=y.getFrameExtents();if(i.multiply(O),o.copy(y.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/O.x),i.x=o.x*O.x,y.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/O.y),i.y=o.y*O.y,y.mapSize.y=o.y)),null===y.map&&!y.isPointLightShadow&&3===this.type){var x={minFilter:K,magFilter:K,format:ue};y.map=new Ue(i.x,i.y,x),y.map.texture.name=v.name+".shadowMap",y.mapPass=new Ue(i.x,i.y,x),y.camera.updateProjectionMatrix()}if(null===y.map){var w={minFilter:X,magFilter:X,format:ue};y.map=new Ue(i.x,i.y,w),y.map.texture.name=v.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var k=y.getViewportCount(),S=0;S<k;S++){var _=y.getViewport(S);a.set(o.x*_.x,o.y*_.y,o.x*_.z,o.y*_.w),f.viewport(a),y.updateMatrices(v,S),r=y.getFrustum(),b(n,s,y.camera,v,this.type)}y.isPointLightShadow||3!==this.type||g(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(u,l,h)}}}function ea(e,t,n){var r,i,o=n.isWebGL2;var a=new function(){var t=!1,n=new Ve,r=null,i=new Ve(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?z(2929):W(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?z(2960):W(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&u===r||(e.stencilOp(t,n,r),a=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,l=null}}},l={},c={},h=null,f=!1,d=null,p=null,v=null,m=null,g=null,y=null,b=null,O=!1,w=null,k=null,S=null,_=null,T=null,M=e.getParameter(35661),E=!1,P=0,C=e.getParameter(7938);-1!==C.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(C)[1]),E=P>=1):-1!==C.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(C)[1]),E=P>=2);var A=null,R={},L=e.getParameter(3088),Q=e.getParameter(2978),D=(new Ve).fromArray(L),Z=(new Ve).fromArray(Q);function I(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var N={};function z(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function W(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}N[3553]=I(3553,3553,1),N[34067]=I(34067,34069,6),a.setClear(0,0,0,1),s.setClear(1),u.setClear(0),z(2929),s.setFunc(3),U(!1),H(1),z(2884),V(0);var B=(r={},(0,x.Z)(r,j,32774),(0,x.Z)(r,101,32778),(0,x.Z)(r,102,32779),r);if(o)B[103]=32775,B[104]=32776;else{var F=t.get("EXT_blend_minmax");null!==F&&(B[103]=F.MIN_EXT,B[104]=F.MAX_EXT)}var $=(i={},(0,x.Z)(i,200,0),(0,x.Z)(i,201,1),(0,x.Z)(i,202,768),(0,x.Z)(i,204,770),(0,x.Z)(i,210,776),(0,x.Z)(i,208,774),(0,x.Z)(i,206,772),(0,x.Z)(i,203,769),(0,x.Z)(i,205,771),(0,x.Z)(i,209,775),(0,x.Z)(i,207,773),i);function V(t,n,r,i,o,a,s,u){if(0!==t){if(!1===f&&(z(3042),f=!0),5===t)o=o||n,a=a||r,s=s||i,n===p&&o===g||(e.blendEquationSeparate(B[n],B[o]),p=n,g=o),r===v&&i===m&&a===y&&s===b||(e.blendFuncSeparate($[r],$[i],$[a],$[s]),v=r,m=i,y=a,b=s),d=t,O=null;else if(t!==d||u!==O){if(p===j&&g===j||(e.blendEquation(32774),p=j,g=j),u)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,m=null,y=null,b=null,d=t,O=u}}else!0===f&&(W(3042),f=!1)}function U(t){w!==t&&(t?e.frontFace(2304):e.frontFace(2305),w=t)}function H(t){0!==t?(z(2884),t!==k&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):W(2884),k=t}function G(t,n,r){t?(z(32823),_===n&&T===r||(e.polygonOffset(n,r),_=n,T=r)):W(32823)}function q(t){void 0===t&&(t=33984+M-1),A!==t&&(e.activeTexture(t),A=t)}return{buffers:{color:a,depth:s,stencil:u},enable:z,disable:W,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,o&&(36009===t&&(c[36160]=n),36160===t&&(c[36009]=n)),!0)},useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:V,setMaterial:function(e,t){2===e.side?W(2884):z(2884);var n=1===e.side;t&&(n=!n),U(n),1===e.blending&&!1===e.transparent?V(0):V(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),a.setMask(e.colorWrite);var r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),G(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?z(32926):W(32926)},setFlipSided:U,setCullFace:H,setLineWidth:function(t){t!==S&&(E&&e.lineWidth(t),S=t)},setPolygonOffset:G,setScissorTest:function(e){e?z(3089):W(3089)},activeTexture:q,bindTexture:function(t,n){null===A&&q();var r=R[A];void 0===r&&(r={type:void 0,texture:void 0},R[A]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||N[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=R[A];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===D.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),D.copy(t))},viewport:function(t){!1===Z.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),Z.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===o&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},A=null,R={},c={},h=null,f=!1,d=null,p=null,v=null,m=null,g=null,y=null,b=null,O=!1,w=null,k=null,S=null,_=null,T=null,D.set(0,0,e.canvas.width,e.canvas.height),Z.set(0,0,e.canvas.width,e.canvas.height),a.reset(),s.reset(),u.reset()}}}function ta(e,t,n,r,i,o,a){var s,u,l,c=i.isWebGL2,h=i.maxTextures,f=i.maxCubemapSize,d=i.maxTextureSize,p=i.maxSamples,v=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):void 0,m=new WeakMap,g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(F){}function y(e,t){return g?new OffscreenCanvas(e,t):je("canvas")}function b(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?De:Math.floor,a=o(i*e.width),s=o(i*e.height);void 0===l&&(l=y(a,s));var u=n?y(a,s):l;return u.width=a,u.height=s,u.getContext("2d").drawImage(e,0,0,a,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function O(e){return Qe(e.width)&&Qe(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==X&&e.minFilter!==K}function k(t){e.generateMipmap(t)}function S(n,r,i,o){if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=r;return 6403===r&&(5126===i&&(a=33326),5131===i&&(a=33325),5121===i&&(a=33321)),6407===r&&(5126===i&&(a=34837),5131===i&&(a=34843),5121===i&&(a=32849)),6408===r&&(5126===i&&(a=34836),5131===i&&(a=34842),5121===i&&(a=o===Oe?35907:32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function _(e,t,n){return!0===w(e,n)||e.isFramebufferTexture&&e.minFilter!==X&&e.minFilter!==K?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function T(e){return e===X||e===Y||e===J?9728:9729}function M(t){var n=t.target;n.removeEventListener("dispose",M),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&m.delete(n),a.memory.textures--}function E(t){var n=t.target;n.removeEventListener("dispose",E),function(t){var n=t.texture,i=r.get(t),o=r.get(n);if(!t)return;void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var u=0,l=n.length;u<l;u++){var c=r.get(n[u]);c.__webglTexture&&(e.deleteTexture(c.__webglTexture),a.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(t)}(n)}var P=0;function C(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=a.render.frame;m.get(e)!==t&&(m.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void Z(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function A(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?function(t,r,i){if(6!==r.image.length)return;D(t,r),n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var a=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,u=[],l=0;l<6;l++)u[l]=a||s?s?r.image[l].image:r.image[l]:b(r.image[l],!1,!0,f);var h,d=u[0],p=O(d)||c,v=o.convert(r.format),m=o.convert(r.type),g=S(r.internalFormat,v,m,r.encoding),y=c&&!0!==r.isVideoTexture,x=void 0===t.__version,T=_(r,d,p);if(Q(34067,r,p),a){y&&x&&n.texStorage2D(34067,T,g,d.width,d.height);for(var M=0;M<6;M++){h=u[M].mipmaps;for(var E=0;E<h.length;E++){var P=h[E];r.format!==ue&&r.format!==se?null!==v?y?n.compressedTexSubImage2D(34069+M,E,0,0,P.width,P.height,v,P.data):n.compressedTexImage2D(34069+M,E,g,P.width,P.height,0,P.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(34069+M,E,0,0,P.width,P.height,v,m,P.data):n.texImage2D(34069+M,E,g,P.width,P.height,0,v,m,P.data)}}}else{h=r.mipmaps,y&&x&&(h.length>0&&T++,n.texStorage2D(34067,T,g,u[0].width,u[0].height));for(var C=0;C<6;C++)if(s){y?n.texSubImage2D(34069+C,0,0,0,u[C].width,u[C].height,v,m,u[C].data):n.texImage2D(34069+C,0,g,u[C].width,u[C].height,0,v,m,u[C].data);for(var A=0;A<h.length;A++){var R=h[A].image[C].image;y?n.texSubImage2D(34069+C,A+1,0,0,R.width,R.height,v,m,R.data):n.texImage2D(34069+C,A+1,g,R.width,R.height,0,v,m,R.data)}}else{y?n.texSubImage2D(34069+C,0,0,0,v,m,u[C]):n.texImage2D(34069+C,0,g,v,m,u[C]);for(var L=0;L<h.length;L++){var Z=h[L];y?n.texSubImage2D(34069+C,L+1,0,0,v,m,Z.image[C]):n.texImage2D(34069+C,L+1,g,v,m,Z.image[C])}}}w(r,p)&&k(34067);t.__version=r.version,r.onUpdate&&r.onUpdate(r)}(a,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,a.__webglTexture))}var R=(s={},(0,x.Z)(s,H,10497),(0,x.Z)(s,G,33071),(0,x.Z)(s,q,33648),s),L=(u={},(0,x.Z)(u,X,9728),(0,x.Z)(u,Y,9984),(0,x.Z)(u,J,9986),(0,x.Z)(u,K,9729),(0,x.Z)(u,1007,9985),(0,x.Z)(u,ee,9987),u);function Q(n,o,a){if(a?(e.texParameteri(n,10242,R[o.wrapS]),e.texParameteri(n,10243,R[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,R[o.wrapR]),e.texParameteri(n,10240,L[o.magFilter]),e.texParameteri(n,10241,L[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===G&&o.wrapT===G||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,T(o.magFilter)),e.texParameteri(n,10241,T(o.minFilter)),o.minFilter!==X&&o.minFilter!==K&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(o.type===ie&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&o.type===oe&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function D(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",M),t.__webglTexture=e.createTexture(),a.memory.textures++)}function Z(t,r,i){var a=3553;r.isDataTexture2DArray&&(a=35866),r.isDataTexture3D&&(a=32879),D(t,r),n.activeTexture(33984+i),n.bindTexture(a,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var s,u=function(e){return!c&&(e.wrapS!==G||e.wrapT!==G||e.minFilter!==X&&e.minFilter!==K)}(r)&&!1===O(r.image),l=b(r.image,u,!1,d),h=O(l)||c,f=o.convert(r.format),p=o.convert(r.type),v=S(r.internalFormat,f,p,r.encoding);Q(a,r,h);var m=r.mipmaps,g=c&&!0!==r.isVideoTexture,y=void 0===t.__version,x=_(r,l,h);if(r.isDepthTexture)v=6402,c?v=r.type===ie?36012:r.type===re?33190:r.type===ae?35056:33189:r.type===ie&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===le&&6402===v&&r.type!==ne&&r.type!==re&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=ne,p=o.convert(r.type)),r.format===ce&&6402===v&&(v=34041,r.type!==ae&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=ae,p=o.convert(r.type))),g&&y?n.texStorage2D(3553,1,v,l.width,l.height):n.texImage2D(3553,0,v,l.width,l.height,0,f,p,null);else if(r.isDataTexture)if(m.length>0&&h){g&&y&&n.texStorage2D(3553,x,v,m[0].width,m[0].height);for(var T=0,M=m.length;T<M;T++)s=m[T],g?n.texSubImage2D(3553,0,0,0,s.width,s.height,f,p,s.data):n.texImage2D(3553,T,v,s.width,s.height,0,f,p,s.data);r.generateMipmaps=!1}else g?(y&&n.texStorage2D(3553,x,v,l.width,l.height),n.texSubImage2D(3553,0,0,0,l.width,l.height,f,p,l.data)):n.texImage2D(3553,0,v,l.width,l.height,0,f,p,l.data);else if(r.isCompressedTexture){g&&y&&n.texStorage2D(3553,x,v,m[0].width,m[0].height);for(var E=0,P=m.length;E<P;E++)s=m[E],r.format!==ue&&r.format!==se?null!==f?g?n.compressedTexSubImage2D(3553,E,0,0,s.width,s.height,f,s.data):n.compressedTexImage2D(3553,E,v,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):g?n.texSubImage2D(3553,E,0,0,s.width,s.height,f,p,s.data):n.texImage2D(3553,E,v,s.width,s.height,0,f,p,s.data)}else if(r.isDataTexture2DArray)g?(y&&n.texStorage3D(35866,x,v,l.width,l.height,l.depth),n.texSubImage3D(35866,0,0,0,0,l.width,l.height,l.depth,f,p,l.data)):n.texImage3D(35866,0,v,l.width,l.height,l.depth,0,f,p,l.data);else if(r.isDataTexture3D)g?(y&&n.texStorage3D(32879,x,v,l.width,l.height,l.depth),n.texSubImage3D(32879,0,0,0,0,l.width,l.height,l.depth,f,p,l.data)):n.texImage3D(32879,0,v,l.width,l.height,l.depth,0,f,p,l.data);else if(r.isFramebufferTexture)g&&y?n.texStorage2D(3553,x,v,l.width,l.height):n.texImage2D(3553,0,v,l.width,l.height,0,f,p,null);else if(m.length>0&&h){g&&y&&n.texStorage2D(3553,x,v,m[0].width,m[0].height);for(var C=0,A=m.length;C<A;C++)s=m[C],g?n.texSubImage2D(3553,C,0,0,f,p,s):n.texImage2D(3553,C,v,f,p,s);r.generateMipmaps=!1}else g?(y&&n.texStorage2D(3553,x,v,l.width,l.height),n.texSubImage2D(3553,0,0,0,f,p,l)):n.texImage2D(3553,0,v,f,p,l);w(r,h)&&k(a),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function I(t,i,a,s,u){var l=o.convert(a.format),c=o.convert(a.type),h=S(a.internalFormat,l,c,a.encoding);r.get(i).__hasExternalTextures||(32879===u||35866===u?n.texImage3D(u,0,h,i.width,i.height,i.depth,0,l,c,null):n.texImage2D(u,0,h,i.width,i.height,0,l,c,null)),n.bindFramebuffer(36160,t),i.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,s,u,r.get(a).__webglTexture,0,j(i)):e.framebufferTexture2D(36160,s,u,r.get(a).__webglTexture,0),n.bindFramebuffer(36160,null)}function N(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||n.useRenderToTexture){var a=n.depthTexture;a&&a.isDepthTexture&&(a.type===ie?i=36012:a.type===re&&(i=33190));var s=j(n);n.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,s,i,n.width,n.height):e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var u=j(n);r&&n.useRenderbuffer?e.renderbufferStorageMultisample(36161,u,35056,n.width,n.height):n.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,u,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{var l=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,c=o.convert(l.format),h=o.convert(l.type),f=S(l.internalFormat,c,h,l.encoding),d=j(n);r&&n.useRenderbuffer?e.renderbufferStorageMultisample(36161,d,f,n.width,n.height):n.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,d,f,n.width,n.height):e.renderbufferStorage(36161,f,n.width,n.height)}e.bindRenderbuffer(36161,null)}function z(t){var i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),C(i.depthTexture,0);var o=r.get(i.depthTexture).__webglTexture,a=j(i);if(i.depthTexture.format===le)i.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,o,0,a):e.framebufferTexture2D(36160,36096,3553,o,0);else{if(i.depthTexture.format!==ce)throw new Error("Unknown depthTexture format");i.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,o,0,a):e.framebufferTexture2D(36160,33306,3553,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)n.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),N(i.__webglDepthbuffer[a],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),N(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function j(e){return c&&(e.useRenderbuffer||e.useRenderToTexture)?Math.min(p,e.samples):0}var W=!1,B=!1;this.allocateTextureUnit=function(){var e=P;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=C,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?Z(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?Z(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=A,this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&I(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&z(e)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",E),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,a.memory.textures++);var h=!0===t.isWebGLCubeRenderTarget,f=!0===t.isWebGLMultipleRenderTargets,d=s.isDataTexture3D||s.isDataTexture2DArray,p=O(t)||c;if(!c||s.format!==se||s.type!==ie&&s.type!==oe||(s.format=ue,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),h){u.__webglFramebuffer=[];for(var v=0;v<6;v++)u.__webglFramebuffer[v]=e.createFramebuffer()}else if(u.__webglFramebuffer=e.createFramebuffer(),f)if(i.drawBuffers)for(var m=t.texture,g=0,y=m.length;g<y;g++){var b=r.get(m[g]);void 0===b.__webglTexture&&(b.__webglTexture=e.createTexture(),a.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(t.useRenderbuffer)if(c){u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer);var x=o.convert(s.format),_=o.convert(s.type),T=S(s.internalFormat,x,_,s.encoding),M=j(t);e.renderbufferStorageMultisample(36161,M,T,t.width,t.height),n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,u.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),N(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(h){n.bindTexture(34067,l.__webglTexture),Q(34067,s,p);for(var P=0;P<6;P++)I(u.__webglFramebuffer[P],t,s,36064,34069+P);w(s,p)&&k(34067),n.unbindTexture()}else if(f){for(var C=t.texture,A=0,R=C.length;A<R;A++){var L=C[A],D=r.get(L);n.bindTexture(3553,D.__webglTexture),Q(3553,L,p),I(u.__webglFramebuffer,t,L,36064+A,3553),w(L,p)&&k(3553)}n.unbindTexture()}else{var Z=3553;if(d)if(c)Z=s.isDataTexture3D?32879:35866;else console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.");n.bindTexture(Z,l.__webglTexture),Q(Z,s,p),I(u.__webglFramebuffer,t,s,36064,Z),w(s,p)&&k(Z),n.unbindTexture()}t.depthBuffer&&z(t)},this.updateRenderTargetMipmap=function(e){for(var t=O(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],o=0,a=i.length;o<a;o++){var s=i[o];if(w(s,t)){var u=e.isWebGLCubeRenderTarget?34067:3553,l=r.get(s).__webglTexture;n.bindTexture(u,l),k(u),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.useRenderbuffer)if(c){var i=t.width,o=t.height,a=16384,s=[36064],u=t.stencilBuffer?33306:36096;t.depthBuffer&&s.push(u),t.ignoreDepthForMultisampleCopy||(t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024));var l=r.get(t);n.bindFramebuffer(36008,l.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,l.__webglFramebuffer),t.ignoreDepthForMultisampleCopy&&(e.invalidateFramebuffer(36008,[u]),e.invalidateFramebuffer(36009,[u])),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),e.invalidateFramebuffer(36008,s),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,l.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=I,this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===W&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),W=!0),e=e.texture),C(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===B&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),B=!0),e=e.texture),A(e,t)}}function na(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===te)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===ne)return 5123;if(1013===e)return 5124;if(e===re)return 5125;if(e===ie)return 5126;if(e===oe)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(e===se)return 6407;if(e===ue)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===le)return 6402;if(e===ce)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===e)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===e)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(37492===e)return n.COMPRESSED_RGB8_ETC2;if(37496===e)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:36492===e?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===ae?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var ra=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,C.Z)(this,n),(e=t.call(this)).cameras=r,e}return(0,A.Z)(n)}(ar);ra.prototype.isArrayCamera=!0;var ia=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.call(this)).type="Group",e}return(0,A.Z)(n)}(Jt);ia.prototype.isGroup=!0;var oa={type:"move"},aa=function(){function e(){(0,C.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,A.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new ia,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new ia,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Xe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Xe),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new ia,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Xe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Xe),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,o=null,a=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==a&&null!==(r=t.getPose(e.targetRaySpace,n))&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(oa)),u&&e.hand){o=!0;var l,c=(0,O.Z)(e.hand.values());try{for(c.s();!(l=c.n()).done;){var h=l.value,f=t.getJointPose(h,n);if(void 0===u.joints[h.jointName]){var d=new ia;d.matrixAutoUpdate=!1,d.visible=!1,u.joints[h.jointName]=d,u.add(d)}var p=u.joints[h.jointName];null!==f&&(p.matrix.fromArray(f.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=f.radius),p.visible=null!==f}}catch(y){c.e(y)}finally{c.f()}var v=u.joints["index-finger-tip"],m=u.joints["thumb-tip"],g=v.position.distanceTo(m.position);u.inputState.pinching&&g>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&g<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==o),this}}]),e}(),sa=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o,a,s,u,l,c,h){var f;if((0,C.Z)(this,n),(h=void 0!==h?h:le)!==le&&h!==ce)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&h===le&&(i=ne),void 0===i&&h===ce&&(i=ae),(f=t.call(this,null,o,a,s,u,l,h,i,c)).image={width:e,height:r},f.magFilter=void 0!==u?u:X,f.minFilter=void 0!==l?l:X,f.flipY=!1,f.generateMipmaps=!1,f}return(0,A.Z)(n)}(Fe);sa.prototype.isDepthTexture=!0;var ua=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;(0,C.Z)(this,n),i=t.call(this);var o=(0,M.Z)(i),a=null,s=1,u=null,l="local-floor",c=e.extensions.has("WEBGL_multisampled_render_to_texture"),h=null,f=null,d=null,p=null,v=!1,m=null,g=r.getContextAttributes(),b=null,O=null,x=[],w=new Map,k=new ar;k.layers.enable(1),k.viewport=new Ve;var S=new ar;S.layers.enable(2),S.viewport=new Ve;var _=[k,S],T=new ra;T.layers.enable(1),T.layers.enable(2);var E=null,P=null;function A(e){var t=w.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function R(){w.forEach((function(e,t){e.disconnect(t)})),w.clear(),E=null,P=null,e.setRenderTarget(b),p=null,d=null,f=null,a=null,O=null,z.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function Q(e){for(var t=a.inputSources,n=0;n<x.length;n++)w.set(t[n],x[n]);for(var r=0;r<e.removed.length;r++){var i=e.removed[r],o=w.get(i);o&&(o.dispatchEvent({type:"disconnected",data:i}),w.delete(i))}for(var s=0;s<e.added.length;s++){var u=e.added[s],l=w.get(u);l&&l.dispatchEvent({type:"connected",data:u})}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=x[e];return void 0===t&&(t=new aa,x[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=x[e];return void 0===t&&(t=new aa,x[e]=t),t.getGripSpace()},i.getHand=function(e){var t=x[e];return void 0===t&&(t=new aa,x[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){l=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return u},i.getBaseLayer=function(){return null!==d?d:p},i.getBinding=function(){return f},i.getFrame=function(){return m},i.getSession=function(){return a},i.setSession=function(){var t=y(L().mark((function t(n){var i,h,m,y,x;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(a=n)){t.next=23;break}if(b=e.getRenderTarget(),a.addEventListener("select",A),a.addEventListener("selectstart",A),a.addEventListener("selectend",A),a.addEventListener("squeeze",A),a.addEventListener("squeezestart",A),a.addEventListener("squeezeend",A),a.addEventListener("end",R),a.addEventListener("inputsourceschange",Q),!0===g.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===a.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==a.renderState.layers||g.antialias,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s},p=new XRWebGLLayer(a,r,i),a.updateRenderState({baseLayer:p}),O=new Ue(p.framebufferWidth,p.framebufferHeight,{format:ue,type:te,encoding:e.outputEncoding})):(v=g.antialias,h=null,m=null,y=null,g.depth&&(y=g.stencil?35056:33190,h=g.stencil?ce:le,m=g.stencil?ae:ne),x={colorFormat:g.alpha||v?32856:32849,depthFormat:y,scaleFactor:s},f=new XRWebGLBinding(a,r),d=f.createProjectionLayer(x),a.updateRenderState({layers:[d]}),O=v?new Ge(d.textureWidth,d.textureHeight,{format:ue,type:te,depthTexture:new sa(d.textureWidth,d.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,h),stencilBuffer:g.stencil,ignoreDepth:d.ignoreDepthValues,useRenderToTexture:c,encoding:e.outputEncoding}):new Ue(d.textureWidth,d.textureHeight,{format:g.alpha?ue:se,type:te,depthTexture:new sa(d.textureWidth,d.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,h),stencilBuffer:g.stencil,ignoreDepth:d.ignoreDepthValues,encoding:e.outputEncoding})),this.setFoveation(1),t.next=18,a.requestReferenceSpace(l);case 18:u=t.sent,z.setContext(a),z.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 23:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var D=new Xe,Z=new Xe;function I(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==a){T.near=S.near=k.near=e.near,T.far=S.far=k.far=e.far,E===T.near&&P===T.far||(a.updateRenderState({depthNear:T.near,depthFar:T.far}),E=T.near,P=T.far);var t=e.parent,n=T.cameras;I(T,t);for(var r=0;r<n.length;r++)I(n[r],t);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),e.position.copy(T.position),e.quaternion.copy(T.quaternion),e.scale.copy(T.scale),e.matrix.copy(T.matrix),e.matrixWorld.copy(T.matrixWorld);for(var i=e.children,o=0,s=i.length;o<s;o++)i[o].updateMatrixWorld(!0);2===n.length?function(e,t,n){D.setFromMatrixPosition(t.matrixWorld),Z.setFromMatrixPosition(n.matrixWorld);var r=D.distanceTo(Z),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(o[8]+1)/o[0],f=a*c,d=a*h,p=r/(-c+h),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=a+p,g=s+p,y=f-v,b=d+(r-v),O=u*s/g*m,x=l*s/g*m;e.projectionMatrix.makePerspective(y,b,O,x,m,g)}(T,k,S):T.projectionMatrix.copy(k.projectionMatrix)}},i.getCamera=function(){return T},i.getFoveation=function(){return null!==d?d.fixedFoveation:null!==p?p.fixedFoveation:void 0},i.setFoveation=function(e){null!==d&&(d.fixedFoveation=e),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=e)};var N=null;var z=new yr;return z.setAnimationLoop((function(t,n){if(h=n.getViewerPose(u),m=n,null!==h){var r=h.views;null!==p&&(e.setRenderTargetFramebuffer(O,p.framebuffer),e.setRenderTarget(O));var i=!1;r.length!==T.cameras.length&&(T.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var s=r[o],l=null;if(null!==p)l=p.getViewport(s);else{var c=f.getViewSubImage(d,s);l=c.viewport,0===o&&(e.setRenderTargetTextures(O,c.colorTexture,d.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(O))}var v=_[o];v.matrix.fromArray(s.transform.matrix),v.projectionMatrix.fromArray(s.projectionMatrix),v.viewport.set(l.x,l.y,l.width,l.height),0===o&&T.matrix.copy(v.matrix),!0===i&&T.cameras.push(v)}}for(var g=a.inputSources,y=0;y<x.length;y++){var b=x[y],w=g[y];b.update(w,n,u)}N&&N(t,n),m=null})),i.setAnimationLoop=function(e){N=e},i.dispose=function(){},i}return(0,A.Z)(n)}(_e);function la(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap),n.alphaTest>0&&(t.alphaTest.value=n.alphaTest);var r,i,o=e.get(n).envMap;o&&(t.envMap.value=o,t.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,t.reflectivity.value=n.reflectivity,t.ior.value=n.ior,t.refractionRatio.value=n.refractionRatio),n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap?r=n.clearcoatRoughnessMap:n.specularIntensityMap?r=n.specularIntensityMap:n.specularColorMap?r=n.specularColorMap:n.transmissionMap?r=n.transmissionMap:n.thicknessMap?r=n.thicknessMap:n.sheenColorMap?r=n.sheenColorMap:n.sheenRoughnessMap&&(r=n.sheenRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&&(i=n.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,1===n.side&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),1===n.side&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,o,a){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t,r){n(e,t),e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate()));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,a):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,o):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function ca(){var e=je("canvas");return e.style.display="block",e}function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0!==e.canvas?e.canvas:ca(),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,h=null,f=null,d=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=be,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;var v=this,m=!1,g=0,y=0,b=null,O=-1,x=null,w=new Ve,k=new Ve,S=null,_=t.width,T=t.height,M=1,E=null,P=null,C=new Ve(0,0,_,T),A=new Ve(0,0,_,T),R=!1,L=[],D=new gr,Z=!1,I=!1,N=null,z=new Mt,j=new Xe,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function B(){return null===b?M:1}var F,$,V,U,H,q,Y,J,K,ne,re,ae,se,le,ce,he,fe,de,pe,ve,me,ge,ye,Oe=n;function xe(e,n){for(var r=0;r<e.length;r++){var i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{var we={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(Q)),t.addEventListener("webglcontextlost",Te,!1),t.addEventListener("webglcontextrestored",Me,!1),null===Oe){var ke=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&ke.shift(),null===(Oe=xe(ke,we)))throw xe(ke)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Oe.getShaderPrecisionFormat&&(Oe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(qe){throw console.error("THREE.WebGLRenderer: "+qe.message),qe}function Se(){F=new ei(Oe),$=new Mr(Oe,F,e),F.init($),ge=new na(Oe,F,$),V=new ea(Oe,F,$),L[0]=1029,U=new ri(Oe),H=new jo,q=new ta(Oe,F,V,H,$,ge,U),Y=new Pr(v),J=new Kr(v),K=new br(Oe,$),ye=new _r(Oe,F,K,$),ne=new ti(Oe,K,U,ye),re=new li(Oe,ne,K,U),pe=new ui(Oe,$,q),he=new Er(H),ae=new zo(v,Y,J,F,$,ye,he),se=new la(H),le=new $o,ce=new Xo(F,$),de=new Sr(v,Y,V,re,s),fe=new Ko(v,re,$),ve=new Tr(Oe,F,U,$),me=new ni(Oe,F,U,$),U.programs=ae.programs,v.capabilities=$,v.extensions=F,v.properties=H,v.renderLists=le,v.shadowMap=fe,v.state=V,v.info=U}Se();var _e=new ua(v,Oe);function Te(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function Me(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=U.autoReset,t=fe.enabled,n=fe.autoUpdate,r=fe.needsUpdate,i=fe.type;Se(),U.autoReset=e,fe.enabled=t,fe.autoUpdate=n,fe.needsUpdate=r,fe.type=i}function Ee(e){var t=e.target;t.removeEventListener("dispose",Ee),Pe(t)}function Pe(e){Ce(e),H.remove(e)}function Ce(e){var t=H.get(e).programs;void 0!==t&&(t.forEach((function(e){ae.releaseProgram(e)})),e.isShaderMaterial&&ae.releaseShaderCache(e))}this.xr=_e,this.getContext=function(){return Oe},this.getContextAttributes=function(){return Oe.getContextAttributes()},this.forceContextLoss=function(){var e=F.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=F.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function(e){void 0!==e&&(M=e,this.setSize(_,T,!1))},this.getSize=function(e){return e.set(_,T)},this.setSize=function(e,n,r){_e.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(_=e,T=n,t.width=Math.floor(e*M),t.height=Math.floor(n*M),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(_*M,T*M).floor()},this.setDrawingBufferSize=function(e,n,r){_=e,T=n,M=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(w)},this.getViewport=function(e){return e.copy(C)},this.setViewport=function(e,t,n,r){e.isVector4?C.set(e.x,e.y,e.z,e.w):C.set(e,t,n,r),V.viewport(w.copy(C).multiplyScalar(M).floor())},this.getScissor=function(e){return e.copy(A)},this.setScissor=function(e,t,n,r){e.isVector4?A.set(e.x,e.y,e.z,e.w):A.set(e,t,n,r),V.scissor(k.copy(A).multiplyScalar(M).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){V.setScissorTest(R=e)},this.setOpaqueSort=function(e){E=e},this.setTransparentSort=function(e){P=e},this.getClearColor=function(e){return e.copy(de.getClearColor())},this.setClearColor=function(){de.setClearColor.apply(de,arguments)},this.getClearAlpha=function(){return de.getClearAlpha()},this.setClearAlpha=function(){de.setClearAlpha.apply(de,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),Oe.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Te,!1),t.removeEventListener("webglcontextrestored",Me,!1),le.dispose(),ce.dispose(),H.dispose(),Y.dispose(),J.dispose(),re.dispose(),ye.dispose(),ae.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",Le),_e.removeEventListener("sessionend",Qe),N&&(N.dispose(),N=null),De.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=W);var a=i.isMesh&&i.matrixWorld.determinant()<0,s=Fe(e,t,n,r,i);V.setMaterial(r,a);var u=n.index,l=n.attributes.position;if(null===u){if(void 0===l||0===l.count)return}else if(0===u.count)return;var c,h=1;!0===r.wireframe&&(u=ne.getWireframeAttribute(n),h=2),ye.setup(i,r,s,n,u);var f=ve;null!==u&&(c=K.get(u),(f=me).setIndex(c));var d=null!==u?u.count:l.count,p=n.drawRange.start*h,v=n.drawRange.count*h,m=null!==o?o.start*h:0,g=null!==o?o.count*h:1/0,y=Math.max(p,m),b=Math.min(d,p+v,m+g)-1,O=Math.max(0,b-y+1);if(0!==O){if(i.isMesh)!0===r.wireframe?(V.setLineWidth(r.wireframeLinewidth*B()),f.setMode(1)):f.setMode(4);else if(i.isLine){var x=r.linewidth;void 0===x&&(x=1),V.setLineWidth(x*B()),i.isLineSegments?f.setMode(1):i.isLineLoop?f.setMode(2):f.setMode(3)}else i.isPoints?f.setMode(0):i.isSprite&&f.setMode(4);if(i.isInstancedMesh)f.renderInstances(y,O,i.count);else if(n.isInstancedBufferGeometry){var w=Math.min(n.instanceCount,n._maxInstanceCount);f.renderInstances(y,O,w)}else f.render(y,O)}},this.compile=function(e,t){(f=ce.get(e)).init(),p.push(f),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))})),f.setupLights(v.physicallyCorrectLights),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++){We(n[r],e,t)}else We(n,e,t)})),p.pop(),f=null};var Ae=null;function Re(e){Ae&&Ae(e)}function Le(){De.stop()}function Qe(){De.start()}var De=new yr;function Ze(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)f.pushLight(e),e.castShadow&&f.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){r&&j.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var i=re.update(e),o=e.material;o.visible&&h.push(e,i,o,n,j.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==U.render.frame&&(e.skeleton.update(),e.skeleton.frame=U.render.frame),!e.frustumCulled||D.intersectsObject(e))){r&&j.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var a=re.update(e),s=e.material;if(Array.isArray(s))for(var u=a.groups,l=0,c=u.length;l<c;l++){var d=u[l],p=s[d.materialIndex];p&&p.visible&&h.push(e,a,p,n,j.z,d)}else s.visible&&h.push(e,a,s,n,j.z,null)}for(var v=e.children,m=0,g=v.length;m<g;m++)Ze(v[m],t,n,r)}}function Ie(e,t,n,r){var i=e.opaque,o=e.transmissive,a=e.transparent;f.setupLightsView(n),o.length>0&&Ne(i,t,n),r&&V.viewport(w.copy(r)),i.length>0&&ze(i,t,n),o.length>0&&ze(o,t,n),a.length>0&&ze(a,t,n)}function Ne(e,t,n){if(null===N){var r=!0===a&&!0===$.isWebGL2;N=new(r?Ge:Ue)(1024,1024,{generateMipmaps:!0,type:null!==ge.convert(oe)?oe:te,minFilter:ee,magFilter:X,wrapS:G,wrapT:G,useRenderToTexture:F.has("WEBGL_multisampled_render_to_texture")})}var i=v.getRenderTarget();v.setRenderTarget(N),v.clear();var o=v.toneMapping;v.toneMapping=0,ze(e,t,n),v.toneMapping=o,q.updateMultisampleRenderTarget(N),q.updateRenderTargetMipmap(N),v.setRenderTarget(i)}function ze(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,l=null===r?a.material:r,c=a.group;s.layers.test(n.layers)&&je(s,t,n,u,l,c)}}function je(e,t,n,r,i,o){e.onBeforeRender(v,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(v,t,n,r,e,o),!0===i.transparent&&2===i.side?(i.side=1,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,o),i.side=0,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,o),i.side=2):v.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(v,t,n,r,i,o)}function We(e,t,n){!0!==t.isScene&&(t=W);var r=H.get(e),i=f.state.lights,o=f.state.shadowsArray,a=i.state.version,s=ae.getParameters(e,i.state,o,t,n),u=ae.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?J:Y).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Ee),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===a)return Be(e,s),c}else s.uniforms=ae.getUniforms(e),e.onBuild(n,s,v),e.onBeforeCompile(s,v),c=ae.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=he.uniform),Be(e,s),r.needsLights=He(e),r.lightsStateVersion=a,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotShadowMatrix.value=i.state.spotShadowMatrix,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),p=vo.seqWithValue(d.seq,h);return r.currentProgram=c,r.uniformsList=p,c}function Be(e,t){var n=H.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function Fe(e,t,n,r,i){!0!==t.isScene&&(t=W),q.resetTextureUnits();var o=t.fog,a=r.isMeshStandardMaterial?t.environment:null,s=null===b?v.outputEncoding:b.texture.encoding,u=(r.isMeshStandardMaterial?J:Y).get(r.envMap||a),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,p=n.morphAttributes.position?n.morphAttributes.position.length:0,m=r.toneMapped?v.toneMapping:0,g=H.get(r),y=f.state.lights;if(!0===Z&&(!0===I||e!==x)){var w=e===x&&r.id===O;he.setState(r,e,w)}var k=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputEncoding!==s||i.isInstancedMesh&&!1===g.instancing?k=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?k=!0:i.isSkinnedMesh||!0!==g.skinning?g.envMap!==u||r.fog&&g.fog!==o?k=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===he.numPlanes&&g.numIntersection===he.numIntersection?(g.vertexAlphas!==l||g.vertexTangents!==c||g.morphTargets!==h||g.morphNormals!==d||g.toneMapping!==m||!0===$.isWebGL2&&g.morphTargetsCount!==p)&&(k=!0):k=!0:k=!0:k=!0:(k=!0,g.__version=r.version);var S=g.currentProgram;!0===k&&(S=We(r,t,i));var _=!1,E=!1,P=!1,C=S.getUniforms(),A=g.uniforms;if(V.useProgram(S.program)&&(_=!0,E=!0,P=!0),r.id!==O&&(O=r.id,E=!0),_||x!==e){if(C.setValue(Oe,"projectionMatrix",e.projectionMatrix),$.logarithmicDepthBuffer&&C.setValue(Oe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),x!==e&&(x=e,E=!0,P=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var R=C.map.cameraPosition;void 0!==R&&R.setValue(Oe,j.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&C.setValue(Oe,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&C.setValue(Oe,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){C.setOptional(Oe,i,"bindMatrix"),C.setOptional(Oe,i,"bindMatrixInverse");var L=i.skeleton;L&&($.floatVertexTextures?(null===L.boneTexture&&L.computeBoneTexture(),C.setValue(Oe,"boneTexture",L.boneTexture,q),C.setValue(Oe,"boneTextureSize",L.boneTextureSize)):C.setOptional(Oe,L,"boneMatrices"))}return!n||void 0===n.morphAttributes.position&&void 0===n.morphAttributes.normal||pe.update(i,n,r,S),(E||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,C.setValue(Oe,"receiveShadow",i.receiveShadow)),E&&(C.setValue(Oe,"toneMappingExposure",v.toneMappingExposure),g.needsLights&&$e(A,P),o&&r.fog&&se.refreshFogUniforms(A,o),se.refreshMaterialUniforms(A,r,M,T,N),vo.upload(Oe,g.uniformsList,A,q)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(vo.upload(Oe,g.uniformsList,A,q),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&C.setValue(Oe,"center",i.center),C.setValue(Oe,"modelViewMatrix",i.modelViewMatrix),C.setValue(Oe,"normalMatrix",i.normalMatrix),C.setValue(Oe,"modelMatrix",i.matrixWorld),S}function $e(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function He(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}De.setAnimationLoop(Re),"undefined"!==typeof window&&De.setContext(window),this.setAnimationLoop=function(e){Ae=e,_e.setAnimationLoop(e),null===e?De.stop():De.start()},_e.addEventListener("sessionstart",Le),_e.addEventListener("sessionend",Qe),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==m){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===_e.enabled&&!0===_e.isPresenting&&(!0===_e.cameraAutoUpdate&&_e.updateCamera(t),t=_e.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,b),(f=ce.get(e,p.length)).init(),p.push(f),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(z),I=this.localClippingEnabled,Z=he.init(this.clippingPlanes,I,t),(h=le.get(e,d.length)).init(),d.push(h),Ze(e,t,0,v.sortObjects),h.finish(),!0===v.sortObjects&&h.sort(E,P),!0===Z&&he.beginShadows();var n=f.state.shadowsArray;if(fe.render(n,e,t),!0===Z&&he.endShadows(),!0===this.info.autoReset&&this.info.reset(),de.render(h,e),f.setupLights(v.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,o=r.length;i<o;i++){var a=r[i];Ie(h,e,a,a.viewport)}else Ie(h,e,t);null!==b&&(q.updateMultisampleRenderTarget(b),q.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(v,e,t),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),ye.resetDefaultState(),O=-1,x=null,p.pop(),f=p.length>0?p[p.length-1]:null,d.pop(),h=d.length>0?d[d.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(e,t,n){H.get(e.texture).__webglTexture=t,H.get(e.depthTexture).__webglTexture=n;var r=H.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||e.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),e.useRenderToTexture=!1,e.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(e,t){var n=H.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,g=t,y=n;var r=!0;if(e){var i=H.get(e);void 0!==i.__useDefaultFramebuffer?(V.bindFramebuffer(36160,null),r=!1):void 0===i.__webglFramebuffer?q.setupRenderTarget(e):i.__hasExternalTextures&&q.rebindTextures(e,H.get(e.texture).__webglTexture,H.get(e.depthTexture).__webglTexture)}var o=null,a=!1,s=!1;if(e){var u=e.texture;(u.isDataTexture3D||u.isDataTexture2DArray)&&(s=!0);var l=H.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(o=l[t],a=!0):o=e.useRenderbuffer?H.get(e).__webglMultisampledFramebuffer:l,w.copy(e.viewport),k.copy(e.scissor),S=e.scissorTest}else w.copy(C).multiplyScalar(M).floor(),k.copy(A).multiplyScalar(M).floor(),S=R;var c=V.bindFramebuffer(36160,o);if(c&&$.drawBuffers&&r){var h=!1;if(e)if(e.isWebGLMultipleRenderTargets){var f=e.texture;if(L.length!==f.length||36064!==L[0]){for(var d=0,p=f.length;d<p;d++)L[d]=36064+d;L.length=f.length,h=!0}}else 1===L.length&&36064===L[0]||(L[0]=36064,L.length=1,h=!0);else 1===L.length&&1029===L[0]||(L[0]=1029,L.length=1,h=!0);h&&($.isWebGL2?Oe.drawBuffers(L):F.get("WEBGL_draw_buffers").drawBuffersWEBGL(L))}if(V.viewport(w),V.scissor(k),V.setScissorTest(S),a){var v=H.get(e.texture);Oe.framebufferTexture2D(36160,36064,34069+t,v.__webglTexture,n)}else if(s){var m=H.get(e.texture),x=t||0;Oe.framebufferTextureLayer(36160,36064,m.__webglTexture,n||0,x)}O=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(e&&e.isWebGLRenderTarget){var s=H.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){V.bindFramebuffer(36160,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==ue&&ge.convert(l)!==Oe.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===oe&&(F.has("EXT_color_buffer_half_float")||$.isWebGL2&&F.has("EXT_color_buffer_float"));if(c!==te&&ge.convert(c)!==Oe.getParameter(35738)&&(c!==ie||!($.isWebGL2||F.has("OES_texture_float")||F.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===Oe.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Oe.readPixels(t,n,r,i,ge.convert(l),ge.convert(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{var f=null!==b?H.get(b).__webglFramebuffer:null;V.bindFramebuffer(36160,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!0===t.isFramebufferTexture){var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);q.setTexture2D(t,0),Oe.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,o),V.unbindTexture()}else console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.")},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,o=t.image.height,a=ge.convert(n.format),s=ge.convert(n.type);q.setTexture2D(n,0),Oe.pixelStorei(37440,n.flipY),Oe.pixelStorei(37441,n.premultiplyAlpha),Oe.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?Oe.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?Oe.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):Oe.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&Oe.generateMipmap(3553),V.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(v.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var o,a=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=ge.convert(r.format),c=ge.convert(r.type);if(r.isDataTexture3D)q.setTexture3D(r,0),o=32879;else{if(!r.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");q.setTexture2DArray(r,0),o=35866}Oe.pixelStorei(37440,r.flipY),Oe.pixelStorei(37441,r.premultiplyAlpha),Oe.pixelStorei(3317,r.unpackAlignment);var h=Oe.getParameter(3314),f=Oe.getParameter(32878),d=Oe.getParameter(3316),p=Oe.getParameter(3315),m=Oe.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;Oe.pixelStorei(3314,g.width),Oe.pixelStorei(32878,g.height),Oe.pixelStorei(3316,e.min.x),Oe.pixelStorei(3315,e.min.y),Oe.pixelStorei(32877,e.min.z),n.isDataTexture||n.isDataTexture3D?Oe.texSubImage3D(o,i,t.x,t.y,t.z,a,s,u,l,c,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Oe.compressedTexSubImage3D(o,i,t.x,t.y,t.z,a,s,u,l,g.data)):Oe.texSubImage3D(o,i,t.x,t.y,t.z,a,s,u,l,c,g),Oe.pixelStorei(3314,h),Oe.pixelStorei(32878,f),Oe.pixelStorei(3316,d),Oe.pixelStorei(3315,p),Oe.pixelStorei(32877,m),0===i&&r.generateMipmaps&&Oe.generateMipmap(o),V.unbindTexture()}},this.initTexture=function(e){q.setTexture2D(e,0),V.unbindTexture()},this.resetState=function(){g=0,y=0,b=null,V.reset(),ye.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}ha.prototype.isWebGLRenderer=!0;var fa=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n)}(ha);fa.prototype.isWebGL1Renderer=!0;var da=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;(0,C.Z)(this,e),this.name="",this.color=new bn(t),this.density=n}return(0,A.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}();da.prototype.isFogExp2=!0;var pa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,C.Z)(this,e),this.name="",this.color=new bn(t),this.near=n,this.far=r}return(0,A.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}();pa.prototype.isFog=!0;var va=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,M.Z)(e)})),e}return(0,A.Z)(n,[{key:"copy",value:function(e,t){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(Jt);va.prototype.isScene=!0;var ma=function(){function e(t,n){(0,C.Z)(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=we,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ce()}return(0,A.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ce()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ce()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();ma.prototype.isInterleavedBuffer=!0;var ga=new Xe,ya=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,C.Z)(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return(0,A.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)ga.x=this.getX(t),ga.y=this.getY(t),ga.z=this.getZ(t),ga.applyMatrix4(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)ga.x=this.getX(t),ga.y=this.getY(t),ga.z=this.getZ(t),ga.applyNormalMatrix(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)ga.x=this.getX(t),ga.y=this.getY(t),ga.z=this.getZ(t),ga.transformDirection(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,o=0;o<this.itemSize;o++)n.push(this.data.array[i+o]);return new kn(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();ya.prototype.isInterleavedBufferAttribute=!0;var ba,Oa=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="SpriteMaterial",r.color=new bn(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(fn);Oa.prototype.isSpriteMaterial=!0;var xa=new Xe,wa=new Xe,ka=new Xe,Sa=new Ze,_a=new Ze,Ta=new Mt,Ma=new Xe,Ea=new Xe,Pa=new Xe,Ca=new Ze,Aa=new Ze,Ra=new Ze,La=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;if((0,C.Z)(this,n),(r=t.call(this)).type="Sprite",void 0===ba){ba=new Qn;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new ma(i,5);ba.setIndex([0,1,2,0,2,3]),ba.setAttribute("position",new ya(o,3,0,!1)),ba.setAttribute("uv",new ya(o,2,3,!1))}return r.geometry=ba,r.material=void 0!==e?e:new Oa,r.center=new Ze(.5,.5),r}return(0,A.Z)(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wa.setFromMatrixScale(this.matrixWorld),Ta.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ka.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&wa.multiplyScalar(-ka.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;Qa(Ma.set(-.5,-.5,0),ka,o,wa,n,r),Qa(Ea.set(.5,-.5,0),ka,o,wa,n,r),Qa(Pa.set(.5,.5,0),ka,o,wa,n,r),Ca.set(0,0),Aa.set(1,0),Ra.set(1,1);var a=e.ray.intersectTriangle(Ma,Ea,Pa,!1,xa);if(null!==a||(Qa(Ea.set(-.5,.5,0),ka,o,wa,n,r),Aa.set(0,1),null!==(a=e.ray.intersectTriangle(Ma,Pa,Ea,!1,xa)))){var s=e.ray.origin.distanceTo(xa);s<e.near||s>e.far||t.push({distance:s,point:xa.clone(),uv:cn.getUV(xa,Ma,Ea,Pa,Ca,Aa,Ra,new Ze),face:null,object:this})}}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Jt);function Qa(e,t,n,r,i,o){Sa.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(_a.x=o*Sa.x-i*Sa.y,_a.y=i*Sa.x+o*Sa.y):_a.copy(Sa),e.copy(t),e.x+=_a.x,e.y+=_a.y,e.applyMatrix4(Ta)}La.prototype.isSprite=!0;var Da=new Xe,Za=new Ve,Ia=new Ve,Na=new Xe,za=new Mt,ja=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;return(0,C.Z)(this,n),(i=t.call(this,e,r)).type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new Mt,i.bindMatrixInverse=new Mt,i}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Ve,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;Za.fromBufferAttribute(r.attributes.skinIndex,e),Ia.fromBufferAttribute(r.attributes.skinWeight,e),Da.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var o=Ia.getComponent(i);if(0!==o){var a=Za.getComponent(i);za.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(Na.copy(Da).applyMatrix4(za),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(Jn);ja.prototype.isSkinnedMesh=!0;var Wa=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.call(this)).type="Bone",e}return(0,A.Z)(n)}(Jt);Wa.prototype.isBone=!0;var Ba=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:X,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:X,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return(0,C.Z)(this,n),(e=t.call(this,null,u,l,c,h,f,a,s,d,p)).image={data:r,width:i,height:o},e.magFilter=h,e.minFilter=f,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,A.Z)(n)}(Fe);Ba.prototype.isDataTexture=!0;var Fa=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,C.Z)(this,n),"number"===typeof i&&(a=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(o=t.call(this,e,r,i)).meshPerAttribute=a,o}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(kn);Fa.prototype.isInstancedBufferAttribute=!0;var $a=new Mt,Va=new Mt,Ua=[],Ha=new Jn,Ga=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var o;return(0,C.Z)(this,n),(o=t.call(this,e,r)).instanceMatrix=new Fa(new Float32Array(16*i),16),o.instanceColor=null,o.count=i,o.frustumCulled=!1,o}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Ha.geometry=this.geometry,Ha.material=this.material,void 0!==Ha.material)for(var i=0;i<r;i++){this.getMatrixAt(i,$a),Va.multiplyMatrices(n,$a),Ha.matrixWorld=Va,Ha.raycast(e,Ua);for(var o=0,a=Ua.length;o<a;o++){var s=Ua[o];s.instanceId=i,s.object=this,t.push(s)}Ua.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Fa(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Jn);Ga.prototype.isInstancedMesh=!0;var qa=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="LineBasicMaterial",r.color=new bn(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}]),n}(fn);qa.prototype.isLineBasicMaterial=!0;var Xa=new Xe,Ya=new Xe,Ja=new Mt,Ka=new Tt,es=new yt,ts=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qa;return(0,C.Z)(this,n),(e=t.call(this)).type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Xa.fromBufferAttribute(t,r-1),Ya.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Xa.distanceTo(Ya);e.setAttribute("lineDistance",new Tn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),es.copy(n.boundingSphere),es.applyMatrix4(r),es.radius+=i,!1!==e.ray.intersectsSphere(es)){Ja.copy(r).invert(),Ka.copy(e.ray).applyMatrix4(Ja);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,u=new Xe,l=new Xe,c=new Xe,h=new Xe,f=this.isLineSegments?2:1;if(n.isBufferGeometry){var d=n.index,p=n.attributes.position;if(null!==d)for(var v=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count)-1;v<m;v+=f){var g=d.getX(v),y=d.getX(v+1);if(u.fromBufferAttribute(p,g),l.fromBufferAttribute(p,y),!(Ka.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var O=Math.max(0,o.start),x=Math.min(p.count,o.start+o.count)-1;O<x;O+=f){if(u.fromBufferAttribute(p,O),l.fromBufferAttribute(p,O+1),!(Ka.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(Jt);ts.prototype.isLine=!0;var ns=new Xe,rs=new Xe,is=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;return(0,C.Z)(this,n),(i=t.call(this,e,r)).type="LineSegments",i}return(0,A.Z)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)ns.fromBufferAttribute(t,r),rs.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+ns.distanceTo(rs);e.setAttribute("lineDistance",new Tn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),n}(ts);is.prototype.isLineSegments=!0;var os=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;return(0,C.Z)(this,n),(i=t.call(this,e,r)).type="LineLoop",i}return(0,A.Z)(n)}(ts);os.prototype.isLineLoop=!0;var as=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="PointsMaterial",r.color=new bn(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(fn);as.prototype.isPointsMaterial=!0;var ss=new Mt,us=new Tt,ls=new yt,cs=new Xe,hs=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new as;return(0,C.Z)(this,n),(e=t.call(this)).type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ls.copy(n.boundingSphere),ls.applyMatrix4(r),ls.radius+=i,!1!==e.ray.intersectsSphere(ls)){ss.copy(r).invert(),us.copy(e.ray).applyMatrix4(ss);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a;if(n.isBufferGeometry){var u=n.index,l=n.attributes.position;if(null!==u)for(var c=Math.max(0,o.start),h=Math.min(u.count,o.start+o.count);c<h;c++){var f=u.getX(c);cs.fromBufferAttribute(l,f),fs(cs,f,s,r,e,t,this)}else for(var d=Math.max(0,o.start),p=Math.min(l.count,o.start+o.count);d<p;d++)cs.fromBufferAttribute(l,d),fs(cs,d,s,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(Jt);function fs(e,t,n,r,i,o,a){var s=us.distanceSqToPoint(e);if(s<n){var u=new Xe;us.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:a})}}hs.prototype.isPoints=!0;var ds=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o,a,s,u,l,c){var h;(0,C.Z)(this,n),(h=t.call(this,e,r,i,o,a,s,u,l,c)).format=void 0!==u?u:se,h.minFilter=void 0!==s?s:K,h.magFilter=void 0!==a?a:K,h.generateMipmaps=!1;var f=(0,M.Z)(h);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){f.needsUpdate=!0,e.requestVideoFrameCallback(t)})),h}return(0,A.Z)(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Fe);ds.prototype.isVideoTexture=!0;var ps=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var o;return(0,C.Z)(this,n),(o=t.call(this,{width:e,height:r})).format=i,o.magFilter=X,o.minFilter=X,o.generateMipmaps=!1,o.needsUpdate=!0,o}return(0,A.Z)(n)}(Fe);ps.prototype.isFramebufferTexture=!0;var vs=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o,a,s,u,l,c,h,f,d){var p;return(0,C.Z)(this,n),(p=t.call(this,null,s,u,l,c,h,o,a,f,d)).image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return(0,A.Z)(n)}(Fe);vs.prototype.isCompressedTexture=!0;var ms=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o,a,s,u,l,c){var h;return(0,C.Z)(this,n),(h=t.call(this,e,r,i,o,a,s,u,l,c)).needsUpdate=!0,h}return(0,A.Z)(n)}(Fe);ms.prototype.isCanvasTexture=!0;var gs=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,C.Z)(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:o,radialSegments:a,heightSegments:s,openEnded:u,thetaStart:l,thetaLength:c};var h=(0,M.Z)(e);a=Math.floor(a),s=Math.floor(s);var f=[],d=[],p=[],v=[],m=0,g=[],y=o/2,b=0;function O(){for(var e=new Xe,t=new Xe,n=0,u=(i-r)/o,O=0;O<=s;O++){for(var x=[],w=O/s,k=w*(i-r)+r,S=0;S<=a;S++){var _=S/a,T=_*c+l,M=Math.sin(T),E=Math.cos(T);t.x=k*M,t.y=-w*o+y,t.z=k*E,d.push(t.x,t.y,t.z),e.set(M,u,E).normalize(),p.push(e.x,e.y,e.z),v.push(_,1-w),x.push(m++)}g.push(x)}for(var P=0;P<a;P++)for(var C=0;C<s;C++){var A=g[C][P],R=g[C+1][P],L=g[C+1][P+1],Q=g[C][P+1];f.push(A,R,Q),f.push(R,L,Q),n+=6}h.addGroup(b,n,0),b+=n}function x(e){for(var t=m,n=new Ze,o=new Xe,s=0,u=!0===e?r:i,g=!0===e?1:-1,O=1;O<=a;O++)d.push(0,y*g,0),p.push(0,g,0),v.push(.5,.5),m++;for(var x=m,w=0;w<=a;w++){var k=w/a*c+l,S=Math.cos(k),_=Math.sin(k);o.x=u*_,o.y=y*g,o.z=u*S,d.push(o.x,o.y,o.z),p.push(0,g,0),n.x=.5*S+.5,n.y=.5*_*g+.5,v.push(n.x,n.y),m++}for(var T=0;T<a;T++){var M=t+T,E=x+T;!0===e?f.push(E,E+1,M):f.push(E+1,E,M),s+=3}h.addGroup(b,s,!0===e?1:2),b+=s}return O(),!1===u&&(r>0&&x(!0),i>0&&x(!1)),e.setIndex(f),e.setAttribute("position",new Tn(d,3)),e.setAttribute("normal",new Tn(p,3)),e.setAttribute("uv",new Tn(v,2)),e}return(0,A.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Qn),ys=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return(0,C.Z)(this,n),(e=t.call(this,0,r,i,o,a,s,u,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:o,heightSegments:a,openEnded:s,thetaStart:u,thetaLength:l},e}return(0,A.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(gs),bs=(new Xe,new Xe,new Xe,new cn,function(){function e(){(0,C.Z)(this,e),this.type="Curve",this.arcLengthDivisions=200}return(0,A.Z)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var o=1;o<=e;o++)i+=(t=this.getPoint(o/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if((a=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(o-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(o-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new Ze:new Xe);return s.copy(a).sub(o).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Xe,r=[],i=[],o=[],a=new Xe,s=new Mt,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new Xe)}i[0]=new Xe,o[0]=new Xe;var c=Number.MAX_VALUE,h=Math.abs(r[0].x),f=Math.abs(r[0].y),d=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),d<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();var v=Math.acos(Ae(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(a,v))}o[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(Ae(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),o[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:o}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}()),Os=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,C.Z)(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=o,e.yRadius=a,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=c,e}return(0,A.Z)(n,[{key:"getPoint",value:function(e,t){for(var n=t||new Ze,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,f=u-this.aY;s=h*l-f*c+this.aX,u=h*c+f*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(bs);Os.prototype.isEllipseCurve=!0;var xs=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o,a,s){var u;return(0,C.Z)(this,n),(u=t.call(this,e,r,i,i,o,a,s)).type="ArcCurve",u}return(0,A.Z)(n)}(Os);function ws(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var u=(t-e)/o-(n-e)/(o+a)+(n-t)/a,l=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,u*=a,l*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}xs.prototype.isArcCurve=!0;var ks=new Xe,Ss=new ws,_s=new ws,Ts=new ws,Ms=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,C.Z)(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=o,e.tension=a,e}return(0,A.Z)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe,i=r,o=this.points,a=o.length,s=(a-(this.closed?0:1))*e,u=Math.floor(s),l=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/a)+1)*a:0===l&&u===a-1&&(u=a-2,l=1),this.closed||u>0?t=o[(u-1)%a]:(ks.subVectors(o[0],o[1]).add(o[0]),t=ks);var c=o[u%a],h=o[(u+1)%a];if(this.closed||u+2<a?n=o[(u+2)%a]:(ks.subVectors(o[a-1],o[a-2]).add(o[a-1]),n=ks),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,d=Math.pow(t.distanceToSquared(c),f),p=Math.pow(c.distanceToSquared(h),f),v=Math.pow(h.distanceToSquared(n),f);p<1e-4&&(p=1),d<1e-4&&(d=p),v<1e-4&&(v=p),Ss.initNonuniformCatmullRom(t.x,c.x,h.x,n.x,d,p,v),_s.initNonuniformCatmullRom(t.y,c.y,h.y,n.y,d,p,v),Ts.initNonuniformCatmullRom(t.z,c.z,h.z,n.z,d,p,v)}else"catmullrom"===this.curveType&&(Ss.initCatmullRom(t.x,c.x,h.x,n.x,this.tension),_s.initCatmullRom(t.y,c.y,h.y,n.y,this.tension),Ts.initCatmullRom(t.z,c.z,h.z,n.z,this.tension));return i.set(Ss.calc(l),_s.calc(l),Ts.calc(l)),i}},{key:"copy",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Xe).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(bs);function Es(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function Ps(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Cs(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}Ms.prototype.isCatmullRomCurve3=!0;var As=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ze,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ze,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ze,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ze;return(0,C.Z)(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=o,e.v3=a,e}return(0,A.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ze,n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Cs(e,r.x,i.x,o.x,a.x),Cs(e,r.y,i.y,o.y,a.y)),n}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(bs);As.prototype.isCubicBezierCurve=!0;var Rs=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xe,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Xe,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Xe;return(0,C.Z)(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=o,e.v3=a,e}return(0,A.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe,n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Cs(e,r.x,i.x,o.x,a.x),Cs(e,r.y,i.y,o.y,a.y),Cs(e,r.z,i.z,o.z,a.z)),n}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(bs);Rs.prototype.isCubicBezierCurve3=!0;var Ls=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ze,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ze;return(0,C.Z)(this,n),(e=t.call(this)).type="LineCurve",e.v1=r,e.v2=i,e}return(0,A.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ze,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new Ze;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(bs);Ls.prototype.isLineCurve=!0;var Qs=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xe,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe;return(0,C.Z)(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=r,e.v2=i,e}return(0,A.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(bs),Ds=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ze,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ze,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ze;return(0,C.Z)(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=o,e}return(0,A.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ze,n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Ps(e,r.x,i.x,o.x),Ps(e,r.y,i.y,o.y)),n}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(bs);Ds.prototype.isQuadraticBezierCurve=!0;var Zs=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xe,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Xe;return(0,C.Z)(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=o,e}return(0,A.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe,n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Ps(e,r.x,i.x,o.x),Ps(e,r.y,i.y,o.y),Ps(e,r.z,i.z,o.z)),n}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(bs);Zs.prototype.isQuadraticBezierCurve3=!0;var Is=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,C.Z)(this,n),(e=t.call(this)).type="SplineCurve",e.points=r,e}return(0,A.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ze,n=t,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],u=r[o],l=r[o>r.length-2?r.length-1:o+1],c=r[o>r.length-3?r.length-1:o+2];return n.set(Es(a,s.x,u.x,l.x,c.x),Es(a,s.y,u.y,l.y,c.y)),n}},{key:"copy",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Ze).fromArray(i))}return this}}]),n}(bs);Is.prototype.isSplineCurve=!0;var Ns=Object.freeze({__proto__:null,ArcCurve:xs,CatmullRomCurve3:Ms,CubicBezierCurve:As,CubicBezierCurve3:Rs,EllipseCurve:Os,LineCurve:Ls,LineCurve3:Qs,QuadraticBezierCurve:Ds,QuadraticBezierCurve3:Zs,SplineCurve:Is}),zs=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return(0,A.Z)(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ls(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var o=r[i]-n,a=this.curves[i],s=a.getLength(),u=0===s?0:1-o/s;return a.getPointAt(u,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new Ns[i.type]).fromJSON(i))}return this}}]),n}(bs),js=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="Path",r.currentPoint=new Ze,e&&r.setFromPoints(e),r}return(0,A.Z)(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Ls(this.currentPoint.clone(),new Ze(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new Ds(this.currentPoint.clone(),new Ze(e,t),new Ze(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){var a=new As(this.currentPoint.clone(),new Ze(e,t),new Ze(n,r),new Ze(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Is(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this}},{key:"absarc",value:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}},{key:"ellipse",value:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,o,a,s),this}},{key:"absellipse",value:function(e,t,n,r,i,o,a,s){var u=new Os(e,t,n,r,i,o,a,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(zs),Ws=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this,e)).uuid=Ce(),r.type="Shape",r.holes=[],r}return(0,A.Z)(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,S.Z)((0,_.Z)(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new js).fromJSON(i))}return this}}]),n}(js),Bs=function(e,t){var n,r,i,o,a,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*l:e.length,f=Fs(e,0,h,l,!0),d=[];if(!f||f.next===f.prev)return d;if(c&&(f=Xs(e,t,f,l)),e.length>80*l){n=i=e[0],r=o=e[1];for(var p=l;p<h;p+=l)(a=e[p])<n&&(n=a),(s=e[p+1])<r&&(r=s),a>i&&(i=a),s>o&&(o=s);u=0!==(u=Math.max(i-n,o-r))?1/u:0}return Vs(f,d,l,n,r,u),d};function Fs(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=hu(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=hu(o,e[o],e[o+1],a);return a&&ou(a,a.next)&&(fu(a),a=a.next),a}function $s(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!ou(r,r.next)&&0!==iu(r.prev,r,r.next))r=r.next;else{if(fu(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Vs(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=eu(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,o);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?Hs(e,r,i,o):Us(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),fu(e),e=u.next,l=u.next;else if((e=u)===l){a?1===a?Vs(e=Gs($s(e),t,n),t,n,r,i,o,2):2===a&&qs(e,t,n,r,i,o):Vs($s(e),t,n,r,i,o,1);break}}}function Us(e){var t=e.prev,n=e,r=e.next;if(iu(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(nu(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&iu(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Hs(e,t,n,r){var i=e.prev,o=e,a=e.next;if(iu(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=eu(s,u,t,n,r),f=eu(l,c,t,n,r),d=e.prevZ,p=e.nextZ;d&&d.z>=h&&p&&p.z<=f;){if(d!==e.prev&&d!==e.next&&nu(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&iu(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&nu(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&iu(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=h;){if(d!==e.prev&&d!==e.next&&nu(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&iu(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&nu(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&iu(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Gs(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!ou(i,o)&&au(i,r,r.next,o)&&lu(i,o)&&lu(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),fu(r),fu(r.next),r=e=o),r=r.next}while(r!==e);return $s(r)}function qs(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&ru(a,s)){var u=cu(a,s);return a=$s(a,a.next),u=$s(u,u.next),Vs(a,t,n,r,i,o),void Vs(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function Xs(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Fs(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(tu(a));for(s.sort(Ys),i=0;i<s.length;i++)Js(s[i],n),n=$s(n,n.next);return n}function Ys(e,t){return e.x-t.x}function Js(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,h=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&nu(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),lu(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&Ks(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t),t){var n=cu(t,e);$s(t,t.next),$s(n,n.next)}}function Ks(e,t){return iu(e.prev,e,t.prev)<0&&iu(t.next,e,e.next)<0}function eu(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function tu(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function nu(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function ru(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&au(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(lu(e,t)&&lu(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(iu(e.prev,e,t.prev)||iu(e,t.prev,t))||ou(e,t)&&iu(e.prev,e,e.next)>0&&iu(t.prev,t,t.next)>0)}function iu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function ou(e,t){return e.x===t.x&&e.y===t.y}function au(e,t,n,r){var i=uu(iu(e,t,n)),o=uu(iu(e,t,r)),a=uu(iu(n,r,e)),s=uu(iu(n,r,t));return i!==o&&a!==s||(!(0!==i||!su(e,n,t))||(!(0!==o||!su(e,r,t))||(!(0!==a||!su(n,e,r))||!(0!==s||!su(n,t,r)))))}function su(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function uu(e){return e>0?1:e<0?-1:0}function lu(e,t){return iu(e.prev,e,e.next)<0?iu(e,t,e.next)>=0&&iu(e,e.prev,t)>=0:iu(e,t,e.prev)<0||iu(e,e.next,t)<0}function cu(e,t){var n=new du(e.i,e.x,e.y),r=new du(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function hu(e,t,n,r){var i=new du(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function fu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function du(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var pu=function(){function e(){(0,C.Z)(this,e)}return(0,A.Z)(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];vu(e),mu(n,e);var o=e.length;t.forEach(vu);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,mu(n,t[a]);for(var s=Bs(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function vu(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function mu(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var gu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ws([new Ze(.5,.5),new Ze(-.5,.5),new Ze(-.5,-.5),new Ze(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,C.Z)(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var o=(0,M.Z)(e),a=[],s=[],u=0,l=r.length;u<l;u++){var c=r[u];h(c)}function h(e){var t=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,u=void 0!==i.depth?i.depth:1,l=void 0===i.bevelEnabled||i.bevelEnabled,c=void 0!==i.bevelThickness?i.bevelThickness:.2,h=void 0!==i.bevelSize?i.bevelSize:c-.1,f=void 0!==i.bevelOffset?i.bevelOffset:0,d=void 0!==i.bevelSegments?i.bevelSegments:3,p=i.extrudePath,v=void 0!==i.UVGenerator?i.UVGenerator:yu;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=i.amount);var m,g,y,b,O,x=!1;p&&(m=p.getSpacedPoints(r),x=!0,l=!1,g=p.computeFrenetFrames(r,!1),y=new Xe,b=new Xe,O=new Xe),l||(d=0,c=0,h=0,f=0);var w=e.extractPoints(n),k=w.shape,S=w.holes;if(!pu.isClockWise(k)){k=k.reverse();for(var _=0,T=S.length;_<T;_++){var M=S[_];pu.isClockWise(M)&&(S[_]=M.reverse())}}for(var E=pu.triangulateShape(k,S),P=k,C=0,A=S.length;C<A;C++){var R=S[C];k=k.concat(R)}function L(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var Q=k.length,D=E.length;function Z(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=a*a+s*s,h=a*l-s*u;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(c),d=Math.sqrt(u*u+l*l),p=t.x-s/f,v=t.y+a/f,m=((n.x-l/d-p)*l-(n.y+u/d-v)*u)/(a*l-s*u),g=(r=p+a*m-e.x)*r+(i=v+s*m-e.y)*i;if(g<=2)return new Ze(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?u>Number.EPSILON&&(y=!0):a<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(c)):(r=a,i=s,o=Math.sqrt(c/2))}return new Ze(r/o,i/o)}for(var I=[],N=0,z=P.length,j=z-1,W=N+1;N<z;N++,j++,W++)j===z&&(j=0),W===z&&(W=0),I[N]=Z(P[N],P[j],P[W]);for(var B,F=[],$=I.concat(),V=0,U=S.length;V<U;V++){var H=S[V];B=[];for(var G=0,q=H.length,X=q-1,Y=G+1;G<q;G++,X++,Y++)X===q&&(X=0),Y===q&&(Y=0),B[G]=Z(H[G],H[X],H[Y]);F.push(B),$=$.concat(B)}for(var J=0;J<d;J++){for(var K=J/d,ee=c*Math.cos(K*Math.PI/2),te=h*Math.sin(K*Math.PI/2)+f,ne=0,re=P.length;ne<re;ne++){var ie=L(P[ne],I[ne],te);Ae(ie.x,ie.y,-ee)}for(var oe=0,ae=S.length;oe<ae;oe++){var se=S[oe];B=F[oe];for(var ue=0,le=se.length;ue<le;ue++){var ce=L(se[ue],B[ue],te);Ae(ce.x,ce.y,-ee)}}}for(var he=h+f,fe=0;fe<Q;fe++){var de=l?L(k[fe],$[fe],he):k[fe];x?(b.copy(g.normals[0]).multiplyScalar(de.x),y.copy(g.binormals[0]).multiplyScalar(de.y),O.copy(m[0]).add(b).add(y),Ae(O.x,O.y,O.z)):Ae(de.x,de.y,0)}for(var pe=1;pe<=r;pe++)for(var ve=0;ve<Q;ve++){var me=l?L(k[ve],$[ve],he):k[ve];x?(b.copy(g.normals[pe]).multiplyScalar(me.x),y.copy(g.binormals[pe]).multiplyScalar(me.y),O.copy(m[pe]).add(b).add(y),Ae(O.x,O.y,O.z)):Ae(me.x,me.y,u/r*pe)}for(var ge=d-1;ge>=0;ge--){for(var ye=ge/d,be=c*Math.cos(ye*Math.PI/2),Oe=h*Math.sin(ye*Math.PI/2)+f,xe=0,we=P.length;xe<we;xe++){var ke=L(P[xe],I[xe],Oe);Ae(ke.x,ke.y,u+be)}for(var Se=0,_e=S.length;Se<_e;Se++){var Te=S[Se];B=F[Se];for(var Me=0,Ee=Te.length;Me<Ee;Me++){var Pe=L(Te[Me],B[Me],Oe);x?Ae(Pe.x,Pe.y+m[r-1].y,m[r-1].x+be):Ae(Pe.x,Pe.y,u+be)}}}function Ce(e,t){for(var n=e.length;--n>=0;){var i=n,o=n-1;o<0&&(o=e.length-1);for(var a=0,s=r+2*d;a<s;a++){var u=Q*a,l=Q*(a+1);Le(t+i+u,t+o+u,t+o+l,t+i+l)}}}function Ae(e,n,r){t.push(e),t.push(n),t.push(r)}function Re(e,t,n){Qe(e),Qe(t),Qe(n);var r=a.length/3,i=v.generateTopUV(o,a,r-3,r-2,r-1);De(i[0]),De(i[1]),De(i[2])}function Le(e,t,n,r){Qe(e),Qe(t),Qe(r),Qe(t),Qe(n),Qe(r);var i=a.length/3,s=v.generateSideWallUV(o,a,i-6,i-3,i-2,i-1);De(s[0]),De(s[1]),De(s[3]),De(s[1]),De(s[2]),De(s[3])}function Qe(e){a.push(t[3*e+0]),a.push(t[3*e+1]),a.push(t[3*e+2])}function De(e){s.push(e.x),s.push(e.y)}!function(){var e=a.length/3;if(l){for(var t=0,n=Q*t,i=0;i<D;i++){var s=E[i];Re(s[2]+n,s[1]+n,s[0]+n)}n=Q*(t=r+2*d);for(var u=0;u<D;u++){var c=E[u];Re(c[0]+n,c[1]+n,c[2]+n)}}else{for(var h=0;h<D;h++){var f=E[h];Re(f[2],f[1],f[0])}for(var p=0;p<D;p++){var v=E[p];Re(v[0]+Q*r,v[1]+Q*r,v[2]+Q*r)}}o.addGroup(e,a.length/3-e,0)}(),function(){var e=a.length/3,t=0;Ce(P,t),t+=P.length;for(var n=0,r=S.length;n<r;n++){var i=S[n];Ce(i,t),t+=i.length}o.addGroup(e,a.length/3-e,1)}()}return e.setAttribute("position",new Tn(a,3)),e.setAttribute("uv",new Tn(s,2)),e.computeVertexNormals(),e}return(0,A.Z)(n,[{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,o=e.shapes.length;i<o;i++){var a=t[e.shapes[i]];r.push(a)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new Ns[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(Qn),yu={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new Ze(o,a),new Ze(s,u),new Ze(l,c)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],h=t[3*r+2],f=t[3*i],d=t[3*i+1],p=t[3*i+2],v=t[3*o],m=t[3*o+1],g=t[3*o+2];return Math.abs(s-c)<Math.abs(a-l)?[new Ze(a,1-u),new Ze(l,1-h),new Ze(f,1-p),new Ze(v,1-g)]:[new Ze(s,1-u),new Ze(c,1-h),new Ze(d,1-p),new Ze(m,1-g)]}};var bu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ws([new Ze(0,.5),new Ze(-.5,-.5),new Ze(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;(0,C.Z)(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var o=[],a=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(r))f(r);else for(var h=0;h<r.length;h++)f(r[h]),e.addGroup(l,c,h),l+=c,c=0;function f(e){var t=a.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===pu.isClockWise(r)&&(r=r.reverse());for(var h=0,f=l.length;h<f;h++){var d=l[h];!0===pu.isClockWise(d)&&(l[h]=d.reverse())}for(var p=pu.triangulateShape(r,l),v=0,m=l.length;v<m;v++){var g=l[v];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var O=r[y];a.push(O.x,O.y,0),s.push(0,0,1),u.push(O.x,O.y)}for(var x=0,w=p.length;x<w;x++){var k=p[x],S=k[0]+t,_=k[1]+t,T=k[2]+t;o.push(S,_,T),c+=3}}return e.setIndex(o),e.setAttribute("position",new Tn(a,3)),e.setAttribute("normal",new Tn(s,3)),e.setAttribute("uv",new Tn(u,2)),e}return(0,A.Z)(n,[{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,o=e.shapes.length;i<o;i++){var a=t[e.shapes[i]];r.push(a)}return new n(r,e.curveSegments)}}]),n}(Qn);var Ou=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,C.Z)(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:o,phiStart:a,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),o=Math.max(2,Math.floor(o));for(var c=Math.min(u+l,Math.PI),h=0,f=[],d=new Xe,p=new Xe,v=[],m=[],g=[],y=[],b=0;b<=o;b++){var O=[],x=b/o,w=0;0==b&&0==u?w=.5/i:b==o&&c==Math.PI&&(w=-.5/i);for(var k=0;k<=i;k++){var S=k/i;d.x=-r*Math.cos(a+S*s)*Math.sin(u+x*l),d.y=r*Math.cos(u+x*l),d.z=r*Math.sin(a+S*s)*Math.sin(u+x*l),m.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),y.push(S+w,1-x),O.push(h++)}f.push(O)}for(var _=0;_<o;_++)for(var T=0;T<i;T++){var M=f[_][T+1],E=f[_][T],P=f[_+1][T],A=f[_+1][T+1];(0!==_||u>0)&&v.push(M,E,A),(_!==o-1||c<Math.PI)&&v.push(E,P,A)}return e.setIndex(v),e.setAttribute("position",new Tn(m,3)),e.setAttribute("normal",new Tn(g,3)),e.setAttribute("uv",new Tn(y,2)),e}return(0,A.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(Qn),xu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zs(new Xe(-1,-1,0),new Xe(-1,1,0),new Xe(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,C.Z)(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:o,radialSegments:a,closed:s};var u=r.computeFrenetFrames(i,s);e.tangents=u.tangents,e.normals=u.normals,e.binormals=u.binormals;var l=new Xe,c=new Xe,h=new Ze,f=new Xe,d=[],p=[],v=[],m=[];function g(){for(var e=0;e<i;e++)y(e);y(!1===s?i:0),O(),b()}function y(e){f=r.getPointAt(e/i,f);for(var t=u.normals[e],n=u.binormals[e],s=0;s<=a;s++){var h=s/a*Math.PI*2,v=Math.sin(h),m=-Math.cos(h);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),l.x=f.x+o*c.x,l.y=f.y+o*c.y,l.z=f.z+o*c.z,d.push(l.x,l.y,l.z)}}function b(){for(var e=1;e<=i;e++)for(var t=1;t<=a;t++){var n=(a+1)*(e-1)+(t-1),r=(a+1)*e+(t-1),o=(a+1)*e+t,s=(a+1)*(e-1)+t;m.push(n,r,s),m.push(r,o,s)}}function O(){for(var e=0;e<=i;e++)for(var t=0;t<=a;t++)h.x=e/i,h.y=t/a,v.push(h.x,h.y)}return g(),e.setIndex(m),e.setAttribute("position",new Tn(d,3)),e.setAttribute("normal",new Tn(p,3)),e.setAttribute("uv",new Tn(v,2)),e}return(0,A.Z)(n,[{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new Ns[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(Qn);var wu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="ShadowMaterial",r.color=new bn(0),r.transparent=!0,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n}(fn);wu.prototype.isShadowMaterial=!0;var ku=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new bn(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new bn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new Ze(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}(fn);ku.prototype.isMeshStandardMaterial=!0;var Su=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new Ze(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty((0,M.Z)(r),"reflectivity",{get:function(){return Ae(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.sheenColor=new bn(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationColor=new bn(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new bn(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._transmission=0,r.setValues(e),r}return(0,A.Z)(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(ku);Su.prototype.isMeshPhysicalMaterial=!0;var _u=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="MeshPhongMaterial",r.color=new bn(16777215),r.specular=new bn(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new bn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new Ze(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}(fn);_u.prototype.isMeshPhongMaterial=!0;var Tu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new bn(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new bn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new Ze(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(fn);Tu.prototype.isMeshToonMaterial=!0;var Mu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new Ze(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.flatShading=!1,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(fn);Mu.prototype.isMeshNormalMaterial=!0;var Eu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="MeshLambertMaterial",r.color=new bn(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new bn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(fn);Eu.prototype.isMeshLambertMaterial=!0;var Pu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new bn(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new Ze(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}]),n}(fn);Pu.prototype.isMeshMatcapMaterial=!0;var Cu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(qa);Cu.prototype.isLineDashedMaterial=!0;var Au={arraySlice:function(e,t,n){return Au.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var u=o.tracks[s],l=u.getValueSize(),c=[],h=[],f=0;f<u.times.length;++f){var d=u.times[f]*i;if(!(d<n||d>=r)){c.push(u.times[f]);for(var p=0;p<l;++p)h.push(u.values[f*l+p])}}0!==c.length&&(u.times=Au.convertArray(c,u.times.constructor),u.values=Au.convertArray(h,u.values.constructor),a.push(u))}o.tracks=a;for(var v=1/0,m=0;m<o.tracks.length;++m)v>o.tracks[m].times[0]&&(v=o.tracks[m].times[0]);for(var g=0;g<o.tracks.length;++g)o.tracks[g].shift(-1*v);return o.resetDuration(),o},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,o=t/r,a=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var a=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===a)return"continue";var s=0,u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var l=0,c=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var h=r.times.length-1,f=void 0;if(o<=r.times[0]){var d=s,p=u-s;f=Au.arraySlice(r.values,d,p)}else if(o>=r.times[h]){var v=h*u+s,m=v+u-s;f=Au.arraySlice(r.values,v,m)}else{var g=r.createInterpolant(),y=s,b=u-s;g.evaluate(o),f=Au.arraySlice(g.resultBuffer,y,b)}"quaternion"===i&&(new qe).fromArray(f).normalize().conjugate().toArray(f);for(var O=a.times.length,x=0;x<O;++x){var w=x*c+l;if("quaternion"===i)qe.multiplyQuaternionsFlat(a.values,w,f,0,a.values,w);else for(var k=c-2*l,S=0;S<k;++S)a.values[w+S]-=f[S]}},s=0;s<i;++s)a(s);return e.blendMode=ye,e}},Ru=function(){function e(t,n,r,i){(0,C.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,A.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var l=n+o>>>1;e<t[l]?o=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();Ru.prototype.beforeStart_=Ru.prototype.copySampleValue_,Ru.prototype.afterEnd_=Ru.prototype.copySampleValue_;var Lu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o){var a;return(0,C.Z)(this,n),(a=t.call(this,e,r,i,o))._weightPrev=-0,a._offsetPrev=-0,a._weightNext=-0,a._offsetNext=-0,a.DefaultSettings_={endingStart:pe,endingEnd:pe},a}return(0,A.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case ve:i=e,a=2*t-n;break;case me:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ve:o=e,s=2*n-t;break;case me:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(r-t),p=d*d,v=p*d,m=-h*v+2*h*p-h*d,g=(1+h)*v+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*v+(1.5+f)*p+.5*d,b=f*v-f*p,O=0;O!==a;++O)i[O]=m*o[l+O]+g*o[u+O]+y*o[s+O]+b*o[c+O];return i}}]),n}(Ru),Qu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o){return(0,C.Z)(this,n),t.call(this,e,r,i,o)}return(0,A.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,l=(n-t)/(r-t),c=1-l,h=0;h!==a;++h)i[h]=o[u+h]*c+o[s+h]*l;return i}}]),n}(Ru),Du=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o){return(0,C.Z)(this,n),t.call(this,e,r,i,o)}return(0,A.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(Ru),Zu=function(){function e(t,n,r,i){if((0,C.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Au.convertArray(n,this.TimeBufferType),this.values=Au.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,A.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Du(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Qu(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Lu(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case he:t=this.InterpolantFactoryMethodDiscrete;break;case fe:t=this.InterpolantFactoryMethodLinear;break;case de:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return he;case this.InterpolantFactoryMethodLinear:return fe;case this.InterpolantFactoryMethodSmooth:return de}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Au.arraySlice(n,i,o),this.values=Au.arraySlice(this.values,i*a,o*a)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&Au.isTypedArray(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Au.arraySlice(this.times),t=Au.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===de,i=e.length-1,o=1,a=1;a<i;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==e[0]))if(r)s=!0;else for(var l=a*n,c=l-n,h=l+n,f=0;f!==n;++f){var d=t[l+f];if(d!==t[c+f]||d!==t[h+f]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var p=a*n,v=o*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++o}}if(i>0){e[o]=e[i];for(var g=i*n,y=o*n,b=0;b!==n;++b)t[y+b]=t[g+b];++o}return o!==e.length?(this.times=Au.arraySlice(e,0,o),this.values=Au.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Au.arraySlice(this.times,0),t=Au.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Au.convertArray(e.times,Array),values:Au.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Zu.prototype.TimeBufferType=Float32Array,Zu.prototype.ValueBufferType=Float32Array,Zu.prototype.DefaultInterpolation=fe;var Iu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n)}(Zu);Iu.prototype.ValueTypeName="bool",Iu.prototype.ValueBufferType=Array,Iu.prototype.DefaultInterpolation=he,Iu.prototype.InterpolantFactoryMethodLinear=void 0,Iu.prototype.InterpolantFactoryMethodSmooth=void 0;var Nu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n)}(Zu);Nu.prototype.ValueTypeName="color";var zu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n)}(Zu);zu.prototype.ValueTypeName="number";var ju=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o){return(0,C.Z)(this,n),t.call(this,e,r,i,o)}return(0,A.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t),u=e*a,l=u+a;u!==l;u+=4)qe.slerpFlat(i,0,o,u-a,o,u,s);return i}}]),n}(Ru),Wu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new ju(this.times,this.values,this.getValueSize(),e)}}]),n}(Zu);Wu.prototype.ValueTypeName="quaternion",Wu.prototype.DefaultInterpolation=fe,Wu.prototype.InterpolantFactoryMethodSmooth=void 0;var Bu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n)}(Zu);Bu.prototype.ValueTypeName="string",Bu.prototype.ValueBufferType=Array,Bu.prototype.DefaultInterpolation=he,Bu.prototype.InterpolantFactoryMethodLinear=void 0,Bu.prototype.InterpolantFactoryMethodSmooth=void 0;var Fu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n)}(Zu);Fu.prototype.ValueTypeName="vector";var $u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ge;(0,C.Z)(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ce(),this.duration<0&&this.resetDuration()}return(0,A.Z)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(Vu(n[i]).scale(r));var a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,o=n.length;i!==o;++i)t.push(Zu.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var l=Au.getKeyframeOrder(s);s=Au.sortedArray(s,1,l),u=Au.sortedArray(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new zu(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new this(e,-1,o)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var h=[];for(var f in r)h.push(this.CreateFromMorphTargetSequence(f,r[f],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];Au.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},f=void 0;for(f=0;f<c.length;f++)if(c[f].morphTargets)for(var d=0;d<c[f].morphTargets.length;d++)h[c[f].morphTargets[d]]=-1;for(var p in h){for(var v=[],m=[],g=0;g!==c[f].morphTargets.length;++g){var y=c[f];v.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new zu(".morphTargetInfluence["+p+"]",v,m))}s=h.length*(o||1)}else{var b=".bones["+t[l].name+"]";n(Fu,b+".position",c,"pos",r),n(Wu,b+".quaternion",c,"rot",r),n(Fu,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,a)}}]),e}();function Vu(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zu;case"vector":case"vector2":case"vector3":case"vector4":return Fu;case"color":return Nu;case"quaternion":return Wu;case"bool":case"boolean":return Iu;case"string":return Bu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Au.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Uu={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Hu=(0,A.Z)((function e(t,n,r){(0,C.Z)(this,e);var i=this,o=!1,a=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===o&&void 0!==i.onStart&&i.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,s),a===s&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),Gu=new Hu,qu=function(){function e(t){(0,C.Z)(this,e),this.manager=void 0!==t?t:Gu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,A.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),Xu={},Yu=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){return(0,C.Z)(this,n),t.call(this,e)}return(0,A.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=Uu.get(e);if(void 0!==o)return this.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===Xu[e]){Xu[e]=[],Xu[e].push({onLoad:t,onProgress:n,onError:r});var a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(a).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body.getReader)return t;var n=Xu[e],r=t.body.getReader(),i=t.headers.get("Content-Length"),o=i?parseInt(i):0,a=0!==o,s=0,u=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,u=r.value;if(i)e.close();else{s+=u.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:a,loaded:s,total:o}),c=0,h=n.length;c<h;c++){var f=n[c];f.onProgress&&f.onProgress(l)}e.enqueue(u),t()}}))}()}});return new Response(u)}throw Error('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText))})).then((function(e){switch(i.responseType){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,i.mimeType)}));case"json":return e.json();default:return e.text()}})).then((function(t){Uu.add(e,t);var n=Xu[e];delete Xu[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onLoad&&o.onLoad(t)}})).catch((function(t){var n=Xu[e];if(void 0===n)throw i.manager.itemError(e),t;delete Xu[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else Xu[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(qu),Ju=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){return(0,C.Z)(this,n),t.call(this,e)}return(0,A.Z)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Uu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=je("img");function s(){l(),Uu.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){a.removeEventListener("load",s,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}]),n}(qu),Ku=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){return(0,C.Z)(this,n),t.call(this,e)}return(0,A.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new lr,o=new Ju(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}]),n}(qu),el=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){return(0,C.Z)(this,n),t.call(this,e)}return(0,A.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new Fe,o=new Ju(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(qu),tl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,C.Z)(this,n),(r=t.call(this)).type="Light",r.color=new bn(e),r.intensity=i,r}return(0,A.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Jt);tl.prototype.isLight=!0;var nl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var o;return(0,C.Z)(this,n),(o=t.call(this,e,i)).type="HemisphereLight",o.position.copy(Jt.DefaultUp),o.updateMatrix(),o.groundColor=new bn(r),o}return(0,A.Z)(n,[{key:"copy",value:function(e){return tl.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}(tl);nl.prototype.isHemisphereLight=!0;var rl=new Mt,il=new Xe,ol=new Xe,al=function(){function e(t){(0,C.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ze(512,512),this.map=null,this.mapPass=null,this.matrix=new Mt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new gr,this._frameExtents=new Ze(1,1),this._viewportCount=1,this._viewports=[new Ve(0,0,1,1)]}return(0,A.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;il.setFromMatrixPosition(e.matrixWorld),t.position.copy(il),ol.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ol),t.updateMatrixWorld(),rl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rl),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),sl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.call(this,new ar(50,1,.5,500))).focus=1,e}return(0,A.Z)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*Pe*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;r===t.fov&&i===t.aspect&&o===t.far||(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),(0,S.Z)((0,_.Z)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(al);sl.prototype.isSpotLightShadow=!0;var ul=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,C.Z)(this,n),(i=t.call(this,e,r)).type="SpotLight",i.position.copy(Jt.DefaultUp),i.updateMatrix(),i.target=new Jt,i.distance=o,i.angle=a,i.penumbra=s,i.decay=u,i.shadow=new sl,i}return(0,A.Z)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(tl);ul.prototype.isSpotLight=!0;var ll=new Mt,cl=new Xe,hl=new Xe,fl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.call(this,new ar(90,1,.5,500)))._frameExtents=new Ze(4,2),e._viewportCount=6,e._viewports=[new Ve(2,1,1,1),new Ve(0,1,1,1),new Ve(3,1,1,1),new Ve(1,1,1,1),new Ve(3,0,1,1),new Ve(1,0,1,1)],e._cubeDirections=[new Xe(1,0,0),new Xe(-1,0,0),new Xe(0,0,1),new Xe(0,0,-1),new Xe(0,1,0),new Xe(0,-1,0)],e._cubeUps=[new Xe(0,1,0),new Xe(0,1,0),new Xe(0,1,0),new Xe(0,1,0),new Xe(0,0,1),new Xe(0,0,-1)],e}return(0,A.Z)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),cl.setFromMatrixPosition(e.matrixWorld),n.position.copy(cl),hl.copy(n.position),hl.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(hl),n.updateMatrixWorld(),r.makeTranslation(-cl.x,-cl.y,-cl.z),ll.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ll)}}]),n}(al);fl.prototype.isPointLightShadow=!0;var dl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,C.Z)(this,n),(i=t.call(this,e,r)).type="PointLight",i.distance=o,i.decay=a,i.shadow=new fl,i}return(0,A.Z)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(tl);dl.prototype.isPointLight=!0;var pl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.call(this,new Cr(-5,5,5,-5,.5,500))}return(0,A.Z)(n)}(al);pl.prototype.isDirectionalLightShadow=!0;var vl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;return(0,C.Z)(this,n),(i=t.call(this,e,r)).type="DirectionalLight",i.position.copy(Jt.DefaultUp),i.updateMatrix(),i.target=new Jt,i.shadow=new pl,i}return(0,A.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(tl);vl.prototype.isDirectionalLight=!0;var ml=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;return(0,C.Z)(this,n),(i=t.call(this,e,r)).type="AmbientLight",i}return(0,A.Z)(n)}(tl);ml.prototype.isAmbientLight=!0;var gl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,C.Z)(this,n),(i=t.call(this,e,r)).type="RectAreaLight",i.width=o,i.height=a,i}return(0,A.Z)(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(tl);gl.prototype.isRectAreaLight=!0;var yl=function(){function e(){(0,C.Z)(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Xe)}return(0,A.Z)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();yl.prototype.isSphericalHarmonics3=!0;var bl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yl,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,C.Z)(this,n),(e=t.call(this,void 0,i)).sh=r,e}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(tl);bl.prototype.isLightProbe=!0;var Ol=function(){function e(){(0,C.Z)(this,e)}return(0,A.Z)(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),xl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(Qn);xl.prototype.isInstancedBufferGeometry=!0;var wl,kl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),r=t.call(this,e),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return(0,A.Z)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Uu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){Uu.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(qu);kl.prototype.isImageBitmapLoader=!0;var Sl=function(){return void 0===wl&&(wl=new(window.AudioContext||window.webkitAudioContext)),wl},_l=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){return(0,C.Z)(this,n),t.call(this,e)}return(0,A.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new Yu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{var o=n.slice(0);Sl().decodeAudioData(o,(function(e){t(e)}))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}}]),n}(qu),Tl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,C.Z)(this,n),i=t.call(this,void 0,o);var a=(new bn).set(e),s=(new bn).set(r),u=new Xe(a.r,a.g,a.b),l=new Xe(s.r,s.g,s.b),c=Math.sqrt(Math.PI),h=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(u).add(l).multiplyScalar(c),i.sh.coefficients[1].copy(u).sub(l).multiplyScalar(h),i}return(0,A.Z)(n)}(bl);Tl.prototype.isHemisphereLightProbe=!0;var Ml=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,C.Z)(this,n),r=t.call(this,void 0,i);var o=(new bn).set(e);return r.sh.coefficients[0].set(o.r,o.g,o.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return(0,A.Z)(n)}(bl);Ml.prototype.isAmbientLightProbe=!0;var El=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,C.Z)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,A.Z)(e,[{key:"start",value:function(){this.startTime=Pl(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Pl();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Pl(){return("undefined"===typeof performance?Date:performance).now()}var Cl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return(0,A.Z)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Jt),Al=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;(0,C.Z)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return(0,A.Z)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Rl=function(){function e(t,n,r){var i,o,a;switch((0,C.Z)(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,A.Z)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(n[u]!==n[u+t]){a.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]}},{key:"_slerp",value:function(e,t,n,r){qe.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var o=this._workIndex*i;qe.multiplyQuaternionsFlat(e,o,e,t,e,n),qe.slerpFlat(e,t,e,t,e,o,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var o=0;o!==i;++o){var a=t+o;e[a]=e[a]+e[n+o]*r}}}]),e}(),Ll="\\[\\]\\.:\\/",Ql=new RegExp("[\\[\\]\\.:\\/]","g"),Dl="[^\\[\\]\\.:\\/]",Zl="[^"+Ll.replace("\\.","")+"]",Il=/((?:WC+[\/:])*)/.source.replace("WC",Dl),Nl=/(WCOD+)?/.source.replace("WCOD",Zl),zl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Dl),jl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Dl),Wl=new RegExp("^"+Il+Nl+zl+jl+"$"),Bl=["material","materials","bones"],Fl=function(){function e(t,n,r){(0,C.Z)(this,e);var i=r||$l.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return(0,A.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),$l=function(){function e(t,n,r){(0,C.Z)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,A.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,o=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var a=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===a){a=s;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=o}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Ql,"")}},{key:"parseTrackName",value:function(e){var t=Wl.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Bl.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(r)return r}return null}}]),e}();$l.Composite=Fl,$l.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},$l.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},$l.prototype.GetterByBindingType=[$l.prototype._getValue_direct,$l.prototype._getValue_array,$l.prototype._getValue_arrayElement,$l.prototype._getValue_toArray],$l.prototype.SetterByBindingTypeAndVersioning=[[$l.prototype._setValue_direct,$l.prototype._setValue_direct_setNeedsUpdate,$l.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$l.prototype._setValue_array,$l.prototype._setValue_array_setNeedsUpdate,$l.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$l.prototype._setValue_arrayElement,$l.prototype._setValue_arrayElement_setNeedsUpdate,$l.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$l.prototype._setValue_fromArray,$l.prototype._setValue_fromArray_setNeedsUpdate,$l.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Vl=function(){function e(){(0,C.Z)(this,e),this.uuid=Ce(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return(0,A.Z)(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length,a=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],f=h.uuid,d=t[f];if(void 0===d){d=s++,t[f]=d,e.push(h);for(var p=0,v=o;p!==v;++p)i[p].push(new $l(h,n[p],r[p]))}else if(d<u){a=e[d];var m=--u,g=e[m];t[g.uuid]=d,e[d]=g,t[f]=m,e[m]=h;for(var y=0,b=o;y!==b;++y){var O=i[y],x=O[m],w=O[d];O[d]=x,void 0===w&&(w=new $l(h,n[y],r[y])),O[m]=w}}else e[d]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,h=e[c];t[h.uuid]=l,e[l]=h,t[u]=c,e[c]=s;for(var f=0,d=r;f!==d;++f){var p=n[f],v=p[c],m=p[l];p[l]=v,p[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=e.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],l=u.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var h=--i,f=e[h],d=--o,p=e[d];t[f.uuid]=c,e[c]=f,t[p.uuid]=h,e[h]=p,e.pop();for(var v=0,m=r;v!==m;++v){var g=n[v],y=g[h],b=g[d];g[c]=y,g[h]=b,g.pop()}}else{var O=--o,x=e[O];O>0&&(t[x.uuid]=c),e[c]=x,e.pop();for(var w=0,k=r;w!==k;++w){var S=n[w];S[c]=S[O],S.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(c);for(var h=l,f=s.length;h!==f;++h){var d=s[h];c[h]=new $l(d,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}]),e}();Vl.prototype.isAnimationObjectGroup=!0;var Ul=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;(0,C.Z)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var o=n.tracks,a=o.length,s=new Array(a),u={endingStart:pe,endingEnd:pe},l=0;l!==a;++l){var c=o[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,A.Z)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,o=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/o,u[1]=t/o,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;if(this.blendMode===ye)for(var c=0,h=u.length;c!==h;++c)u[c].evaluate(a),l[c].accumulateAdditive(s);else for(var f=0,d=u.length;f!==d;++f)u[f].evaluate(a),l[f].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,o=2202===n;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){var a=Math.floor(r/t);r-=t*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=ve,r.endingEnd=ve):(r.endingStart=e?this.zeroSlopeAtStart?ve:pe:me,r.endingEnd=t?this.zeroSlopeAtEnd?ve:pe:me)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}]),e}(),Hl=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return(0,A.Z)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var h=r[c],f=h.name,d=l[f];if(void 0!==d)o[c]=d;else{if(void 0!==(d=o[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(d=new Rl($l.create(n,f,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(d,s,f),o[c]=d}a[c].resultBuffer=d.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Qu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,o="string"===typeof e?$u.findByName(r,e):e,a=null!==o?o.uuid:e,s=this._actionsByClip[a],u=null;if(void 0===n&&(n=null!==o?o.blendMode:ge),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===o&&(o=u._clip)}if(null===o)return null;var c=new Ul(this,o,t,n);return this._bindAction(c,u),this._addInactiveAction(c,a,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?$u.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(o);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(_e);Hl.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var Gl=function(){function e(t){(0,C.Z)(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return(0,A.Z)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),ql=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,C.Z)(this,n),(i=t.call(this,e,r)).meshPerAttribute=o,i}return(0,A.Z)(n,[{key:"copy",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=(0,S.Z)((0,_.Z)(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=(0,S.Z)((0,_.Z)(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(ma);ql.prototype.isInstancedInterleavedBuffer=!0,function(){function e(t,n,r,i,o){(0,C.Z)(this,e),this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}return(0,A.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}().prototype.isGLBufferAttribute=!0;var Xl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,C.Z)(this,e),this.ray=new Tt(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Nt,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,A.Z)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Jl(e,this,n,t),n.sort(Yl),n}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)Jl(e[r],this,n,t);return n.sort(Yl),n}}]),e}();function Yl(e,t){return e.distance-t.distance}function Jl(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,o=0,a=i.length;o<a;o++)Jl(i[o],t,n,!0)}var Kl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,C.Z)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return(0,A.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Ae(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ec=new Ze,tc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ze(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ze(-1/0,-1/0);(0,C.Z)(this,e),this.min=t,this.max=n}return(0,A.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=ec.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return ec.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();tc.prototype.isBox2=!0;var nc=new Xe,rc=new Xe,ic=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xe,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xe;(0,C.Z)(this,e),this.start=t,this.end=n}return(0,A.Z)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){nc.subVectors(e,this.start),rc.subVectors(this.end,this.start);var n=rc.dot(rc),r=rc.dot(nc)/n;return t&&(r=Ae(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),oc=new Xe,ac=new Mt,sc=new Mt,uc=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;(0,C.Z)(this,n);for(var i=lc(e),o=new Qn,a=[],s=[],u=new bn(0,0,1),l=new bn(0,1,0),c=0;c<i.length;c++){var h=i[c];h.parent&&h.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}o.setAttribute("position",new Tn(a,3)),o.setAttribute("color",new Tn(s,3));var f=new qa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,o,f)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return(0,A.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");sc.copy(this.root.matrixWorld).invert();for(var o=0,a=0;o<t.length;o++){var s=t[o];s.parent&&s.parent.isBone&&(ac.multiplyMatrices(sc,s.matrixWorld),oc.setFromMatrixPosition(ac),i.setXYZ(a,oc.x,oc.y,oc.z),ac.multiplyMatrices(sc,s.parent.matrixWorld),oc.setFromMatrixPosition(ac),i.setXYZ(a+1,oc.x,oc.y,oc.z),a+=2)}r.getAttribute("position").needsUpdate=!0,(0,S.Z)((0,_.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(is);function lc(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,lc(e.children[n]));return t}var cc=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,C.Z)(this,n),o=new bn(o),a=new bn(a);for(var s=i/2,u=r/i,l=r/2,c=[],h=[],f=0,d=0,p=-l;f<=i;f++,p+=u){c.push(-l,0,p,l,0,p),c.push(p,0,-l,p,0,l);var v=f===s?o:a;v.toArray(h,d),d+=3,v.toArray(h,d),d+=3,v.toArray(h,d),d+=3,v.toArray(h,d),d+=3}var m=new Qn;m.setAttribute("position",new Tn(c,3)),m.setAttribute("color",new Tn(h,3));var g=new qa({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,g)).type="GridHelper",e}return(0,A.Z)(n)}(is);var hc=new Float32Array(1);new Int32Array(hc.buffer);bs.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(bs.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},js.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},cc.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},uc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},qu.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ol.extractUrlBase(e)},qu.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},tc.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},tc.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},tc.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},tc.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},Ke.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Ke.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Ke.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Ke.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Ke.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},yt.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},gr.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},ic.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Ie.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Ie.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Ie.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Ie.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Ie.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Ie.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Mt.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},Mt.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Mt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Xe).setFromMatrixColumn(this,3)},Mt.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},Mt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Mt.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Mt.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Mt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Mt.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},Mt.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Mt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Mt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Mt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Mt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Mt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Mt.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Mt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Mt.prototype.makeFrustum=function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)},Mt.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},pr.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},qe.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},qe.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Tt.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Tt.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},Tt.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},cn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},cn.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},cn.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},cn.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},cn.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},cn.barycoordFromPoint=function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),cn.getBarycoord(e,t,n,r,i)},cn.normal=function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),cn.getNormal(e,t,n,r)},Ws.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Ws.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new gu(this,e)},Ws.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new bu(this,e)},Ze.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Ze.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Ze.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Xe.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Xe.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Xe.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Xe.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Xe.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Xe.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Xe.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Xe.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Xe.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ve.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Ve.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Jt.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},Jt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Jt.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},Jt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Jt.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Jt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Jn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Jn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),ja.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ar.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(tl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(kn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ke},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ke)}}}),kn.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ke:we),this},kn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},kn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Qn.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},Qn.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new kn(arguments[1],arguments[2])))},Qn.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},Qn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Qn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Qn.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},Qn.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Qn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),ma.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ke:we),this},ma.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},gu.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},gu.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},gu.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},va.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Gl.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(fn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new bn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(ir.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),ha.prototype.clearTarget=function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},ha.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},ha.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},ha.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},ha.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},ha.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},ha.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},ha.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},ha.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},ha.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},ha.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},ha.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},ha.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},ha.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},ha.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},ha.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},ha.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},ha.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},ha.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},ha.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},ha.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},ha.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},ha.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},ha.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},ha.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(ha.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?Oe:be}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(Ko.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ue.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Cl.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new _l).load(e,(function(e){t.setBuffer(e)})),this},Al.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ur.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},ur.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},We.crossOrigin=void 0,We.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new el;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},We.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Ku;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},We.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},We.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Q}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Q);var fc=new pr,dc=new Xl,pc=new Ze,vc=new Xe,mc=new Xe,gc=new Xe,yc=new Mt,bc=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i){var o;(0,C.Z)(this,n),o=t.call(this),i.style.touchAction="none";var a=null,s=null,u=[],l=(0,M.Z)(o);function c(){i.addEventListener("pointermove",f),i.addEventListener("pointerdown",d),i.addEventListener("pointerup",p),i.addEventListener("pointerleave",p)}function h(){i.removeEventListener("pointermove",f),i.removeEventListener("pointerdown",d),i.removeEventListener("pointerup",p),i.removeEventListener("pointerleave",p),i.style.cursor=""}function f(t){if(!1!==l.enabled){if(v(t),dc.setFromCamera(pc,r),a)return dc.ray.intersectPlane(fc,mc)&&a.position.copy(mc.sub(vc).applyMatrix4(yc)),void l.dispatchEvent({type:"drag",object:a});if("mouse"===t.pointerType||"pen"===t.pointerType)if(u.length=0,dc.setFromCamera(pc,r),dc.intersectObjects(e,!0,u),u.length>0){var n=u[0].object;fc.setFromNormalAndCoplanarPoint(r.getWorldDirection(fc.normal),gc.setFromMatrixPosition(n.matrixWorld)),s!==n&&null!==s&&(l.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null),s!==n&&(l.dispatchEvent({type:"hoveron",object:n}),i.style.cursor="pointer",s=n)}else null!==s&&(l.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null)}}function d(t){!1!==l.enabled&&(v(t),u.length=0,dc.setFromCamera(pc,r),dc.intersectObjects(e,!0,u),u.length>0&&(a=!0===l.transformGroup?e[0]:u[0].object,fc.setFromNormalAndCoplanarPoint(r.getWorldDirection(fc.normal),gc.setFromMatrixPosition(a.matrixWorld)),dc.ray.intersectPlane(fc,mc)&&(yc.copy(a.parent.matrixWorld).invert(),vc.copy(mc).sub(gc.setFromMatrixPosition(a.matrixWorld))),i.style.cursor="move",l.dispatchEvent({type:"dragstart",object:a})))}function p(){!1!==l.enabled&&(a&&(l.dispatchEvent({type:"dragend",object:a}),a=null),i.style.cursor=s?"pointer":"auto")}function v(e){var t=i.getBoundingClientRect();pc.x=(e.clientX-t.left)/t.width*2-1,pc.y=-(e.clientY-t.top)/t.height*2+1}return c(),o.enabled=!0,o.transformGroup=!1,o.activate=c,o.deactivate=h,o.dispose=function(){h()},o.getObjects=function(){return e},o.getRaycaster=function(){return dc},o}return(0,A.Z)(n)}(_e),Oc={value:function(){}};function xc(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new wc(r)}function wc(e){this._=e}function kc(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Sc(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function _c(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Oc,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}wc.prototype=xc.prototype={constructor:wc,on:function(e,t){var n,r=this._,i=kc(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=_c(r[n],e.name,t);else if(null==t)for(n in r)r[n]=_c(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=Sc(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wc(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var Tc,Mc,Ec=xc,Pc=0,Cc=0,Ac=0,Rc=0,Lc=0,Qc=0,Dc="object"===typeof performance&&performance.now?performance:Date,Zc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ic(){return Lc||(Zc(Nc),Lc=Dc.now()+Qc)}function Nc(){Lc=0}function zc(){this._call=this._time=this._next=null}function jc(e,t,n){var r=new zc;return r.restart(e,t,n),r}function Wc(){Lc=(Rc=Dc.now())+Qc,Pc=Cc=0;try{!function(){Ic(),++Pc;for(var e,t=Tc;t;)(e=Lc-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pc}()}finally{Pc=0,function(){var e,t,n=Tc,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Tc=t);Mc=e,Fc(r)}(),Lc=0}}function Bc(){var e=Dc.now(),t=e-Rc;t>1e3&&(Qc-=t,Rc=e)}function Fc(e){Pc||(Cc&&(Cc=clearTimeout(Cc)),e-Lc>24?(e<1/0&&(Cc=setTimeout(Wc,e-Dc.now()-Qc)),Ac&&(Ac=clearInterval(Ac))):(Ac||(Rc=Dc.now(),Ac=setInterval(Bc,1e3)),Pc=1,Zc(Wc)))}zc.prototype=jc.prototype={constructor:zc,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Ic():+n)+(null==t?0:+t),this._next||Mc===this||(Mc?Mc._next=this:Tc=this,Mc=this),this._call=e,this._time=n,Fc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fc())}};var $c=4294967296;function Vc(e){return e.x}function Uc(e){return e.y}function Hc(e){return e.z}var Gc=Math.PI*(3-Math.sqrt(5)),qc=20*Math.PI/(9+Math.sqrt(221));function Xc(e,t){t=t||2;var n,r=Math.min(3,Math.max(1,Math.round(t))),i=1,o=.001,a=1-Math.pow(o,1/300),s=0,u=.6,l=new Map,c=jc(d),h=Ec("tick","end"),f=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%$c)/$c}}();function d(){p(),h.call("tick",n),i<o&&(c.stop(),h.call("end",n))}function p(t){var o,c,h=e.length;void 0===t&&(t=1);for(var f=0;f<t;++f)for(i+=(s-i)*a,l.forEach((function(e){e(i)})),o=0;o<h;++o)null==(c=e[o]).fx?c.x+=c.vx*=u:(c.x=c.fx,c.vx=0),r>1&&(null==c.fy?c.y+=c.vy*=u:(c.y=c.fy,c.vy=0)),r>2&&(null==c.fz?c.z+=c.vz*=u:(c.z=c.fz,c.vz=0));return n}function v(){for(var t,n=0,i=e.length;n<i;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||r>1&&isNaN(t.y)||r>2&&isNaN(t.z)){var o=10*(r>2?Math.cbrt(.5+n):r>1?Math.sqrt(.5+n):n),a=n*Gc,s=n*qc;1===r?t.x=o:2===r?(t.x=o*Math.cos(a),t.y=o*Math.sin(a)):(t.x=o*Math.sin(a)*Math.cos(s),t.y=o*Math.cos(a),t.z=o*Math.sin(a)*Math.sin(s))}(isNaN(t.vx)||r>1&&isNaN(t.vy)||r>2&&isNaN(t.vz))&&(t.vx=0,r>1&&(t.vy=0),r>2&&(t.vz=0))}}function m(t){return t.initialize&&t.initialize(e,f,r),t}return null==e&&(e=[]),v(),n={tick:p,restart:function(){return c.restart(d),n},stop:function(){return c.stop(),n},numDimensions:function(e){return arguments.length?(r=Math.min(3,Math.max(1,Math.round(e))),l.forEach(m),n):r},nodes:function(t){return arguments.length?(e=t,v(),l.forEach(m),n):e},alpha:function(e){return arguments.length?(i=+e,n):i},alphaMin:function(e){return arguments.length?(o=+e,n):o},alphaDecay:function(e){return arguments.length?(a=+e,n):+a},alphaTarget:function(e){return arguments.length?(s=+e,n):s},velocityDecay:function(e){return arguments.length?(u=1-e,n):1-u},randomSource:function(e){return arguments.length?(f=e,l.forEach(m),n):f},force:function(e,t){return arguments.length>1?(null==t?l.delete(e):l.set(e,m(t)),n):l.get(e)},find:function(){var t,n,i,o,a,s,u=Array.prototype.slice.call(arguments),l=u.shift()||0,c=(r>1?u.shift():null)||0,h=(r>2?u.shift():null)||0,f=u.shift()||1/0,d=0,p=e.length;for(f*=f,d=0;d<p;++d)(o=(t=l-(a=e[d]).x)*t+(n=c-(a.y||0))*n+(i=h-(a.z||0))*i)<f&&(s=a,f=o);return s},on:function(e,t){return arguments.length>1?(h.on(e,t),n):h.on(e)}}}function Yc(e){return function(){return e}}function Jc(e){return 1e-6*(e()-.5)}function Kc(e){return e.index}function eh(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function th(e){var t,n,r,i,o,a,s,u=Kc,l=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},c=Yc(30),h=1;function f(r){for(var o=0,u=e.length;o<h;++o)for(var l,c,f,d,p,v=0,m=0,g=0,y=0;v<u;++v)c=(l=e[v]).source,m=(f=l.target).x+f.vx-c.x-c.vx||Jc(s),i>1&&(g=f.y+f.vy-c.y-c.vy||Jc(s)),i>2&&(y=f.z+f.vz-c.z-c.vz||Jc(s)),m*=d=((d=Math.sqrt(m*m+g*g+y*y))-n[v])/d*r*t[v],g*=d,y*=d,f.vx-=m*(p=a[v]),i>1&&(f.vy-=g*p),i>2&&(f.vz-=y*p),c.vx+=m*(p=1-p),i>1&&(c.vy+=g*p),i>2&&(c.vz+=y*p)}function d(){if(r){var i,s,l=r.length,c=e.length,h=new Map(r.map((function(e,t){return[u(e,t,r),e]})));for(i=0,o=new Array(l);i<c;++i)(s=e[i]).index=i,"object"!==typeof s.source&&(s.source=eh(h,s.source)),"object"!==typeof s.target&&(s.target=eh(h,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(i=0,a=new Array(c);i<c;++i)s=e[i],a[i]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);t=new Array(c),p(),n=new Array(c),v()}}function p(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function v(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e){r=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];s=n.find((function(e){return"function"===typeof e}))||Math.random,i=n.find((function(e){return[1,2,3].includes(e)}))||2,d()},f.links=function(t){return arguments.length?(e=t,d(),f):e},f.id=function(e){return arguments.length?(u=e,f):u},f.iterations=function(e){return arguments.length?(h=+e,f):h},f.strength=function(e){return arguments.length?(l="function"===typeof e?e:Yc(+e),p(),f):l},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:Yc(+e),v(),f):c},f}function nh(e,t,n){if(isNaN(t))return e;var r,i,o,a,s,u,l=e._root,c={data:n},h=e._x0,f=e._x1;if(!l)return e._root=c,e;for(;l.length;)if((a=t>=(i=(h+f)/2))?h=i:f=i,r=l,!(l=l[s=+a]))return r[s]=c,e;if(t===(o=+e._x.call(null,l.data)))return c.next=l,r?r[s]=c:e._root=c,e;do{r=r?r[s]=new Array(2):e._root=new Array(2),(a=t>=(i=(h+f)/2))?h=i:f=i}while((s=+a)===(u=+(o>=i)));return r[u]=l,r[s]=c,e}function rh(e,t,n){this.node=e,this.x0=t,this.x1=n}function ih(e){return e[0]}function oh(e,t){var n=new ah(null==t?ih:t,NaN,NaN);return null==e?n:n.addAll(e)}function ah(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function sh(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var uh=oh.prototype=ah.prototype;function lh(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,h,f,d=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,y=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((l=t>=(o=(v+g)/2))?v=o:g=o,(c=n>=(a=(m+y)/2))?m=a:y=a,i=d,!(d=d[h=c<<1|l]))return i[h]=p,e;if(s=+e._x.call(null,d.data),u=+e._y.call(null,d.data),t===s&&n===u)return p.next=d,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(l=t>=(o=(v+g)/2))?v=o:g=o,(c=n>=(a=(m+y)/2))?m=a:y=a}while((h=c<<1|l)===(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,e}function ch(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function hh(e){return e[0]}function fh(e){return e[1]}function dh(e,t,n){var r=new ph(null==t?hh:t,null==n?fh:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function ph(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function vh(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}uh.copy=function(){var e,t,n=new ah(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=sh(r),n;for(e=[{source:r,target:n._root=new Array(2)}];r=e.pop();)for(var i=0;i<2;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(2)}):r.target[i]=sh(t));return n},uh.add=function(e){var t=+this._x.call(null,e);return nh(this.cover(t),t,e)},uh.addAll=function(e){var t,n,r=e.length,i=new Array(r),o=1/0,a=-1/0;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,e[t]))||(i[t]=n,n<o&&(o=n),n>a&&(a=n));if(o>a)return this;for(this.cover(o).cover(a),t=0;t<r;++t)nh(this,i[t],e[t]);return this},uh.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{for(var r,i,o=n-t||1,a=this._root;t>e||e>=n;)switch(i=+(e<t),(r=new Array(2))[i]=a,a=r,o*=2,i){case 0:n=t+o;break;case 1:t=n-o}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._x1=n,this},uh.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},uh.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},uh.find=function(e,t){var n,r,i,o,a,s=this._x0,u=this._x1,l=[],c=this._root;for(c&&l.push(new rh(c,s,u)),null==t?t=1/0:(s=e-t,u=e+t);o=l.pop();)if(!(!(c=o.node)||(r=o.x0)>u||(i=o.x1)<s))if(c.length){var h=(r+i)/2;l.push(new rh(c[1],h,i),new rh(c[0],r,h)),(a=+(e>=h))&&(o=l[l.length-1],l[l.length-1]=l[l.length-1-a],l[l.length-1-a]=o)}else{var f=Math.abs(e-+this._x.call(null,c.data));f<t&&(t=f,s=e-f,u=e+f,n=c.data)}return n},uh.remove=function(e){if(isNaN(o=+this._x.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c=this._root,h=this._x0,f=this._x1;if(!c)return this;if(c.length)for(;;){if((s=o>=(a=(h+f)/2))?h=a:f=a,t=c,!(c=c[u=+s]))return this;if(!c.length)break;t[u+1&1]&&(n=t,l=u)}for(;c.data!==e;)if(r=c,!(c=c.next))return this;return(i=c.next)&&delete c.next,r?(i?r.next=i:delete r.next,this):t?(i?t[u]=i:delete t[u],(c=t[0]||t[1])&&c===(t[1]||t[0])&&!c.length&&(n?n[l]=c:this._root=c),this):(this._root=i,this)},uh.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},uh.root=function(){return this._root},uh.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},uh.visit=function(e){var t,n,r,i,o=[],a=this._root;for(a&&o.push(new rh(a,this._x0,this._x1));t=o.pop();)if(!e(a=t.node,r=t.x0,i=t.x1)&&a.length){var s=(r+i)/2;(n=a[1])&&o.push(new rh(n,s,i)),(n=a[0])&&o.push(new rh(n,r,s))}return this},uh.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new rh(this._root,this._x0,this._x1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.x1,u=(a+s)/2;(o=i[0])&&n.push(new rh(o,a,u)),(o=i[1])&&n.push(new rh(o,u,s))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.x1);return this},uh.x=function(e){return arguments.length?(this._x=e,this):this._x};var mh=dh.prototype=ph.prototype;function gh(e,t,n,r,i){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var o,a,s,u,l,c,h,f,d,p,v,m,g=e._root,y={data:i},b=e._x0,O=e._y0,x=e._z0,w=e._x1,k=e._y1,S=e._z1;if(!g)return e._root=y,e;for(;g.length;)if((f=t>=(a=(b+w)/2))?b=a:w=a,(d=n>=(s=(O+k)/2))?O=s:k=s,(p=r>=(u=(x+S)/2))?x=u:S=u,o=g,!(g=g[v=p<<2|d<<1|f]))return o[v]=y,e;if(l=+e._x.call(null,g.data),c=+e._y.call(null,g.data),h=+e._z.call(null,g.data),t===l&&n===c&&r===h)return y.next=g,o?o[v]=y:e._root=y,e;do{o=o?o[v]=new Array(8):e._root=new Array(8),(f=t>=(a=(b+w)/2))?b=a:w=a,(d=n>=(s=(O+k)/2))?O=s:k=s,(p=r>=(u=(x+S)/2))?x=u:S=u}while((v=p<<2|d<<1|f)===(m=(h>=u)<<2|(c>=s)<<1|l>=a));return o[m]=g,o[v]=y,e}function yh(e,t,n,r,i,o,a){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}function bh(e){return e[0]}function Oh(e){return e[1]}function xh(e){return e[2]}function wh(e,t,n,r){var i=new kh(null==t?bh:t,null==n?Oh:n,null==r?xh:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function kh(e,t,n,r,i,o,a,s,u){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=u,this._root=void 0}function Sh(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}mh.copy=function(){var e,t,n=new ph(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=vh(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=vh(t));return n},mh.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return lh(this.cover(t,n),t,n,e)},mh.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<o;++n)lh(this,a[n],s[n],e[n]);return this},mh.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},mh.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},mh.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},mh.find=function(e,t,n){var r,i,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new ch(v,c,h,f,d)),null==n?n=1/0:(c=e-n,h=t-n,f=e+n,d=t+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<h))if(v.length){var m=(i+a)/2,g=(o+s)/2;p.push(new ch(v[3],m,g,a,s),new ch(v[2],i,g,m,s),new ch(v[1],m,o,a,g),new ch(v[0],i,o,m,g)),(l=(t>=g)<<1|e>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),O=y*y+b*b;if(O<n){var x=Math.sqrt(n=O);c=e-x,h=t-x,f=e+x,d=t+x,r=v.data}}return r},mh.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+m)/2))?p=s:m=s,(c=a>=(u=(v+g)/2))?v=u:g=u,t=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,f=h)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},mh.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},mh.root=function(){return this._root},mh.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},mh.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new ch(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new ch(n,l,c,o,a)),(n=u[2])&&s.push(new ch(n,r,c,l,a)),(n=u[1])&&s.push(new ch(n,l,i,o,c)),(n=u[0])&&s.push(new ch(n,r,i,l,c))}return this},mh.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new ch(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(a+u)/2,h=(s+l)/2;(o=i[0])&&n.push(new ch(o,a,s,c,h)),(o=i[1])&&n.push(new ch(o,c,s,u,h)),(o=i[2])&&n.push(new ch(o,a,h,c,l)),(o=i[3])&&n.push(new ch(o,c,h,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},mh.x=function(e){return arguments.length?(this._x=e,this):this._x},mh.y=function(e){return arguments.length?(this._y=e,this):this._y};var _h=wh.prototype=kh.prototype;function Th(){var e,t,n,r,i,o,a=Yc(-30),s=1,u=1/0,l=.81;function c(r){var o,a=e.length,s=(1===t?oh(e,Vc):2===t?dh(e,Vc,Uc):3===t?wh(e,Vc,Uc,Hc):null).visitAfter(f);for(i=r,o=0;o<a;++o)n=e[o],s.visit(d)}function h(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+a(n,t,e)}}function f(e){var n,r,i,a,s,u,l=0,c=0,h=e.length;if(h){for(i=a=s=u=0;u<h;++u)(n=e[u])&&(r=Math.abs(n.value))&&(l+=n.value,c+=r,i+=r*(n.x||0),a+=r*(n.y||0),s+=r*(n.z||0));l*=Math.sqrt(4/h),e.x=i/c,t>1&&(e.y=a/c),t>2&&(e.z=s/c)}else{(n=e).x=n.data.x,t>1&&(n.y=n.data.y),t>2&&(n.z=n.data.z);do{l+=o[n.data.index]}while(n=n.next)}e.value=l}function d(e,a,c,h,f){if(!e.value)return!0;var d=[c,h,f][t-1],p=e.x-n.x,v=t>1?e.y-n.y:0,m=t>2?e.z-n.z:0,g=d-a,y=p*p+v*v+m*m;if(g*g/l<y)return y<u&&(0===p&&(y+=(p=Jc(r))*p),t>1&&0===v&&(y+=(v=Jc(r))*v),t>2&&0===m&&(y+=(m=Jc(r))*m),y<s&&(y=Math.sqrt(s*y)),n.vx+=p*e.value*i/y,t>1&&(n.vy+=v*e.value*i/y),t>2&&(n.vz+=m*e.value*i/y)),!0;if(!(e.length||y>=u)){(e.data!==n||e.next)&&(0===p&&(y+=(p=Jc(r))*p),t>1&&0===v&&(y+=(v=Jc(r))*v),t>2&&0===m&&(y+=(m=Jc(r))*m),y<s&&(y=Math.sqrt(s*y)));do{e.data!==n&&(g=o[e.data.index]*i/y,n.vx+=p*g,t>1&&(n.vy+=v*g),t>2&&(n.vz+=m*g))}while(e=e.next)}}return c.initialize=function(n){e=n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];r=o.find((function(e){return"function"===typeof e}))||Math.random,t=o.find((function(e){return[1,2,3].includes(e)}))||2,h()},c.strength=function(e){return arguments.length?(a="function"===typeof e?e:Yc(+e),h(),c):a},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}function Mh(e,t,n){var r,i=1;function o(){var o,a,s=r.length,u=0,l=0,c=0;for(o=0;o<s;++o)u+=(a=r[o]).x||0,l+=a.y||0,c+=a.z||0;for(u=(u/s-e)*i,l=(l/s-t)*i,c=(c/s-n)*i,o=0;o<s;++o)a=r[o],u&&(a.x-=u),l&&(a.y-=l),c&&(a.z-=c)}return null==e&&(e=0),null==t&&(t=0),null==n&&(n=0),o.initialize=function(e){r=e},o.x=function(t){return arguments.length?(e=+t,o):e},o.y=function(e){return arguments.length?(t=+e,o):t},o.z=function(e){return arguments.length?(n=+e,o):n},o.strength=function(e){return arguments.length?(i=+e,o):i},o}_h.copy=function(){var e,t,n=new kh(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=Sh(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var i=0;i<8;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(8)}):r.target[i]=Sh(t));return n},_h.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return gh(this.cover(t,n,r),t,n,r,e)},_h.addAll=function(e){var t,n,r,i,o,a=e.length,s=new Array(a),u=new Array(a),l=new Array(a),c=1/0,h=1/0,f=1/0,d=-1/0,p=-1/0,v=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||isNaN(o=+this._z.call(null,t))||(s[n]=r,u[n]=i,l[n]=o,r<c&&(c=r),r>d&&(d=r),i<h&&(h=i),i>p&&(p=i),o<f&&(f=o),o>v&&(v=o));if(c>d||h>p||f>v)return this;for(this.cover(c,h,f).cover(d,p,v),n=0;n<a;++n)gh(this,s[n],u[n],l[n],e[n]);return this},_h.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,u=this._z1;if(isNaN(r))a=(r=Math.floor(e))+1,s=(i=Math.floor(t))+1,u=(o=Math.floor(n))+1;else{for(var l,c,h=a-r||1,f=this._root;r>e||e>=a||i>t||t>=s||o>n||n>=u;)switch(c=(n<o)<<2|(t<i)<<1|e<r,(l=new Array(8))[c]=f,f=l,h*=2,c){case 0:a=r+h,s=i+h,u=o+h;break;case 1:r=a-h,s=i+h,u=o+h;break;case 2:a=r+h,i=s-h,u=o+h;break;case 3:r=a-h,i=s-h,u=o+h;break;case 4:a=r+h,s=i+h,o=u-h;break;case 5:r=a-h,s=i+h,o=u-h;break;case 6:a=r+h,i=s-h,o=u-h;break;case 7:r=a-h,i=s-h,o=u-h}this._root&&this._root.length&&(this._root=f)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=u,this},_h.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},_h.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},_h.find=function(e,t,n,r){var i,o,a,s,u,l,c,h,f,d=this._x0,p=this._y0,v=this._z0,m=this._x1,g=this._y1,y=this._z1,b=[],O=this._root;for(O&&b.push(new yh(O,d,p,v,m,g,y)),null==r?r=1/0:(d=e-r,p=t-r,v=n-r,m=e+r,g=t+r,y=n+r,r*=r);h=b.pop();)if(!(!(O=h.node)||(o=h.x0)>m||(a=h.y0)>g||(s=h.z0)>y||(u=h.x1)<d||(l=h.y1)<p||(c=h.z1)<v))if(O.length){var x=(o+u)/2,w=(a+l)/2,k=(s+c)/2;b.push(new yh(O[7],x,w,k,u,l,c),new yh(O[6],o,w,k,x,l,c),new yh(O[5],x,a,k,u,w,c),new yh(O[4],o,a,k,x,w,c),new yh(O[3],x,w,s,u,l,k),new yh(O[2],o,w,s,x,l,k),new yh(O[1],x,a,s,u,w,k),new yh(O[0],o,a,s,x,w,k)),(f=(n>=k)<<2|(t>=w)<<1|e>=x)&&(h=b[b.length-1],b[b.length-1]=b[b.length-1-f],b[b.length-1-f]=h)}else{var S=e-+this._x.call(null,O.data),_=t-+this._y.call(null,O.data),T=n-+this._z.call(null,O.data),M=S*S+_*_+T*T;if(M<r){var E=Math.sqrt(r=M);d=e-E,p=t-E,v=n-E,m=e+E,g=t+E,y=n+E,i=O.data}}return i},_h.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,h,f,d,p,v,m=this._root,g=this._x0,y=this._y0,b=this._z0,O=this._x1,x=this._y1,w=this._z1;if(!m)return this;if(m.length)for(;;){if((h=o>=(u=(g+O)/2))?g=u:O=u,(f=a>=(l=(y+x)/2))?y=l:x=l,(d=s>=(c=(b+w)/2))?b=c:w=c,t=m,!(m=m[p=d<<2|f<<1|h]))return this;if(!m.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,v=p)}for(;m.data!==e;)if(r=m,!(m=m.next))return this;return(i=m.next)&&delete m.next,r?(i?r.next=i:delete r.next,this):t?(i?t[p]=i:delete t[p],(m=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&m===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!m.length&&(n?n[v]=m:this._root=m),this):(this._root=i,this)},_h.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},_h.root=function(){return this._root},_h.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},_h.visit=function(e){var t,n,r,i,o,a,s,u,l=[],c=this._root;for(c&&l.push(new yh(c,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=l.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,o=t.z0,a=t.x1,s=t.y1,u=t.z1)&&c.length){var h=(r+a)/2,f=(i+s)/2,d=(o+u)/2;(n=c[7])&&l.push(new yh(n,h,f,d,a,s,u)),(n=c[6])&&l.push(new yh(n,r,f,d,h,s,u)),(n=c[5])&&l.push(new yh(n,h,i,d,a,f,u)),(n=c[4])&&l.push(new yh(n,r,i,d,h,f,u)),(n=c[3])&&l.push(new yh(n,h,f,o,a,s,d)),(n=c[2])&&l.push(new yh(n,r,f,o,h,s,d)),(n=c[1])&&l.push(new yh(n,h,i,o,a,f,d)),(n=c[0])&&l.push(new yh(n,r,i,o,h,f,d))}return this},_h.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new yh(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.z0,l=t.x1,c=t.y1,h=t.z1,f=(a+l)/2,d=(s+c)/2,p=(u+h)/2;(o=i[0])&&n.push(new yh(o,a,s,u,f,d,p)),(o=i[1])&&n.push(new yh(o,f,s,u,l,d,p)),(o=i[2])&&n.push(new yh(o,a,d,u,f,c,p)),(o=i[3])&&n.push(new yh(o,f,d,u,l,c,p)),(o=i[4])&&n.push(new yh(o,a,s,p,f,d,h)),(o=i[5])&&n.push(new yh(o,f,s,p,l,d,h)),(o=i[6])&&n.push(new yh(o,a,d,p,f,c,h)),(o=i[7])&&n.push(new yh(o,f,d,p,l,c,h))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},_h.x=function(e){return arguments.length?(this._x=e,this):this._x},_h.y=function(e){return arguments.length?(this._y=e,this):this._y},_h.z=function(e){return arguments.length?(this._z=e,this):this._z};var Eh=n(1700),Ph=n.n(Eh),Ch=n(2070),Ah=n.n(Ch),Rh=n(7494),Lh=n.n(Rh);function Qh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Dh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zh=function e(t,n){var r=n.default,i=void 0===r?null:r,o=n.triggerUpdate,a=void 0===o||o,s=n.onChange,u=void 0===s?function(e,t){}:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.defaultVal=i,this.triggerUpdate=a,this.onChange=u};function Ih(e){var t=e.stateInit,n=void 0===t?function(){return{}}:t,r=e.props,i=void 0===r?{}:r,o=e.methods,a=void 0===o?{}:o,s=e.aliases,u=void 0===s?{}:s,l=e.init,c=void 0===l?function(){}:l,h=e.update,f=void 0===h?function(){}:h,d=Object.keys(i).map((function(e){return new Zh(e,i[e])}));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},n instanceof Function?n(e):n,{initialised:!1}),r={};function i(t){return o(t,e),s(),i}var o=function(e,n){c.call(i,e,t,n),t.initialised=!0},s=Lh()((function(){t.initialised&&(f.call(i,t,r),r={})}),1);return d.forEach((function(e){i[e.name]=function(e){var n=e.name,o=e.triggerUpdate,a=void 0!==o&&o,u=e.onChange,l=void 0===u?function(e,t){}:u,c=e.defaultVal,h=void 0===c?null:c;return function(e){var o=t[n];if(!arguments.length)return o;var u=void 0===e?h:e;return t[n]=u,l.call(i,u,t,o),!r.hasOwnProperty(n)&&(r[n]=o),a&&s(),i}}(e)})),Object.keys(a).forEach((function(e){i[e]=function(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=a[e]).call.apply(n,[i,t].concat(o))}})),Object.entries(u).forEach((function(e){var t=Qh(e,2),n=t[0],r=t[1];return i[n]=i[r]})),i.resetProps=function(){return d.forEach((function(e){i[e.name](e.defaultVal)})),i},i.resetProps(),t._rerender=s,i}}var Nh=function(e){return e instanceof Function?e:"string"===typeof e?function(t){return t[e]}:function(t){return e}};function zh(e,t){var n;if(void 0===t){var r,i=(0,O.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,u=(0,O.Z)(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;null!=(l=t(l,++s,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){u.e(c)}finally{u.f()}}return n}function jh(e,t){var n;if(void 0===t){var r,i=(0,O.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,u=(0,O.Z)(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;null!=(l=t(l,++s,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){u.e(c)}finally{u.f()}}return n}function Wh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||$h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fh(e){return function(e){if(Array.isArray(e))return Vh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $h(e,t){if(e){if("string"===typeof e)return Vh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vh(e,t):void 0}}function Vh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uh(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Hh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(t instanceof Array?t.length?t:[void 0]:[t]).map((function(e){return{keyAccessor:e,isProp:!(e instanceof Function)}})),o=e.reduce((function(e,t){var r=e,o=t;return i.forEach((function(e,t){var a,s=e.keyAccessor;if(e.isProp){var u=o,l=u[s],c=Wh(u,[s].map(Uh));a=l,o=c}else a=s(o,t);t+1<i.length?(r.hasOwnProperty(a)||(r[a]={}),r=r[a]):n?(r.hasOwnProperty(a)||(r[a]=[]),r[a].push(o)):r[a]=o})),e}),{});n instanceof Function&&function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===i.length?Object.keys(t).forEach((function(e){return t[e]=n(t[e])})):Object.values(t).forEach((function(t){return e(t,r+1)}))}(o);var a=o;return r&&(a=[],function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===i.length?a.push({keys:n,vals:t}):Object.entries(t).forEach((function(t){var r=Bh(t,2),i=r[0],o=r[1];return e(o,[].concat(Fh(n),[i]))}))}(o),t instanceof Array&&0===t.length&&1===a.length&&(a[0].keys=[])),a};function Gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Kh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jh(e){return function(e){if(Array.isArray(e))return ef(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kh(e,t){if(e){if("string"===typeof e)return ef(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ef(e,t):void 0}}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tf(e,t,n){var r=n.objBindAttr,i=void 0===r?"__obj":r,o=n.dataBindAttr,a=void 0===o?"__data":o,s=n.idAccessor,u=n.purge,l=void 0!==u&&u,c=function(e){return e.hasOwnProperty(a)},h=t.filter((function(e){return!c(e)})),f=t.filter(c).map((function(e){return e[a]})),d=l?{enter:e,exit:f,update:[]}:function(e,t,n){var r={enter:[],update:[],exit:[]};if(n){var i=Hh(e,n,!1),o=Hh(t,n,!1),a=Object.assign({},i,o);Object.entries(a).forEach((function(e){var t=Yh(e,2),n=t[0],a=t[1],s=i.hasOwnProperty(n)?o.hasOwnProperty(n)?"update":"exit":"enter";r[s].push("update"===s?[i[n],o[n]]:a)}))}else{var s=new Set(e),u=new Set(t);new Set([].concat(Jh(s),Jh(u))).forEach((function(e){var t=s.has(e)?u.has(e)?"update":"exit":"enter";r[t].push("update"===t?[e,e]:e)}))}return r}(f,e,s);return d.update=d.update.map((function(e){var t=Yh(e,2),n=t[0],r=t[1];return n!==r&&(r[i]=n[i],r[i][a]=r),r})),d.exit=d.exit.concat(h.map((function(e){return qh({},i,e)}))),d}var nf=function(e,t,n,r,i){var o=i.createObj,a=void 0===o?function(e){return{}}:o,s=i.updateObj,u=void 0===s?function(e,t){}:s,l=i.exitObj,c=void 0===l?function(e){}:l,h=i.objBindAttr,f=void 0===h?"__obj":h,d=i.dataBindAttr,p=void 0===d?"__data":d,v=Xh(i,["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"]),m=tf(e,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gh(Object(n),!0).forEach((function(t){qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objBindAttr:f,dataBindAttr:p},v)),g=m.enter,y=m.update;m.exit.forEach((function(e){var t=e[f];delete e[f],c(t),r(t)}));var b=function(e){var t=[];return e.forEach((function(e){var n=a(e);n&&(n[p]=e,e[f]=n,t.push(n))})),t}(g);!function(e){e.forEach((function(e){var t=e[f];t&&(t[p]=e,u(t,e))}))}([].concat(Jh(g),Jh(y))),b.forEach(n)},rf=n(9611);var of=n(8814);function af(e,t,n){return af=(0,of.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,rf.Z)(i,n.prototype),i},af.apply(null,arguments)}function sf(e){var t="function"===typeof Map?new Map:void 0;return sf=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return af(e,arguments,(0,_.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,rf.Z)(r,e)},sf(e)}var uf=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ff;if((0,C.Z)(this,n),r=t.call(this),Object.defineProperties((0,M.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var o,a=(0,O.Z)(e);try{for(a.s();!(o=a.n()).done;){var s=(0,w.Z)(o.value,2),u=s[0],l=s[1];r.set(u,l)}}catch(c){a.e(c)}finally{a.f()}}return r}return(0,A.Z)(n,[{key:"get",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"get",this).call(this,lf(this,e))}},{key:"has",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"has",this).call(this,lf(this,e))}},{key:"set",value:function(e,t){return(0,S.Z)((0,_.Z)(n.prototype),"set",this).call(this,cf(this,e),t)}},{key:"delete",value:function(e){return(0,S.Z)((0,_.Z)(n.prototype),"delete",this).call(this,hf(this,e))}}]),n}(sf(Map));Set;function lf(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function cf(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function hf(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function ff(e){return null!==e&&"object"===typeof e?e.valueOf():e}function df(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var pf=Symbol("implicit");var vf=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),mf=n(7045),gf=n.n(mf);function yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yf(Object(n),!0).forEach((function(t){wf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Of(e){return Of="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(e)}function xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_f(e,t)}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sf(e)}function _f(e,t){return _f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_f(e,t)}function Tf(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mf(e,t,n){return Mf=Tf()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_f(i,n.prototype),i},Mf.apply(null,arguments)}function Ef(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cf(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?Pf(e):t}function Af(e){var t=Tf();return function(){var n,r=Sf(e);if(t){var i=Sf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cf(this,n)}}function Rf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Qf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lf(e){return function(e){if(Array.isArray(e))return Df(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qf(e,t){if(e){if("string"===typeof e)return Df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Df(e,t):void 0}}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zf=function e(t){t instanceof Array?t.forEach(e):(t.map&&t.map.dispose(),t.dispose())},If=function e(t){t.geometry&&t.geometry.dispose(),t.material&&Zf(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)},Nf=function(e){for(;e.children.length;){var t=e.children[0];e.remove(t),If(t)}},zf=["objFilter"];function jf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.objFilter,i=void 0===r?function(){return!0}:r,o=Ef(n,zf);return nf(e,t.children.filter(i),(function(e){return t.add(e)}),(function(e){t.remove(e),Nf(e)}),bf({objBindAttr:"__threeObj"},o))}var Wf=function(e){return isNaN(e)?parseInt(gf()(e).toHex(),16):e},Bf=function(e){return isNaN(e)?gf()(e).getAlpha():1},Ff=function e(){var t=new uf,n=[],r=[],i=pf;function o(e){var o=t.get(e);if(void 0===o){if(i!==pf)return i;t.set(e,o=n.push(e)-1)}return r[o%r.length]}return o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new uf;var r,i=(0,O.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.has(a)||t.set(a,n.push(a)-1)}}catch(s){i.e(s)}finally{i.f()}return o},o.range=function(e){return arguments.length?(r=Array.from(e),o):r.slice()},o.unknown=function(e){return arguments.length?(i=e,o):i},o.copy=function(){return e(n,r).unknown(i)},df.apply(o,arguments),o}(vf);function $f(e,t,n){t&&"string"===typeof n&&e.filter((function(e){return!e[n]})).forEach((function(e){e[n]=Ff(t(e))}))}var Vf=window.THREE?window.THREE:{Group:ia,Mesh:Jn,MeshLambertMaterial:Eu,Color:bn,BufferGeometry:Qn,BufferAttribute:kn,Matrix4:Mt,Vector3:Xe,SphereBufferGeometry:Ou,CylinderBufferGeometry:gs,TubeBufferGeometry:xu,ConeBufferGeometry:ys,Line:ts,LineBasicMaterial:qa,QuadraticBezierCurve3:Zs,CubicBezierCurve3:Rs,Box3:Ke},Uf={graph:Ph(),forcelayout:Ah()},Hf=(new Vf.BufferGeometry).setAttribute?"setAttribute":"addAttribute",Gf=(new Vf.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",qf=Ih({props:{jsonUrl:{onChange:function(e,t){var n=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then((function(e){return e.json()})).then((function(e){t.fetchingJson=!1,t.onFinishLoading(e),n.graphData(e)})))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var n=t.d3ForceLayout.force("charge");function r(e,t){e.forEach((function(e){delete e[t],delete e["v".concat(t)]}))}n&&n.strength(e>2?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y")}},dagMode:{onChange:function(e,t){!e&&"d3"===t.forceEngine&&(t.graphData.nodes||[]).forEach((function(e){return e.fx=e.fy=e.fz=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,n){return void 0===n?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,n),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t="ngraph"!==e.forceEngine;return e.engineRunning&&function(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||t&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[t?"tick":"step"](),e.onEngineTick());e.graphData.nodes.forEach((function(n){var r=n.__threeObj;if(r){var i=t?n:e.layout.getNodePosition(n[e.nodeId]);r.position.x=i.x,r.position.y=i.y||0,r.position.z=i.z||0}}));var n=Nh(e.linkWidth),r=Nh(e.linkCurvature),i=Nh(e.linkCurveRotation),o=Nh(e.linkThreeObjectExtend);function a(n){var o=t?n:e.layout.getLinkPosition(e.layout.graph.getLink(n.source,n.target).id),a=o[t?"source":"from"],s=o[t?"target":"to"];if(a&&s&&a.hasOwnProperty("x")&&s.hasOwnProperty("x")){var u=r(n);if(u){var l,c=new Vf.Vector3(a.x,a.y||0,a.z||0),h=new Vf.Vector3(s.x,s.y||0,s.z||0),f=c.distanceTo(h),d=i(n);if(f>0){var p=s.x-a.x,v=s.y-a.y||0,m=(new Vf.Vector3).subVectors(h,c),g=m.clone().multiplyScalar(u).cross(0!==p||0!==v?new Vf.Vector3(0,0,1):new Vf.Vector3(0,1,0)).applyAxisAngle(m.normalize(),d).add((new Vf.Vector3).addVectors(c,h).divideScalar(2));l=new Vf.QuadraticBezierCurve3(c,g,h)}else{var y=70*u,b=-d,O=b+Math.PI/2;l=new Vf.CubicBezierCurve3(c,new Vf.Vector3(y*Math.cos(O),y*Math.sin(O),0).add(c),new Vf.Vector3(y*Math.cos(b),y*Math.sin(b),0).add(c),h)}n.__curve=l}else n.__curve=null}}e.graphData.links.forEach((function(r){var i=r.__lineObj;if(i){var s=t?r:e.layout.getLinkPosition(e.layout.graph.getLink(r.source,r.target).id),u=s[t?"source":"from"],l=s[t?"target":"to"];if(u&&l&&u.hasOwnProperty("x")&&l.hasOwnProperty("x")){a(r);var c=o(r);if(!e.linkPositionUpdate||!e.linkPositionUpdate(c?i.children[1]:i,{start:{x:u.x,y:u.y,z:u.z},end:{x:l.x,y:l.y,z:l.z}},r)||c){var h=30,f=r.__curve,d=i.children.length?i.children[0]:i;if("Line"===d.type){if(f)d.geometry.setFromPoints(f.getPoints(h));else{var p=d.geometry.getAttribute("position");p&&p.array&&6===p.array.length||d.geometry[Hf]("position",p=new Vf.BufferAttribute(new Float32Array(6),3)),p.array[0]=u.x,p.array[1]=u.y||0,p.array[2]=u.z||0,p.array[3]=l.x,p.array[4]=l.y||0,p.array[5]=l.z||0,p.needsUpdate=!0}d.geometry.computeBoundingSphere()}else if("Mesh"===d.type)if(f){d.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(d.position.set(0,0,0),d.rotation.set(0,0,0),d.scale.set(1,1,1));var v=Math.ceil(10*n(r))/10/2,m=new Vf.TubeBufferGeometry(f,h,v,e.linkResolution,!1);d.geometry.dispose(),d.geometry=m}else{if(!d.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var g=Math.ceil(10*n(r))/10/2,y=new Vf.CylinderBufferGeometry(g,g,1,e.linkResolution,1,!1);y[Gf]((new Vf.Matrix4).makeTranslation(0,.5,0)),y[Gf]((new Vf.Matrix4).makeRotationX(Math.PI/2)),d.geometry.dispose(),d.geometry=y}var b=new Vf.Vector3(u.x,u.y||0,u.z||0),O=new Vf.Vector3(l.x,l.y||0,l.z||0),x=b.distanceTo(O);d.position.x=b.x,d.position.y=b.y,d.position.z=b.z,d.scale.z=x,d.parent.localToWorld(O),d.lookAt(O)}}}}}))}(),function(){var n=Nh(e.linkDirectionalArrowRelPos),r=Nh(e.linkDirectionalArrowLength),i=Nh(e.nodeVal);e.graphData.links.forEach((function(o){var a=o.__arrowObj;if(a){var s=t?o:e.layout.getLinkPosition(e.layout.graph.getLink(o.source,o.target).id),u=s[t?"source":"from"],l=s[t?"target":"to"];if(u&&l&&u.hasOwnProperty("x")&&l.hasOwnProperty("x")){var c=Math.sqrt(Math.max(0,i(u)||1))*e.nodeRelSize,h=Math.sqrt(Math.max(0,i(l)||1))*e.nodeRelSize,f=r(o),d=n(o),p=o.__curve?function(e){return o.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",u,l,e),y:t("y",u,l,e),z:t("z",u,l,e)}},v=o.__curve?o.__curve.getLength():Math.sqrt(["x","y","z"].map((function(e){return Math.pow((l[e]||0)-(u[e]||0),2)})).reduce((function(e,t){return e+t}),0)),m=c+f+(v-c-h-f)*d,g=p(m/v),y=p((m-f)/v);["x","y","z"].forEach((function(e){return a.position[e]=y[e]}));var b=Mf(Vf.Vector3,Lf(["x","y","z"].map((function(e){return g[e]}))));a.parent.localToWorld(b),a.lookAt(b)}}}))}(),function(){var n=Nh(e.linkDirectionalParticleSpeed);e.graphData.links.forEach((function(r){var i=r.__photonsObj&&r.__photonsObj.children,o=r.__singleHopPhotonsObj&&r.__singleHopPhotonsObj.children;if(o&&o.length||i&&i.length){var a=t?r:e.layout.getLinkPosition(e.layout.graph.getLink(r.source,r.target).id),s=a[t?"source":"from"],u=a[t?"target":"to"];if(s&&u&&s.hasOwnProperty("x")&&u.hasOwnProperty("x")){var l=n(r),c=r.__curve?function(e){return r.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",s,u,e),y:t("y",s,u,e),z:t("z",s,u,e)}};[].concat(Lf(i||[]),Lf(o||[])).forEach((function(e,t){var n="singleHopPhotons"===e.parent.__linkThreeObjType;if(e.hasOwnProperty("__progressRatio")||(e.__progressRatio=n?0:t/i.length),e.__progressRatio+=l,e.__progressRatio>=1){if(n)return e.parent.remove(e),void Nf(e);e.__progressRatio=e.__progressRatio%1}var r=e.__progressRatio,o=c(r);["x","y","z"].forEach((function(t){return e.position[t]=o[t]}))}))}}}))}(),this},emitParticle:function(e,t){if(t){if(!t.__singleHopPhotonsObj){var n=new Vf.Group;n.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=n,e.graphScene.add(n)}var r=Nh(e.linkDirectionalParticleWidth),i=Math.ceil(10*r(t))/10/2,o=e.linkDirectionalParticleResolution,a=new Vf.SphereBufferGeometry(i,o,o),s=Nh(e.linkColor),u=Nh(e.linkDirectionalParticleColor)(t)||s(t)||"#f0f0f0",l=new Vf.Color(Wf(u)),c=3*e.linkOpacity,h=new Vf.MeshLambertMaterial({color:l,transparent:!0,opacity:c});t.__singleHopPhotonsObj.add(new Vf.Mesh(a,h))}return this},getGraphBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!e.initialised)return null;var n=function e(n){var r=[];if(n.geometry){n.geometry.computeBoundingBox();var i=new Vf.Box3;i.copy(n.geometry.boundingBox).applyMatrix4(n.matrixWorld),r.push(i)}return r.concat.apply(r,Lf((n.children||[]).filter((function(e){return!e.hasOwnProperty("__graphObjType")||"node"===e.__graphObjType&&t(e.__data)})).map(e)))}(e.graphScene);return n.length?Object.assign.apply(Object,Lf(["x","y","z"].map((function(e){return wf({},e,[zh(n,(function(t){return t.min[e]})),jh(n,(function(t){return t.max[e]}))])})))):null}},stateInit:function(){return{d3ForceLayout:Xc().force("link",th()).force("charge",Th()).force("center",Mh()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e},update:function(e,t){var n=function(e){return e.some((function(e){return t.hasOwnProperty(e)}))};if(e.engineRunning=!1,e.onUpdate(),null!==e.nodeAutoColorBy&&n(["nodeAutoColorBy","graphData","nodeColor"])&&$f(e.graphData.nodes,Nh(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&n(["linkAutoColorBy","graphData","linkColor"])&&$f(e.graphData.links,Nh(e.linkAutoColorBy),e.linkColor),e._flushObjects||n(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=Nh(e.nodeThreeObject),i=Nh(e.nodeThreeObjectExtend),o=Nh(e.nodeVal),a=Nh(e.nodeColor),s=Nh(e.nodeVisibility),u={},l={};jf(e.graphData.nodes.filter(s),e.graphScene,{purge:e._flushObjects||n(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(e){return"node"===e.__graphObjType},createObj:function(t){var n,o=r(t),a=i(t);return o&&e.nodeThreeObject===o&&(o=o.clone()),o&&!a?n=o:((n=new Vf.Mesh).__graphDefaultObj=!0,o&&a&&n.add(o)),n.__graphObjType="node",n},updateObj:function(t,n){if(t.__graphDefaultObj){var r=o(n)||1,i=Math.cbrt(r)*e.nodeRelSize,s=e.nodeResolution;t.geometry.type.match(/^Sphere(Buffer)?Geometry$/)&&t.geometry.parameters.radius===i&&t.geometry.parameters.widthSegments===s||(u.hasOwnProperty(r)||(u[r]=new Vf.SphereBufferGeometry(i,s,s)),t.geometry.dispose(),t.geometry=u[r]);var c=a(n),h=new Vf.Color(Wf(c||"#ffffaa")),f=e.nodeOpacity*Bf(c);"MeshLambertMaterial"===t.material.type&&t.material.color.equals(h)&&t.material.opacity===f||(l.hasOwnProperty(c)||(l[c]=new Vf.MeshLambertMaterial({color:h,transparent:!0,opacity:f})),t.material.dispose(),t.material=l[c])}}})}if(e._flushObjects||n(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var c=Nh(e.linkThreeObject),h=Nh(e.linkThreeObjectExtend),f=Nh(e.linkMaterial),d=Nh(e.linkVisibility),p=Nh(e.linkColor),v=Nh(e.linkWidth),m={},g={},y={},b=e.graphData.links.filter(d);if(jf(b,e.graphScene,{objBindAttr:"__lineObj",purge:e._flushObjects||n(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(e){return"link"===e.__graphObjType},createObj:function(t){var n,r,i=c(t),o=h(t);if(i&&e.linkThreeObject===i&&(i=i.clone()),!i||o)if(!!v(t))n=new Vf.Mesh;else{var a=new Vf.BufferGeometry;a[Hf]("position",new Vf.BufferAttribute(new Float32Array(6),3)),n=new Vf.Line(a)}return i?o?((r=new Vf.Group).__graphDefaultObj=!0,r.add(n),r.add(i)):r=i:(r=n).__graphDefaultObj=!0,r.renderOrder=10,r.__graphObjType="link",r},updateObj:function(t,n){if(t.__graphDefaultObj){var r=t.children.length?t.children[0]:t,i=Math.ceil(10*v(n))/10,o=!!i;if(o){var a=i/2,s=e.linkResolution;if(!r.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||r.geometry.parameters.radiusTop!==a||r.geometry.parameters.radialSegments!==s){if(!m.hasOwnProperty(i)){var u=new Vf.CylinderBufferGeometry(a,a,1,s,1,!1);u[Gf]((new Vf.Matrix4).makeTranslation(0,.5,0)),u[Gf]((new Vf.Matrix4).makeRotationX(Math.PI/2)),m[i]=u}r.geometry.dispose(),r.geometry=m[i]}}var l=f(n);if(l)r.material=l;else{var c=p(n),h=new Vf.Color(Wf(c||"#f0f0f0")),d=e.linkOpacity*Bf(c),b=o?"MeshLambertMaterial":"LineBasicMaterial";if(r.material.type!==b||!r.material.color.equals(h)||r.material.opacity!==d){var O=o?g:y;O.hasOwnProperty(c)||(O[c]=new Vf[b]({color:h,transparent:d<1,opacity:d,depthWrite:d>=1})),r.material.dispose(),r.material=O[c]}}}}}),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var O=Nh(e.linkDirectionalArrowLength),x=Nh(e.linkDirectionalArrowColor);jf(b.filter(O),e.graphScene,{objBindAttr:"__arrowObj",objFilter:function(e){return"arrow"===e.__linkThreeObjType},createObj:function(){var e=new Vf.Mesh(void 0,new Vf.MeshLambertMaterial({transparent:!0}));return e.__linkThreeObjType="arrow",e},updateObj:function(t,n){var r=O(n),i=e.linkDirectionalArrowResolution;if(!t.geometry.type.match(/^Cone(Buffer)?Geometry$/)||t.geometry.parameters.height!==r||t.geometry.parameters.radialSegments!==i){var o=new Vf.ConeBufferGeometry(.25*r,r,i);o.translate(0,r/2,0),o.rotateX(Math.PI/2),t.geometry.dispose(),t.geometry=o}t.material.color=new Vf.Color(x(n)||p(n)||"#f0f0f0"),t.material.opacity=3*e.linkOpacity}})}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var w=Nh(e.linkDirectionalParticles),k=Nh(e.linkDirectionalParticleWidth),S=Nh(e.linkDirectionalParticleColor),_={},T={};jf(b.filter(w),e.graphScene,{objBindAttr:"__photonsObj",objFilter:function(e){return"photons"===e.__linkThreeObjType},createObj:function(){var e=new Vf.Group;return e.__linkThreeObjType="photons",e},updateObj:function(t,n){var r,i=Math.round(Math.abs(w(n))),o=!!t.children.length&&t.children[0],a=Math.ceil(10*k(n))/10/2,s=e.linkDirectionalParticleResolution;o&&o.geometry.parameters.radius===a&&o.geometry.parameters.widthSegments===s?r=o.geometry:(T.hasOwnProperty(a)||(T[a]=new Vf.SphereBufferGeometry(a,s,s)),r=T[a],o&&o.geometry.dispose());var u,l=S(n)||p(n)||"#f0f0f0",c=new Vf.Color(Wf(l)),h=3*e.linkOpacity;o&&o.material.color.equals(c)&&o.material.opacity===h?u=o.material:(_.hasOwnProperty(l)||(_[l]=new Vf.MeshLambertMaterial({color:c,transparent:!0,opacity:h})),u=_[l],o&&o.material.dispose()),jf(Lf(new Array(i)).map((function(e,t){return{idx:t}})),t,{idAccessor:function(e){return e.idx},createObj:function(){return new Vf.Mesh(r,u)},updateObj:function(e){e.geometry=r,e.material=u}})}})}}if(e._flushObjects=!1,n(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach((function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]}));var M,E="ngraph"!==e.forceEngine;if(E){(M=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var P=e.d3ForceLayout.force("link");P&&P.id((function(t){return t[e.nodeId]})).links(e.graphData.links);var C=e.dagMode&&function(e,t){var n=e.nodes,r=e.links,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.nodeFilter,a=void 0===o?function(){return!0}:o,s=i.onLoopError,u=void 0===s?function(e){throw"Invalid DAG structure! Found cycle in node path: ".concat(e.join(" -> "),".")}:s,l={};n.forEach((function(e){return l[t(e)]={data:e,out:[],depth:-1,skip:!a(e)}})),r.forEach((function(e){var n=e.source,r=e.target,i=u(n),o=u(r);if(!l.hasOwnProperty(i))throw"Missing source node with id: ".concat(i);if(!l.hasOwnProperty(o))throw"Missing target node with id: ".concat(o);var a=l[i],s=l[o];function u(e){return"object"===Of(e)?t(e):e}a.out.push(s)}));var c=[];return h(Object.values(l)),Object.assign.apply(Object,[{}].concat(Lf(Object.entries(l).filter((function(e){return!Rf(e,2)[1].skip})).map((function(e){var t=Rf(e,2);return wf({},t[0],t[1].depth)})))));function h(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0,o=e.length;i<o;i++){var a=e[i];if(-1!==n.indexOf(a))if("continue"===function(){var e=[].concat(Lf(n.slice(n.indexOf(a))),[a]).map((function(e){return t(e.data)}));return c.some((function(t){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))}))||(c.push(e),u(e)),"continue"}())continue;r>a.depth&&(a.depth=r,h(a.out,[].concat(Lf(n),[a]),r+(a.skip?0:1)))}}}(e.graphData,(function(t){return t[e.nodeId]}),{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),A=Math.max.apply(Math,Lf(Object.values(C||[]))),R=e.dagLevelDistance||e.graphData.nodes.length/(A||1)*2*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var L=function(t,n){return function(r){return t?(C[r[e.nodeId]]-A/2)*R*(n?-1:1):void 0}},Q=L(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),D=L(-1!==["td","bu"].indexOf(e.dagMode),"td"===e.dagMode),Z=L(-1!==["zin","zout"].indexOf(e.dagMode),"zout"===e.dagMode);e.graphData.nodes.filter(e.dagNodeFilter).forEach((function(e){e.fx=Q(e),e.fy=D(e),e.fz=Z(e)}))}e.d3ForceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?function(e,t,n,r){var i,o,a,s,u=Yc(.1);function l(e){for(var u=0,l=i.length;u<l;++u){var c=i[u],h=c.x-t||1e-6,f=(c.y||0)-n||1e-6,d=(c.z||0)-r||1e-6,p=Math.sqrt(h*h+f*f+d*d),v=(s[u]-p)*a[u]*e/p;c.vx+=h*v,o>1&&(c.vy+=f*v),o>2&&(c.vz+=d*v)}}function c(){if(i){var t,n=i.length;for(a=new Array(n),s=new Array(n),t=0;t<n;++t)s[t]=+e(i[t],t,i),a[t]=isNaN(s[t])?0:+u(i[t],t,i)}}return"function"!==typeof e&&(e=Yc(+e)),null==t&&(t=0),null==n&&(n=0),null==r&&(r=0),l.initialize=function(e){i=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o=n.find((function(e){return[1,2,3].includes(e)}))||2,c()},l.strength=function(e){return arguments.length?(u="function"===typeof e?e:Yc(+e),c(),l):u},l.radius=function(t){return arguments.length?(e="function"===typeof t?t:Yc(+t),c(),l):e},l.x=function(e){return arguments.length?(t=+e,l):t},l.y=function(e){return arguments.length?(n=+e,l):n},l.z=function(e){return arguments.length?(r=+e,l):r},l}((function(t){var n=C[t[e.nodeId]]||-1;return("radialin"===e.dagMode?A-n:n)*R})).strength((function(t){return e.dagNodeFilter(t)?1:0})):null)}else{var I=Uf.graph();e.graphData.nodes.forEach((function(t){I.addNode(t[e.nodeId])})),e.graphData.links.forEach((function(e){I.addLink(e.source,e.target)})),(M=Uf.forcelayout(I,bf({dimensions:e.numDimensions},e.ngraphPhysics))).graph=I}for(var N=0;N<e.warmupTicks&&!(E&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);N++)M[E?"tick":"step"]();e.layout=M,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});var Xf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(t){kf(i,t);var r=Af(i);function i(){var t;xf(this,i);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(t=r.call.apply(r,[this].concat(a))).__kapsuleInstance=e().apply(void 0,[].concat(Lf(n?[Pf(t)]:[]),a)),t}return i}(t);return Object.keys(e()).forEach((function(e){return r.prototype[e]=function(){var t,n=(t=this.__kapsuleInstance)[e].apply(t,arguments);return n===this.__kapsuleInstance?this:n}})),r}(qf,(window.THREE?window.THREE:{Group:ia}).Group,!0),Yf=Xf,Jf={type:"change"},Kf={type:"start"},ed={type:"end"},td=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;(0,C.Z)(this,n),i=t.call(this),void 0===r&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),r===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var o=(0,M.Z)(i),a=-1,s=0,u=1,l=2,c=3,h=4;i.object=e,i.domElement=r,i.domElement.style.touchAction="none",i.enabled=!0,i.screen={left:0,top:0,width:0,height:0},i.rotateSpeed=1,i.zoomSpeed=1.2,i.panSpeed=.3,i.noRotate=!1,i.noZoom=!1,i.noPan=!1,i.staticMoving=!1,i.dynamicDampingFactor=.2,i.minDistance=0,i.maxDistance=1/0,i.keys=["KeyA","KeyS","KeyD"],i.mouseButtons={LEFT:D.ROTATE,MIDDLE:D.DOLLY,RIGHT:D.PAN},i.target=new Xe;var f=1e-6,d=new Xe,p=1,v=a,m=a,g=0,y=0,b=0,O=new Xe,x=new Ze,w=new Ze,k=new Xe,S=new Ze,_=new Ze,T=new Ze,E=new Ze,P=[],A={};i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.up0=i.object.up.clone(),i.zoom0=i.object.zoom,i.handleResize=function(){var e=o.domElement.getBoundingClientRect(),t=o.domElement.ownerDocument.documentElement;o.screen.left=e.left+window.pageXOffset-t.clientLeft,o.screen.top=e.top+window.pageYOffset-t.clientTop,o.screen.width=e.width,o.screen.height=e.height};var R=function(){var e=new Ze;return function(t,n){return e.set((t-o.screen.left)/o.screen.width,(n-o.screen.top)/o.screen.height),e}}(),L=function(){var e=new Ze;return function(t,n){return e.set((t-.5*o.screen.width-o.screen.left)/(.5*o.screen.width),(o.screen.height+2*(o.screen.top-n))/o.screen.width),e}}();function Q(e){!1!==o.enabled&&(0===P.length&&(o.domElement.setPointerCapture(e.pointerId),o.domElement.addEventListener("pointermove",Z),o.domElement.addEventListener("pointerup",I)),function(e){P.push(e)}(e),"touch"===e.pointerType?function(e){if(1===($(e),P.length))v=c,w.copy(L(P[0].pageX,P[0].pageY)),x.copy(w);else{v=h;var t=P[0].pageX-P[1].pageX,n=P[0].pageY-P[1].pageY;y=g=Math.sqrt(t*t+n*n);var r=(P[0].pageX+P[1].pageX)/2,i=(P[0].pageY+P[1].pageY)/2;T.copy(R(r,i)),E.copy(T)}o.dispatchEvent(Kf)}(e):function(e){if(v===a)switch(e.button){case o.mouseButtons.LEFT:v=s;break;case o.mouseButtons.MIDDLE:v=u;break;case o.mouseButtons.RIGHT:v=l;break;default:v=a}var t=m!==a?m:v;t!==s||o.noRotate?t!==u||o.noZoom?t!==l||o.noPan||(T.copy(R(e.pageX,e.pageY)),E.copy(T)):(S.copy(R(e.pageX,e.pageY)),_.copy(S)):(w.copy(L(e.pageX,e.pageY)),x.copy(w));o.dispatchEvent(Kf)}(e))}function Z(e){!1!==o.enabled&&("touch"===e.pointerType?function(e){if(1===($(e),P.length))x.copy(w),w.copy(L(e.pageX,e.pageY));else{var t=function(e){var t=e.pointerId===P[0].pointerId?P[1]:P[0];return A[t.pointerId]}(e),n=e.pageX-t.x,r=e.pageY-t.y;y=Math.sqrt(n*n+r*r);var i=(e.pageX+t.x)/2,o=(e.pageY+t.y)/2;E.copy(R(i,o))}}(e):function(e){var t=m!==a?m:v;t!==s||o.noRotate?t!==u||o.noZoom?t!==l||o.noPan||E.copy(R(e.pageX,e.pageY)):_.copy(R(e.pageX,e.pageY)):(x.copy(w),w.copy(L(e.pageX,e.pageY)))}(e))}function I(e){!1!==o.enabled&&("touch"===e.pointerType?function(e){switch(P.length){case 0:v=a;break;case 1:v=c,w.copy(L(e.pageX,e.pageY)),x.copy(w);break;case 2:v=h,w.copy(L(e.pageX-x.pageX,e.pageY-x.pageY)),x.copy(w)}o.dispatchEvent(ed)}(e):(v=a,o.dispatchEvent(ed)),F(e),0===P.length&&(o.domElement.releasePointerCapture(e.pointerId),o.domElement.removeEventListener("pointermove",Z),o.domElement.removeEventListener("pointerup",I)))}function N(e){F(e)}function z(e){!1!==o.enabled&&(window.removeEventListener("keydown",z),m===a&&(e.code!==o.keys[s]||o.noRotate?e.code!==o.keys[u]||o.noZoom?e.code!==o.keys[l]||o.noPan||(m=l):m=u:m=s))}function j(){!1!==o.enabled&&(m=a,window.addEventListener("keydown",z))}function W(e){if(!1!==o.enabled&&!0!==o.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:S.y-=.025*e.deltaY;break;case 1:S.y-=.01*e.deltaY;break;default:S.y-=25e-5*e.deltaY}o.dispatchEvent(Kf),o.dispatchEvent(ed)}}function B(e){!1!==o.enabled&&e.preventDefault()}function F(e){delete A[e.pointerId];for(var t=0;t<P.length;t++)if(P[t].pointerId==e.pointerId)return void P.splice(t,1)}function $(e){var t=A[e.pointerId];void 0===t&&(t=new Ze,A[e.pointerId]=t),t.set(e.pageX,e.pageY)}return i.rotateCamera=function(){var e=new Xe,t=new qe,n=new Xe,r=new Xe,i=new Xe,a=new Xe;return function(){a.set(w.x-x.x,w.y-x.y,0);var s=a.length();s?(O.copy(o.object.position).sub(o.target),n.copy(O).normalize(),r.copy(o.object.up).normalize(),i.crossVectors(r,n).normalize(),r.setLength(w.y-x.y),i.setLength(w.x-x.x),a.copy(r.add(i)),e.crossVectors(a,O).normalize(),s*=o.rotateSpeed,t.setFromAxisAngle(e,s),O.applyQuaternion(t),o.object.up.applyQuaternion(t),k.copy(e),b=s):!o.staticMoving&&b&&(b*=Math.sqrt(1-o.dynamicDampingFactor),O.copy(o.object.position).sub(o.target),t.setFromAxisAngle(k,b),O.applyQuaternion(t),o.object.up.applyQuaternion(t)),x.copy(w)}}(),i.zoomCamera=function(){var e;v===h?(e=g/y,g=y,o.object.isPerspectiveCamera?O.multiplyScalar(e):o.object.isOrthographicCamera?(o.object.zoom/=e,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(_.y-S.y)*o.zoomSpeed)&&e>0&&(o.object.isPerspectiveCamera?O.multiplyScalar(e):o.object.isOrthographicCamera?(o.object.zoom/=e,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),o.staticMoving?S.copy(_):S.y+=(_.y-S.y)*this.dynamicDampingFactor)},i.panCamera=function(){var e=new Ze,t=new Xe,n=new Xe;return function(){if(e.copy(E).sub(T),e.lengthSq()){if(o.object.isOrthographicCamera){var r=(o.object.right-o.object.left)/o.object.zoom/o.domElement.clientWidth,i=(o.object.top-o.object.bottom)/o.object.zoom/o.domElement.clientWidth;e.x*=r,e.y*=i}e.multiplyScalar(O.length()*o.panSpeed),n.copy(O).cross(o.object.up).setLength(e.x),n.add(t.copy(o.object.up).setLength(e.y)),o.object.position.add(n),o.target.add(n),o.staticMoving?T.copy(E):T.add(e.subVectors(E,T).multiplyScalar(o.dynamicDampingFactor))}}}(),i.checkDistances=function(){o.noZoom&&o.noPan||(O.lengthSq()>o.maxDistance*o.maxDistance&&(o.object.position.addVectors(o.target,O.setLength(o.maxDistance)),S.copy(_)),O.lengthSq()<o.minDistance*o.minDistance&&(o.object.position.addVectors(o.target,O.setLength(o.minDistance)),S.copy(_)))},i.update=function(){O.subVectors(o.object.position,o.target),o.noRotate||o.rotateCamera(),o.noZoom||o.zoomCamera(),o.noPan||o.panCamera(),o.object.position.addVectors(o.target,O),o.object.isPerspectiveCamera?(o.checkDistances(),o.object.lookAt(o.target),d.distanceToSquared(o.object.position)>f&&(o.dispatchEvent(Jf),d.copy(o.object.position))):o.object.isOrthographicCamera?(o.object.lookAt(o.target),(d.distanceToSquared(o.object.position)>f||p!==o.object.zoom)&&(o.dispatchEvent(Jf),d.copy(o.object.position),p=o.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},i.reset=function(){v=a,m=a,o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.up.copy(o.up0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),O.subVectors(o.object.position,o.target),o.object.lookAt(o.target),o.dispatchEvent(Jf),d.copy(o.object.position),p=o.object.zoom},i.dispose=function(){o.domElement.removeEventListener("contextmenu",B),o.domElement.removeEventListener("pointerdown",Q),o.domElement.removeEventListener("pointercancel",N),o.domElement.removeEventListener("wheel",W),o.domElement.removeEventListener("pointermove",Z),o.domElement.removeEventListener("pointerup",I),window.removeEventListener("keydown",z),window.removeEventListener("keyup",j)},i.domElement.addEventListener("contextmenu",B),i.domElement.addEventListener("pointerdown",Q),i.domElement.addEventListener("pointercancel",N),i.domElement.addEventListener("wheel",W,{passive:!1}),window.addEventListener("keydown",z),window.addEventListener("keyup",j),i.handleResize(),i.update(),i}return(0,A.Z)(n)}(_e),nd={type:"change"},rd={type:"start"},id={type:"end"},od=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;(0,C.Z)(this,n),i=t.call(this),void 0===r&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),r===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.object=e,i.domElement=r,i.domElement.style.touchAction="none",i.enabled=!0,i.target=new Xe,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.minPolarAngle=0,i.maxPolarAngle=Math.PI,i.minAzimuthAngle=-1/0,i.maxAzimuthAngle=1/0,i.enableDamping=!1,i.dampingFactor=.05,i.enableZoom=!0,i.zoomSpeed=1,i.enableRotate=!0,i.rotateSpeed=1,i.enablePan=!0,i.panSpeed=1,i.screenSpacePanning=!0,i.keyPanSpeed=7,i.autoRotate=!1,i.autoRotateSpeed=2,i.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},i.mouseButtons={LEFT:D.ROTATE,MIDDLE:D.DOLLY,RIGHT:D.PAN},i.touches={ONE:Z,TWO:N},i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i._domElementKeyEvents=null,i.getPolarAngle=function(){return l.phi},i.getAzimuthalAngle=function(){return l.theta},i.getDistance=function(){return this.object.position.distanceTo(this.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",K),this._domElementKeyEvents=e},i.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},i.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(nd),o.update(),s=a.NONE},i.update=function(){var t=new Xe,n=(new qe).setFromUnitVectors(e.up,new Xe(0,1,0)),r=n.clone().invert(),i=new Xe,p=new qe,v=2*Math.PI;return function(){var e=o.object.position;t.copy(e).sub(o.target),t.applyQuaternion(n),l.setFromVector3(t),o.autoRotate&&s===a.NONE&&T(2*Math.PI/60/60*o.autoRotateSpeed),o.enableDamping?(l.theta+=c.theta*o.dampingFactor,l.phi+=c.phi*o.dampingFactor):(l.theta+=c.theta,l.phi+=c.phi);var m=o.minAzimuthAngle,g=o.maxAzimuthAngle;return isFinite(m)&&isFinite(g)&&(m<-Math.PI?m+=v:m>Math.PI&&(m-=v),g<-Math.PI?g+=v:g>Math.PI&&(g-=v),l.theta=m<=g?Math.max(m,Math.min(g,l.theta)):l.theta>(m+g)/2?Math.max(m,l.theta):Math.min(g,l.theta)),l.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=h,l.radius=Math.max(o.minDistance,Math.min(o.maxDistance,l.radius)),!0===o.enableDamping?o.target.addScaledVector(f,o.dampingFactor):o.target.add(f),t.setFromSpherical(l),t.applyQuaternion(r),e.copy(o.target).add(t),o.object.lookAt(o.target),!0===o.enableDamping?(c.theta*=1-o.dampingFactor,c.phi*=1-o.dampingFactor,f.multiplyScalar(1-o.dampingFactor)):(c.set(0,0,0),f.set(0,0,0)),h=1,!!(d||i.distanceToSquared(o.object.position)>u||8*(1-p.dot(o.object.quaternion))>u)&&(o.dispatchEvent(nd),i.copy(o.object.position),p.copy(o.object.quaternion),d=!1,!0)}}(),i.dispose=function(){o.domElement.removeEventListener("contextmenu",ee),o.domElement.removeEventListener("pointerdown",G),o.domElement.removeEventListener("pointercancel",Y),o.domElement.removeEventListener("wheel",J),o.domElement.removeEventListener("pointermove",q),o.domElement.removeEventListener("pointerup",X),null!==o._domElementKeyEvents&&o._domElementKeyEvents.removeEventListener("keydown",K)};var o=(0,M.Z)(i),a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=a.NONE,u=1e-6,l=new Kl,c=new Kl,h=1,f=new Xe,d=!1,p=new Ze,v=new Ze,m=new Ze,g=new Ze,y=new Ze,b=new Ze,O=new Ze,x=new Ze,w=new Ze,k=[],S={};function _(){return Math.pow(.95,o.zoomSpeed)}function T(e){c.theta-=e}function E(e){c.phi-=e}var P=function(){var e=new Xe;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),f.add(e)}}(),A=function(){var e=new Xe;return function(t,n){!0===o.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(t),f.add(e)}}(),R=function(){var e=new Xe;return function(t,n){var r=o.domElement;if(o.object.isPerspectiveCamera){var i=o.object.position;e.copy(i).sub(o.target);var a=e.length();a*=Math.tan(o.object.fov/2*Math.PI/180),P(2*t*a/r.clientHeight,o.object.matrix),A(2*n*a/r.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(P(t*(o.object.right-o.object.left)/o.object.zoom/r.clientWidth,o.object.matrix),A(n*(o.object.top-o.object.bottom)/o.object.zoom/r.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function L(e){o.object.isPerspectiveCamera?h/=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function Q(e){o.object.isPerspectiveCamera?h*=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function j(e){p.set(e.clientX,e.clientY)}function W(e){g.set(e.clientX,e.clientY)}function B(){if(1===k.length)p.set(k[0].pageX,k[0].pageY);else{var e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);p.set(e,t)}}function F(){if(1===k.length)g.set(k[0].pageX,k[0].pageY);else{var e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);g.set(e,t)}}function $(){var e=k[0].pageX-k[1].pageX,t=k[0].pageY-k[1].pageY,n=Math.sqrt(e*e+t*t);O.set(0,n)}function V(e){if(1==k.length)v.set(e.pageX,e.pageY);else{var t=re(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);v.set(n,r)}m.subVectors(v,p).multiplyScalar(o.rotateSpeed);var i=o.domElement;T(2*Math.PI*m.x/i.clientHeight),E(2*Math.PI*m.y/i.clientHeight),p.copy(v)}function U(e){if(1===k.length)y.set(e.pageX,e.pageY);else{var t=re(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);y.set(n,r)}b.subVectors(y,g).multiplyScalar(o.panSpeed),R(b.x,b.y),g.copy(y)}function H(e){var t=re(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);x.set(0,i),w.set(0,Math.pow(x.y/O.y,o.zoomSpeed)),L(w.y),O.copy(x)}function G(e){!1!==o.enabled&&(0===k.length&&(o.domElement.setPointerCapture(e.pointerId),o.domElement.addEventListener("pointermove",q),o.domElement.addEventListener("pointerup",X)),function(e){k.push(e)}(e),"touch"===e.pointerType?function(e){switch(ne(e),k.length){case 1:switch(o.touches.ONE){case Z:if(!1===o.enableRotate)return;B(),s=a.TOUCH_ROTATE;break;case I:if(!1===o.enablePan)return;F(),s=a.TOUCH_PAN;break;default:s=a.NONE}break;case 2:switch(o.touches.TWO){case N:if(!1===o.enableZoom&&!1===o.enablePan)return;o.enableZoom&&$(),o.enablePan&&F(),s=a.TOUCH_DOLLY_PAN;break;case z:if(!1===o.enableZoom&&!1===o.enableRotate)return;o.enableZoom&&$(),o.enableRotate&&B(),s=a.TOUCH_DOLLY_ROTATE;break;default:s=a.NONE}break;default:s=a.NONE}s!==a.NONE&&o.dispatchEvent(rd)}(e):function(e){var t;switch(e.button){case 0:t=o.mouseButtons.LEFT;break;case 1:t=o.mouseButtons.MIDDLE;break;case 2:t=o.mouseButtons.RIGHT;break;default:t=-1}switch(t){case D.DOLLY:if(!1===o.enableZoom)return;!function(e){O.set(e.clientX,e.clientY)}(e),s=a.DOLLY;break;case D.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enablePan)return;W(e),s=a.PAN}else{if(!1===o.enableRotate)return;j(e),s=a.ROTATE}break;case D.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enableRotate)return;j(e),s=a.ROTATE}else{if(!1===o.enablePan)return;W(e),s=a.PAN}break;default:s=a.NONE}s!==a.NONE&&o.dispatchEvent(rd)}(e))}function q(e){!1!==o.enabled&&("touch"===e.pointerType?function(e){switch(ne(e),s){case a.TOUCH_ROTATE:if(!1===o.enableRotate)return;V(e),o.update();break;case a.TOUCH_PAN:if(!1===o.enablePan)return;U(e),o.update();break;case a.TOUCH_DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&H(e),o.enablePan&&U(e)}(e),o.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&H(e),o.enableRotate&&V(e)}(e),o.update();break;default:s=a.NONE}}(e):function(e){if(!1===o.enabled)return;switch(s){case a.ROTATE:if(!1===o.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),m.subVectors(v,p).multiplyScalar(o.rotateSpeed);var t=o.domElement;T(2*Math.PI*m.x/t.clientHeight),E(2*Math.PI*m.y/t.clientHeight),p.copy(v),o.update()}(e);break;case a.DOLLY:if(!1===o.enableZoom)return;!function(e){x.set(e.clientX,e.clientY),w.subVectors(x,O),w.y>0?L(_()):w.y<0&&Q(_()),O.copy(x),o.update()}(e);break;case a.PAN:if(!1===o.enablePan)return;!function(e){y.set(e.clientX,e.clientY),b.subVectors(y,g).multiplyScalar(o.panSpeed),R(b.x,b.y),g.copy(y),o.update()}(e)}}(e))}function X(e){te(e),0===k.length&&(o.domElement.releasePointerCapture(e.pointerId),o.domElement.removeEventListener("pointermove",q),o.domElement.removeEventListener("pointerup",X)),o.dispatchEvent(id),s=a.NONE}function Y(e){te(e)}function J(e){!1!==o.enabled&&!1!==o.enableZoom&&s===a.NONE&&(e.preventDefault(),o.dispatchEvent(rd),function(e){e.deltaY<0?Q(_()):e.deltaY>0&&L(_()),o.update()}(e),o.dispatchEvent(id))}function K(e){!1!==o.enabled&&!1!==o.enablePan&&function(e){var t=!1;switch(e.code){case o.keys.UP:R(0,o.keyPanSpeed),t=!0;break;case o.keys.BOTTOM:R(0,-o.keyPanSpeed),t=!0;break;case o.keys.LEFT:R(o.keyPanSpeed,0),t=!0;break;case o.keys.RIGHT:R(-o.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),o.update())}(e)}function ee(e){!1!==o.enabled&&e.preventDefault()}function te(e){delete S[e.pointerId];for(var t=0;t<k.length;t++)if(k[t].pointerId==e.pointerId)return void k.splice(t,1)}function ne(e){var t=S[e.pointerId];void 0===t&&(t=new Ze,S[e.pointerId]=t),t.set(e.pageX,e.pageY)}function re(e){var t=e.pointerId===k[0].pointerId?k[1]:k[0];return S[t.pointerId]}return o.domElement.addEventListener("contextmenu",ee),o.domElement.addEventListener("pointerdown",G),o.domElement.addEventListener("pointercancel",Y),o.domElement.addEventListener("wheel",J,{passive:!1}),i.update(),i}return(0,A.Z)(n)}(_e),ad={type:"change"},sd=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;(0,C.Z)(this,n),i=t.call(this),void 0===r&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),r=document),i.object=e,i.domElement=r,i.movementSpeed=1,i.rollSpeed=.005,i.dragToLook=!1,i.autoForward=!1;var o=(0,M.Z)(i),a=1e-6,s=new qe,u=new Xe;i.tmpQuaternion=new qe,i.mouseStatus=0,i.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},i.moveVector=new Xe(0,0,0),i.rotationVector=new Xe(0,0,0),i.keydown=function(e){if(!e.altKey){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},i.keyup=function(e){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},i.mousedown=function(e){if(this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},i.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){var t=this.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,this.updateRotationVector()}},i.mouseup=function(e){if(this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},i.update=function(e){var t=e*o.movementSpeed,n=e*o.rollSpeed;o.object.translateX(o.moveVector.x*t),o.object.translateY(o.moveVector.y*t),o.object.translateZ(o.moveVector.z*t),o.tmpQuaternion.set(o.rotationVector.x*n,o.rotationVector.y*n,o.rotationVector.z*n,1).normalize(),o.object.quaternion.multiply(o.tmpQuaternion),(u.distanceToSquared(o.object.position)>a||8*(1-s.dot(o.object.quaternion))>a)&&(o.dispatchEvent(ad),s.copy(o.object.quaternion),u.copy(o.object.position))},i.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},i.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},i.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},i.dispose=function(){this.domElement.removeEventListener("contextmenu",ud),this.domElement.removeEventListener("mousedown",c),this.domElement.removeEventListener("mousemove",l),this.domElement.removeEventListener("mouseup",h),window.removeEventListener("keydown",f),window.removeEventListener("keyup",d)};var l=i.mousemove.bind((0,M.Z)(i)),c=i.mousedown.bind((0,M.Z)(i)),h=i.mouseup.bind((0,M.Z)(i)),f=i.keydown.bind((0,M.Z)(i)),d=i.keyup.bind((0,M.Z)(i));return i.domElement.addEventListener("contextmenu",ud),i.domElement.addEventListener("mousemove",l),i.domElement.addEventListener("mousedown",c),i.domElement.addEventListener("mouseup",h),window.addEventListener("keydown",f),window.addEventListener("keyup",d),i.updateMovementVector(),i.updateRotationVector(),i}return(0,A.Z)(n)}(_e);function ud(e){e.preventDefault()}var ld={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\t\t}"},cd=function(){function e(){(0,C.Z)(this,e),this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}return(0,A.Z)(e,[{key:"setSize",value:function(){}},{key:"render",value:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}]),e}(),hd=new Cr(-1,1,1,-1,0,1),fd=new Qn;fd.setAttribute("position",new Tn([-1,3,0,-1,-1,0,3,-1,0],3)),fd.setAttribute("uv",new Tn([0,2,0,0,2,0],2));var dd=function(){function e(t){(0,C.Z)(this,e),this._mesh=new Jn(fd,t)}return(0,A.Z)(e,[{key:"dispose",value:function(){this._mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this._mesh,hd)}},{key:"material",get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}]),e}(),pd=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;return(0,C.Z)(this,n),(i=t.call(this)).textureID=void 0!==r?r:"tDiffuse",e instanceof ir?(i.uniforms=e.uniforms,i.material=e):e&&(i.uniforms=rr.clone(e.uniforms),i.material=new ir({defines:Object.assign({},e.defines),uniforms:i.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),i.fsQuad=new dd(i.material),i}return(0,A.Z)(n,[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}]),n}(cd),vd=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;return(0,C.Z)(this,n),(i=t.call(this)).scene=e,i.camera=r,i.clear=!0,i.needsSwap=!1,i.inverse=!1,i}return(0,A.Z)(n,[{key:"render",value:function(e,t,n){var r,i,o=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(r=0,i=1):(r=1,i=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.buffers.stencil.setFunc(o.ALWAYS,r,4294967295),a.buffers.stencil.setClear(i),a.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(o.EQUAL,1,4294967295),a.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.buffers.stencil.setLocked(!0)}}]),n}(cd),md=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.call(this)).needsSwap=!1,e}return(0,A.Z)(n,[{key:"render",value:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}]),n}(cd),gd=function(){function e(t,n){if((0,C.Z)(this,e),this.renderer=t,void 0===n){var r={minFilter:K,magFilter:K,format:ue},i=t.getSize(new Ze);this._pixelRatio=t.getPixelRatio(),this._width=i.width,this._height=i.height,(n=new Ue(this._width*this._pixelRatio,this._height*this._pixelRatio,r)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===ld&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===pd&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new pd(ld),this.clock=new El}return(0,A.Z)(e,[{key:"swapBuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}},{key:"addPass",value:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"insertPass",value:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"removePass",value:function(e){var t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}},{key:"render",value:function(e){void 0===e&&(e=this.clock.getDelta());for(var t=this.renderer.getRenderTarget(),n=!1,r=0,i=this.passes.length;r<i;r++){var o=this.passes[r];if(!1!==o.enabled){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),o.needsSwap){if(n){var a=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==vd&&(o instanceof vd?n=!0:o instanceof md&&(n=!1))}}this.renderer.setRenderTarget(t)}},{key:"reset",value:function(e){if(void 0===e){var t=this.renderer.getSize(new Ze);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}},{key:"setSize",value:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}]),e}(),yd=(new Cr(-1,1,1,-1,0,1),new Qn);yd.setAttribute("position",new Tn([-1,3,0,-1,-1,0,3,-1,0],3)),yd.setAttribute("uv",new Tn([0,2,0,0,2,0],2));var bd=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r,i,o,a){var s;return(0,C.Z)(this,n),(s=t.call(this)).scene=e,s.camera=r,s.overrideMaterial=i,s.clearColor=o,s.clearAlpha=void 0!==a?a:0,s.clear=!0,s.clearDepth=!1,s.needsSwap=!1,s._oldClearColor=new bn,s}return(0,A.Z)(n,[{key:"render",value:function(e,t,n){var r,i,o=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=o}}]),n}(cd);function Od(){return Od=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Od.apply(this,arguments)}function xd(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,rf.Z)(e,t)}var wd=function(e){function t(t){var n;return n=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,(0,M.Z)(n)}return xd(t,e),t}(sf(Error));function kd(e){return Math.round(255*e)}function Sd(e,t,n){return kd(e)+","+kd(t)+","+kd(n)}function _d(e,t,n,r){if(void 0===r&&(r=Sd),0===t)return r(n,n,n);var i=(e%360+360)%360/60,o=(1-Math.abs(2*n-1))*t,a=o*(1-Math.abs(i%2-1)),s=0,u=0,l=0;i>=0&&i<1?(s=o,u=a):i>=1&&i<2?(s=a,u=o):i>=2&&i<3?(u=o,l=a):i>=3&&i<4?(u=a,l=o):i>=4&&i<5?(s=a,l=o):i>=5&&i<6&&(s=o,l=a);var c=n-o/2;return r(s+c,u+c,l+c)}var Td={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var Md=/^#[a-fA-F0-9]{6}$/,Ed=/^#[a-fA-F0-9]{8}$/,Pd=/^#[a-fA-F0-9]{3}$/,Cd=/^#[a-fA-F0-9]{4}$/,Ad=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Rd=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Ld=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Qd=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function Dd(e){if("string"!==typeof e)throw new wd(3);var t=function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return Td[t]?"#"+Td[t]:e}(e);if(t.match(Md))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(Ed)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(Pd))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Cd)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=Ad.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=Rd.exec(t.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])};var a=Ld.exec(t);if(a){var s="rgb("+_d(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",u=Ad.exec(s);if(!u)throw new wd(4,t,s);return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10)}}var l=Qd.exec(t.substring(0,50));if(l){var c="rgb("+_d(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",h=Ad.exec(c);if(!h)throw new wd(4,t,c);return{red:parseInt(""+h[1],10),green:parseInt(""+h[2],10),blue:parseInt(""+h[3],10),alpha:parseFloat(""+l[4])}}throw new wd(5)}var Zd=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function Id(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function Nd(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Zd("#"+Id(e)+Id(t)+Id(n));if("object"===typeof e&&void 0===t&&void 0===n)return Zd("#"+Id(e.red)+Id(e.green)+Id(e.blue));throw new wd(6)}function zd(e,t,n,r){if("string"===typeof e&&"number"===typeof t){var i=Dd(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r)return r>=1?Nd(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?Nd(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new wd(7)}function jd(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):jd(e,t,r)}}function Wd(e){return jd(e,e.length,[])}function Bd(e,t,n){return Math.max(e,Math.min(t,n))}function Fd(e,t){if("transparent"===t)return t;var n=Dd(t);return zd(Od({},n,{alpha:Bd(0,1,(100*("number"===typeof n.alpha?n.alpha:1)+100*parseFloat(e))/100)}))}var $d=Wd(Fd);var Vd={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Vd.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Vd.Bounce.In(2*e):.5*Vd.Bounce.Out(2*e-1)+.5}}},Ud="undefined"===typeof self&&"undefined"!==typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},Hd=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=Ud()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],o=!t;i&&!1===i.update(e,o)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Gd={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=Gd.Utils.Linear;return t<0?o(e[0],e[1],r):t>1?o(e[n],e[n-1],n-r):o(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,o=Gd.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-t,r-a)*i(t,a)*e[a]*o(r,a);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=Gd.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),o(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):o(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=Gd.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i;return(2*t-2*n+o+a)*(i*s)+(-3*t+3*n-2*o-a)*s+o*i+t}}},qd=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Xd=new Hd,Yd=function(){function e(e,t){void 0===t&&(t=Xd),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Vd.Linear.None,this._interpolationFunction=Gd.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=qd.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"===typeof e?Ud()+parseFloat(e):e:Ud(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,n,r){for(var i in n){var o=e[i],a=Array.isArray(o),s=a?"array":typeof o,u=!a&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(u){var l=n[i];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,o)),n[i]=[o].concat(l)}if("object"!==s&&!a||!o||u)"undefined"===typeof t[i]&&(t[i]=o),a||(t[i]*=1),r[i]=u?n[i].slice().reverse():t[i]||0;else{for(var c in t[i]=a?[]:{},o)t[i][c]=o[c];r[i]=a?[]:{},this._setupProperties(o,t[i],n[i],r[i])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=Ud()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=Ud()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=Ud()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,s=this._chainedTweens.length;a<s;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var o=t[i]||0,a=n[i],s=Array.isArray(e[i]),u=Array.isArray(a);!s&&u?e[i]=this._interpolationFunction(a,r):"object"===typeof a&&a?this._updateProperties(e[i],o,a,r):"number"===typeof(a=this._handleRelativeValue(o,a))&&(e[i]=o+(a-o)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),Jd=qd.nextId,Kd=Xd,ep=Kd.getAll.bind(Kd),tp=Kd.removeAll.bind(Kd),np=Kd.add.bind(Kd),rp=Kd.remove.bind(Kd),ip=Kd.update.bind(Kd),op={Easing:Vd,Group:Hd,Interpolation:Gd,now:Ud,Sequence:qd,nextId:Jd,Tween:Yd,VERSION:"18.6.4",getAll:ep,removeAll:tp,add:np,remove:rp,update:ip};function ap(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||lp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function up(e){return function(e){if(Array.isArray(e))return cp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lp(e,t){if(e){if("string"===typeof e)return cp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cp(e,t):void 0}}function cp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n}\n\n.scene-container canvas:focus {\n  outline: none;\n}");var hp=window.THREE?window.THREE:{WebGLRenderer:ha,Scene:va,PerspectiveCamera:ar,Raycaster:Xl,TextureLoader:el,Vector2:Ze,Vector3:Xe,Box3:Ke,Color:bn,Mesh:Jn,SphereGeometry:Ou,MeshBasicMaterial:On,BackSide:1,EventDispatcher:_e,MOUSE:D,Quaternion:qe,Spherical:Kl,Clock:El},fp=Ih({props:{width:{default:window.innerWidth,onChange:function(e,t,n){isNaN(e)&&(t.width=n)}},height:{default:window.innerHeight,onChange:function(e,t,n){isNaN(e)&&(t.height=n)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null,t.toolTipElem&&(t.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(e.clock.getDelta()),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach((function(t){return t.render(e.scene,e.camera)})),e.enablePointerInteraction){var t=null;if(e.hoverDuringDrag||!e.isPointerDragging){var n=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter((function(t){return e.hoverFilter(t.object)})).sort((function(t,n){return e.hoverOrderComparator(t.object,n.object)})),r=n.length?n[0]:null;t=r?r.object:null,e.intersectionPoint=r?r.point:null}t!==e.hoverObj&&(e.onHover(t,e.hoverObj),e.toolTipElem.innerHTML=t&&Nh(e.tooltipContent)(t)||"",e.hoverObj=t)}op.update()}return this},getPointerPos:function(e){var t=e.pointerPos;return{x:t.x,y:t.y}},cameraPosition:function(e,t,n,r){var i=e.camera;if(t&&e.initialised){var o=t,a=n||{x:0,y:0,z:0};if(r){var s=Object.assign({},i.position),u=h();new op.Tween(s).to(o,r).easing(op.Easing.Quadratic.Out).onUpdate(l).start(),new op.Tween(u).to(a,r/3).easing(op.Easing.Quadratic.Out).onUpdate(c).start()}else l(o),c(a);return this}return Object.assign({},i.position,{lookAt:h()});function l(e){var t=e.x,n=e.y,r=e.z;void 0!==t&&(i.position.x=t),void 0!==n&&(i.position.y=n),void 0!==r&&(i.position.z=r)}function c(t){e.controls.target=new hp.Vector3(t.x,t.y,t.z)}function h(){return Object.assign(new hp.Vector3(0,0,-1e3).applyQuaternion(i.quaternion).add(i.position))}},zoomToFit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return this.fitToBbox(this.getBbox.apply(this,i),t,n)},fitToBbox:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=e.camera;if(t){var o=new hp.Vector3(0,0,0),a=2*Math.max.apply(Math,up(Object.entries(t).map((function(e){var t=sp(e,2),n=t[0],r=t[1];return Math.max.apply(Math,up(r.map((function(e){return Math.abs(o[n]-e)}))))})))),s=(1-2*r/e.height)*i.fov,u=a/Math.atan(s*Math.PI/180),l=u/i.aspect,c=Math.max(u,l);if(c>0){var h=o.clone().sub(i.position).normalize().multiplyScalar(-c);this.cameraPosition(h,o,n)}}return this},getBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=new hp.Box3(new hp.Vector3(0,0,0),new hp.Vector3(0,0,0)),r=e.objects.filter(t);return r.length?(r.forEach((function(e){return n.expandByObject(e)})),Object.assign.apply(Object,up(["x","y","z"].map((function(e){return ap({},e,[n.min[e],n.max[e]])}))))):null},getScreenCoords:function(e,t,n,r){var i=new hp.Vector3(t,n,r);return i.project(this.camera()),{x:(i.x+1)*e.width/2,y:-(i.y-1)*e.height/2}},getSceneCoords:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=new hp.Vector2(t/e.width*2-1,-n/e.height*2+1),o=new hp.Raycaster;return o.setFromCamera(i,e.camera),Object.assign({},o.ray.at(r,new hp.Vector3))},intersectingObjects:function(e,t,n){var r=new hp.Vector2(t/e.width*2-1,-n/e.height*2+1),i=new hp.Raycaster;return i.params.Line.threshold=e.lineHoverPrecision,i.setFromCamera(r,e.camera),i.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new hp.Scene,camera:new hp.PerspectiveCamera,clock:new hp.Clock}},init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.controlType,i=void 0===r?"trackball":r,o=n.rendererConfig,a=void 0===o?{}:o,s=n.extraRenderers,u=void 0===s?[]:s,l=n.waitForLoadComplete,c=void 0===l||l;e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.className="scene-container",t.container.style.position="relative",t.container.appendChild(t.navInfo=document.createElement("div")),t.navInfo.className="scene-nav-info",t.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[i]||"",t.navInfo.style.display=t.showNavInfo?null:"none",t.toolTipElem=document.createElement("div"),t.toolTipElem.classList.add("scene-tooltip"),t.container.appendChild(t.toolTipElem),t.pointerPos=new hp.Vector2,t.pointerPos.x=-2,t.pointerPos.y=-2,["pointermove","pointerdown"].forEach((function(e){return t.container.addEventListener(e,(function(n){if("pointerdown"===e&&(t.isPointerPressed=!0),!t.isPointerDragging&&"pointermove"===n.type&&(n.pressure>0||t.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(e){return Math.abs(e)>1})))&&(t.isPointerDragging=!0),t.enablePointerInteraction){var r=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}}(t.container);t.pointerPos.x=n.pageX-r.left,t.pointerPos.y=n.pageY-r.top,t.toolTipElem.style.top="".concat(t.pointerPos.y,"px"),t.toolTipElem.style.left="".concat(t.pointerPos.x,"px"),t.toolTipElem.style.transform="translate(-".concat(t.pointerPos.x/t.width*100,"%, 21px)")}}),{passive:!0})})),t.container.addEventListener("pointerup",(function(e){t.isPointerPressed=!1,t.isPointerDragging&&(t.isPointerDragging=!1,!t.clickAfterDrag)||requestAnimationFrame((function(){0===e.button&&t.onClick(t.hoverObj||null,e,t.intersectionPoint),2===e.button&&t.onRightClick&&t.onRightClick(t.hoverObj||null,e,t.intersectionPoint)}))}),{passive:!0,capture:!0}),t.container.addEventListener("contextmenu",(function(e){t.onRightClick&&e.preventDefault()})),t.renderer=new hp.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},a)),t.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),t.container.appendChild(t.renderer.domElement),t.extraRenderers=u,t.extraRenderers.forEach((function(e){e.domElement.style.position="absolute",e.domElement.style.top="0px",e.domElement.style.pointerEvents="none",t.container.appendChild(e.domElement)})),t.postProcessingComposer=new gd(t.renderer),t.postProcessingComposer.addPass(new bd(t.scene,t.camera)),t.controls=new{trackball:td,orbit:od,fly:sd}[i](t.camera,t.renderer.domElement),"fly"===i&&(t.controls.movementSpeed=300,t.controls.rollSpeed=Math.PI/6,t.controls.dragToLook=!0),"trackball"!==i&&"orbit"!==i||(t.controls.minDistance=.1,t.controls.maxDistance=t.skyRadius,t.controls.addEventListener("start",(function(){t.controlsEngaged=!0})),t.controls.addEventListener("change",(function(){t.controlsEngaged&&(t.controlsDragging=!0)})),t.controls.addEventListener("end",(function(){t.controlsEngaged=!1,t.controlsDragging=!1}))),[t.renderer,t.postProcessingComposer].concat(up(t.extraRenderers)).forEach((function(e){return e.setSize(t.width,t.height)})),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix(),t.camera.position.z=1e3,t.scene.add(t.skysphere=new hp.Mesh),t.skysphere.visible=!1,t.loadComplete=t.scene.visible=!c,window.scene=t.scene},update:function(e,t){if(e.width&&e.height&&(t.hasOwnProperty("width")||t.hasOwnProperty("height"))&&(e.container.style.width=e.width,e.container.style.height=e.height,[e.renderer,e.postProcessingComposer].concat(up(e.extraRenderers)).forEach((function(t){return t.setSize(e.width,e.height)})),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),t.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&t.skyRadius&&(e.controls.maxDistance=e.skyRadius),e.camera.far=2.5*e.skyRadius,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new hp.SphereGeometry(e.skyRadius)),t.hasOwnProperty("backgroundColor")){var n=Dd(e.backgroundColor).alpha;void 0===n&&(n=1),e.renderer.setClearColor(new hp.Color($d(1,e.backgroundColor)),n)}function r(){e.loadComplete=e.scene.visible=!0}t.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?(new hp.TextureLoader).load(e.backgroundImageUrl,(function(t){e.skysphere.material=new hp.MeshBasicMaterial({map:t,side:hp.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&r()})):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&r())),t.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),t.hasOwnProperty("objects")&&((t.objects||[]).forEach((function(t){return e.scene.remove(t)})),e.objects.forEach((function(t){return e.scene.add(t)})))}}),dp=fp;function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pp(Object(n),!0).forEach((function(t){mp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gp(e){return function(e){if(Array.isArray(e))return yp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return yp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bp(e,t){var n=new t;return{linkProp:function(t){return{default:n[t](),onChange:function(n,r){r[e][t](n)},triggerUpdate:!1}},linkMethod:function(t){return function(n){for(var r=n[e],i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=r[t].apply(r,o);return s===r?this:s}}}}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".graph-info-msg {\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  color: lavender;\n  opacity: 0.7;\n  font-size: 22px;\n  position: absolute;\n  font-family: Sans-serif;\n}\n\n.scene-container .clickable {\n  cursor: pointer;\n}\n\n.scene-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.scene-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}");var Op=window.THREE?window.THREE:{AmbientLight:ml,DirectionalLight:vl,Vector3:Xe},xp=bp("forceGraph",Yf),wp=Object.assign.apply(Object,gp(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(e){return mp({},e,xp.linkProp(e))})))),kp=Object.assign.apply(Object,gp(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map((function(e){return mp({},e,xp.linkMethod(e))})))),Sp=bp("renderObjs",dp),_p=Object.assign.apply(Object,gp(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map((function(e){return mp({},e,Sp.linkProp(e))})))),Tp=Object.assign.apply(Object,gp(["cameraPosition","postProcessingComposer"].map((function(e){return mp({},e,Sp.linkMethod(e))}))).concat([{graph2ScreenCoords:Sp.linkMethod("getScreenCoords"),screen2GraphCoords:Sp.linkMethod("getSceneCoords")}])),Mp=Ih({props:vp(vp({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,t){return t.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,t){var n=t.renderObjs.controls();n&&(n.enabled=e)},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},wp),_p),methods:vp(vp({zoomToFit:function(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return e.renderObjs.fitToBbox((r=e.forceGraph).getGraphBbox.apply(r,o),t,n),this},pauseAnimation:function(e){return null!==e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return null===e.animationFrameRequestId&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},kp),Tp),stateInit:function(e){var t=e.controlType,n=e.rendererConfig,r=e.extraRenderers;return{forceGraph:new Yf,renderObjs:dp({controlType:t,rendererConfig:n,extraRenderers:r})}},init:function(e,t){e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative";var n=document.createElement("div");t.container.appendChild(n),t.renderObjs(n);var r,i=t.renderObjs.camera(),o=t.renderObjs.renderer(),a=t.renderObjs.controls();a.enabled=!!t.enableNavigationControls,t.lastSetCameraZ=i.position.z,t.container.appendChild(r=document.createElement("div")),r.className="graph-info-msg",r.textContent="",t.forceGraph.onLoading((function(){r.textContent="Loading..."})).onFinishLoading((function(){r.textContent=""})).onUpdate((function(){t.graphData=t.forceGraph.graphData(),0===i.position.x&&0===i.position.y&&i.position.z===t.lastSetCameraZ&&t.graphData.nodes.length&&(i.lookAt(t.forceGraph.position),t.lastSetCameraZ=i.position.z=170*Math.cbrt(t.graphData.nodes.length))})).onFinishUpdate((function(){if(t._dragControls){var e=t.graphData.nodes.find((function(e){return e.__initialFixedPos&&!e.__disposeControlsAfterDrag}));e?e.__disposeControlsAfterDrag=!0:t._dragControls.dispose(),t._dragControls=void 0}if(t.enableNodeDrag&&t.enablePointerInteraction&&"d3"===t.forceEngine){var n=t._dragControls=new bc(t.graphData.nodes.map((function(e){return e.__threeObj})).filter((function(e){return e})),i,o.domElement);n.addEventListener("dragstart",(function(e){a.enabled=!1,e.object.__initialPos=e.object.position.clone(),e.object.__prevPos=e.object.position.clone();var t=Ep(e.object).__data;!t.__initialFixedPos&&(t.__initialFixedPos={fx:t.fx,fy:t.fy,fz:t.fz}),!t.__initialPos&&(t.__initialPos={x:t.x,y:t.y,z:t.z}),["x","y","z"].forEach((function(e){return t["f".concat(e)]=t[e]})),o.domElement.classList.add("grabbable")})),n.addEventListener("drag",(function(e){var n=Ep(e.object);if(!e.object.hasOwnProperty("__graphObjType")){var r=e.object.__initialPos,i=e.object.__prevPos,o=e.object.position;n.position.add(o.clone().sub(i)),i.copy(o),o.copy(r)}var a=n.__data,s=n.position,u={x:s.x-a.x,y:s.y-a.y,z:s.z-a.z};["x","y","z"].forEach((function(e){return a["f".concat(e)]=a[e]=s[e]})),t.forceGraph.d3AlphaTarget(.3).resetCountdown(),a.__dragged=!0,t.onNodeDrag(a,u)})),n.addEventListener("dragend",(function(e){delete e.object.__initialPos,delete e.object.__prevPos;var r=Ep(e.object).__data;r.__disposeControlsAfterDrag&&(n.dispose(),delete r.__disposeControlsAfterDrag);var i=r.__initialFixedPos,s=r.__initialPos,u={x:s.x-r.x,y:s.y-r.y,z:s.z-r.z};i&&(["x","y","z"].forEach((function(e){var t="f".concat(e);void 0===i[t]&&delete r[t]})),delete r.__initialFixedPos,delete r.__initialPos,r.__dragged&&(delete r.__dragged,t.onNodeDragEnd(r,u))),t.forceGraph.d3AlphaTarget(0).resetCountdown(),t.enableNavigationControls&&(a.enabled=!0,a.domElement&&a.domElement.ownerDocument&&a.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),o.domElement.classList.remove("grabbable")}))}})),t.renderObjs.objects([new Op.AmbientLight(12303291),new Op.DirectionalLight(16777215,.6),t.forceGraph]).hoverOrderComparator((function(e,t){var n=Ep(e);if(!n)return 1;var r=Ep(t);if(!r)return-1;var i=function(e){return"node"===e.__graphObjType};return i(r)-i(n)})).tooltipContent((function(e){var n=Ep(e);return n&&Nh(t["".concat(n.__graphObjType,"Label")])(n.__data)||""})).hoverDuringDrag(!1).onHover((function(e){var n=Ep(e);if(n!==t.hoverObj){var r=t.hoverObj?t.hoverObj.__graphObjType:null,i=t.hoverObj?t.hoverObj.__data:null,a=n?n.__graphObjType:null,s=n?n.__data:null;if(r&&r!==a){var u=t["on".concat("node"===r?"Node":"Link","Hover")];u&&u(null,i)}if(a){var l=t["on".concat("node"===a?"Node":"Link","Hover")];l&&l(s,r===a?i:null)}o.domElement.classList[n&&t["on".concat("node"===a?"Node":"Link","Click")]||!n&&t.onBackgroundClick?"add":"remove"]("clickable"),t.hoverObj=n}})).clickAfterDrag(!1).onClick((function(e,n){var r=Ep(e);if(r){var i=t["on".concat("node"===r.__graphObjType?"Node":"Link","Click")];i&&i(r.__data,n)}else t.onBackgroundClick&&t.onBackgroundClick(n)})).onRightClick((function(e,n){var r=Ep(e);if(r){var i=t["on".concat("node"===r.__graphObjType?"Node":"Link","RightClick")];i&&i(r.__data,n)}else t.onBackgroundRightClick&&t.onBackgroundRightClick(n)})),this._animationCycle()}});function Ep(e){for(var t=e;t&&!t.hasOwnProperty("__graphObjType");)t=t.parent;return t}var Pp=Mp,Cp=n(2007),Ap=n.n(Cp),Rp={width:Ap().number,height:Ap().number,graphData:Ap().shape({nodes:Ap().arrayOf(Ap().object).isRequired,links:Ap().arrayOf(Ap().object).isRequired}),backgroundColor:Ap().string,nodeRelSize:Ap().number,nodeId:Ap().string,nodeLabel:Ap().oneOfType([Ap().string,Ap().func]),nodeVal:Ap().oneOfType([Ap().number,Ap().string,Ap().func]),nodeVisibility:Ap().oneOfType([Ap().bool,Ap().string,Ap().func]),nodeColor:Ap().oneOfType([Ap().string,Ap().func]),nodeAutoColorBy:Ap().oneOfType([Ap().string,Ap().func]),onNodeHover:Ap().func,onNodeClick:Ap().func,linkSource:Ap().string,linkTarget:Ap().string,linkLabel:Ap().oneOfType([Ap().string,Ap().func]),linkVisibility:Ap().oneOfType([Ap().bool,Ap().string,Ap().func]),linkColor:Ap().oneOfType([Ap().string,Ap().func]),linkAutoColorBy:Ap().oneOfType([Ap().string,Ap().func]),linkWidth:Ap().oneOfType([Ap().number,Ap().string,Ap().func]),linkCurvature:Ap().oneOfType([Ap().number,Ap().string,Ap().func]),linkDirectionalArrowLength:Ap().oneOfType([Ap().number,Ap().string,Ap().func]),linkDirectionalArrowColor:Ap().oneOfType([Ap().string,Ap().func]),linkDirectionalArrowRelPos:Ap().oneOfType([Ap().number,Ap().string,Ap().func]),linkDirectionalParticles:Ap().oneOfType([Ap().number,Ap().string,Ap().func]),linkDirectionalParticleSpeed:Ap().oneOfType([Ap().number,Ap().string,Ap().func]),linkDirectionalParticleWidth:Ap().oneOfType([Ap().number,Ap().string,Ap().func]),linkDirectionalParticleColor:Ap().oneOfType([Ap().string,Ap().func]),onLinkHover:Ap().func,onLinkClick:Ap().func,dagMode:Ap().oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:Ap().number,dagNodeFilter:Ap().func,onDagError:Ap().func,d3AlphaMin:Ap().number,d3AlphaDecay:Ap().number,d3VelocityDecay:Ap().number,warmupTicks:Ap().number,cooldownTicks:Ap().number,cooldownTime:Ap().number,onEngineTick:Ap().func,onEngineStop:Ap().func,getGraphBbox:Ap().func},Lp={zoomToFit:Ap().func,onNodeRightClick:Ap().func,onNodeDrag:Ap().func,onNodeDragEnd:Ap().func,onLinkRightClick:Ap().func,linkHoverPrecision:Ap().number,onBackgroundClick:Ap().func,onBackgroundRightClick:Ap().func,enablePointerInteraction:Ap().bool,enableNodeDrag:Ap().bool},Qp={showNavInfo:Ap().bool,nodeOpacity:Ap().number,nodeResolution:Ap().number,nodeThreeObject:Ap().oneOfType([Ap().object,Ap().string,Ap().func]),nodeThreeObjectExtend:Ap().oneOfType([Ap().bool,Ap().string,Ap().func]),linkOpacity:Ap().number,linkResolution:Ap().number,linkCurveRotation:Ap().oneOfType([Ap().number,Ap().string,Ap().func]),linkMaterial:Ap().oneOfType([Ap().object,Ap().string,Ap().func]),linkThreeObject:Ap().oneOfType([Ap().object,Ap().string,Ap().func]),linkThreeObjectExtend:Ap().oneOfType([Ap().bool,Ap().string,Ap().func]),linkPositionUpdate:Ap().func,linkDirectionalArrowResolution:Ap().number,linkDirectionalParticleResolution:Ap().number,forceEngine:Ap().oneOf(["d3","ngraph"]),ngraphPhysics:Ap().object,numDimensions:Ap().oneOf([1,2,3])};Object.assign({},Rp,Lp,{linkLineDash:Ap().oneOfType([Ap().arrayOf(Ap().number),Ap().string,Ap().func]),nodeCanvasObjectMode:Ap().oneOfType([Ap().string,Ap().func]),nodeCanvasObject:Ap().func,nodePointerAreaPaint:Ap().func,linkCanvasObjectMode:Ap().oneOfType([Ap().string,Ap().func]),linkCanvasObject:Ap().func,linkPointerAreaPaint:Ap().func,autoPauseRedraw:Ap().bool,minZoom:Ap().number,maxZoom:Ap().number,enableZoomInteraction:Ap().bool,enablePanInteraction:Ap().bool,onZoom:Ap().func,onZoomEnd:Ap().func,onRenderFramePre:Ap().func,onRenderFramePost:Ap().func});var Dp=Object.assign({},Rp,Lp,Qp,{enableNavigationControls:Ap().bool,controlType:Ap().oneOf(["trackball","orbit","fly"]),rendererConfig:Ap().object,extraRenderers:Ap().arrayOf(Ap().shape({render:Ap().func.isRequired}))});Object.assign({},Rp,Qp,{nodeDesc:Ap().oneOfType([Ap().string,Ap().func]),linkDesc:Ap().oneOfType([Ap().string,Ap().func])}),Object.assign({},Rp,Qp,{markerAttrs:Ap().object,yOffset:Ap().number,glScale:Ap().number});var Zp=m(Pp,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","cameraPosition","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords","postProcessingComposer","scene","camera","renderer","controls","refresh"],initPropNames:["controlType","rendererConfig","extraRenderers"]});Zp.displayName="ForceGraph3D",Zp.propTypes=Dp;var Ip=Zp;n(335);function Np(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var zp=function(e){return"string"===typeof e};function jp(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=jp(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Wp(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=jp(e))&&(r&&(r+=" "),r+=t);return r}function Bp(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}var Fp=function(e){return e},$p=function(){var e=Fp;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Fp}}}(),Vp={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Up(e,t){return Vp[t]||"".concat($p.generate(e),"-").concat(t)}function Hp(e,t){var n={};return t.forEach((function(t){n[t]=Up(e,t)})),n}function Gp(e){return Up("MuiBackdrop",e)}Hp("MuiBackdrop",["root","invisible"]);var qp=n(184),Xp=["classes","className","invisible","component","components","componentsProps","theme"],Yp=e.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.invisible,o=void 0!==i&&i,a=e.component,s=void 0===a?"div":a,u=e.components,l=void 0===u?{}:u,c=e.componentsProps,h=void 0===c?{}:c,f=e.theme,d=Np(e,Xp),p=Od({},e,{classes:n,invisible:o}),v=function(e){var t=e.classes;return Bp({root:["root",e.invisible&&"invisible"]},Gp,t)}(p),m=l.Root||s,g=h.root||{};return(0,qp.jsx)(m,Od({"aria-hidden":!0},g,!zp(m)&&{as:s,ownerState:Od({},p,g.ownerState),theme:f},{ref:t},d,{className:Wp(v.root,g.className,r)}))})),Jp=n(3433);var Kp=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},ev=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tv=Kp((function(e){return ev.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var nv=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),rv=Math.abs,iv=String.fromCharCode,ov=Object.assign;function av(e){return e.trim()}function sv(e,t,n){return e.replace(t,n)}function uv(e,t){return e.indexOf(t)}function lv(e,t){return 0|e.charCodeAt(t)}function cv(e,t,n){return e.slice(t,n)}function hv(e){return e.length}function fv(e){return e.length}function dv(e,t){return t.push(e),e}var pv=1,vv=1,mv=0,gv=0,yv=0,bv="";function Ov(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:pv,column:vv,length:a,return:""}}function xv(e,t){return ov(Ov("",null,null,"",null,null,0),e,{length:-e.length},t)}function wv(){return yv=gv>0?lv(bv,--gv):0,vv--,10===yv&&(vv=1,pv--),yv}function kv(){return yv=gv<mv?lv(bv,gv++):0,vv++,10===yv&&(vv=1,pv++),yv}function Sv(){return lv(bv,gv)}function _v(){return gv}function Tv(e,t){return cv(bv,e,t)}function Mv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ev(e){return pv=vv=1,mv=hv(bv=e),gv=0,[]}function Pv(e){return bv="",e}function Cv(e){return av(Tv(gv-1,Lv(91===e?e+2:40===e?e+1:e)))}function Av(e){for(;(yv=Sv())&&yv<33;)kv();return Mv(e)>2||Mv(yv)>3?"":" "}function Rv(e,t){for(;--t&&kv()&&!(yv<48||yv>102||yv>57&&yv<65||yv>70&&yv<97););return Tv(e,_v()+(t<6&&32==Sv()&&32==kv()))}function Lv(e){for(;kv();)switch(yv){case e:return gv;case 34:case 39:34!==e&&39!==e&&Lv(yv);break;case 40:41===e&&Lv(e);break;case 92:kv()}return gv}function Qv(e,t){for(;kv()&&e+yv!==57&&(e+yv!==84||47!==Sv()););return"/*"+Tv(t,gv-1)+"*"+iv(47===e?e:kv())}function Dv(e){for(;!Mv(Sv());)kv();return Tv(e,gv)}var Zv="-ms-",Iv="-moz-",Nv="-webkit-",zv="comm",jv="rule",Wv="decl",Bv="@keyframes";function Fv(e,t){for(var n="",r=fv(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function $v(e,t,n,r){switch(e.type){case"@import":case Wv:return e.return=e.return||e.value;case zv:return"";case Bv:return e.return=e.value+"{"+Fv(e.children,r)+"}";case jv:e.value=e.props.join(",")}return hv(n=Fv(e.children,r))?e.return=e.value+"{"+n+"}":""}function Vv(e,t){switch(function(e,t){return(((t<<2^lv(e,0))<<2^lv(e,1))<<2^lv(e,2))<<2^lv(e,3)}(e,t)){case 5103:return Nv+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nv+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Nv+e+Iv+e+Zv+e+e;case 6828:case 4268:return Nv+e+Zv+e+e;case 6165:return Nv+e+Zv+"flex-"+e+e;case 5187:return Nv+e+sv(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Nv+e+Zv+"flex-item-"+sv(e,/flex-|-self/,"")+e;case 4675:return Nv+e+Zv+"flex-line-pack"+sv(e,/align-content|flex-|-self/,"")+e;case 5548:return Nv+e+Zv+sv(e,"shrink","negative")+e;case 5292:return Nv+e+Zv+sv(e,"basis","preferred-size")+e;case 6060:return Nv+"box-"+sv(e,"-grow","")+Nv+e+Zv+sv(e,"grow","positive")+e;case 4554:return Nv+sv(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return sv(sv(sv(e,/(zoom-|grab)/,Nv+"$1"),/(image-set)/,Nv+"$1"),e,"")+e;case 5495:case 3959:return sv(e,/(image-set\([^]*)/,Nv+"$1$`$1");case 4968:return sv(sv(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nv+e+e;case 4095:case 3583:case 4068:case 2532:return sv(e,/(.+)-inline(.+)/,Nv+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hv(e)-1-t>6)switch(lv(e,t+1)){case 109:if(45!==lv(e,t+4))break;case 102:return sv(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Iv+(108==lv(e,t+3)?"$3":"$2-$3"))+e;case 115:return~uv(e,"stretch")?Vv(sv(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==lv(e,t+1))break;case 6444:switch(lv(e,hv(e)-3-(~uv(e,"!important")&&10))){case 107:return sv(e,":",":"+Nv)+e;case 101:return sv(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Nv+(45===lv(e,14)?"inline-":"")+"box$3$1"+Nv+"$2$3$1"+Zv+"$2box$3")+e}break;case 5936:switch(lv(e,t+11)){case 114:return Nv+e+Zv+sv(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Nv+e+Zv+sv(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Nv+e+Zv+sv(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Nv+e+Zv+e+e}return e}function Uv(e){return Pv(Hv("",null,null,null,[""],e=Ev(e),0,[0],e))}function Hv(e,t,n,r,i,o,a,s,u){for(var l=0,c=0,h=a,f=0,d=0,p=0,v=1,m=1,g=1,y=0,b="",O=i,x=o,w=r,k=b;m;)switch(p=y,y=kv()){case 40:if(108!=p&&58==k.charCodeAt(h-1)){-1!=uv(k+=sv(Cv(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:k+=Cv(y);break;case 9:case 10:case 13:case 32:k+=Av(p);break;case 92:k+=Rv(_v()-1,7);continue;case 47:switch(Sv()){case 42:case 47:dv(qv(Qv(kv(),_v()),t,n),u);break;default:k+="/"}break;case 123*v:s[l++]=hv(k)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+c:d>0&&hv(k)-h&&dv(d>32?Xv(k+";",r,n,h-1):Xv(sv(k," ","")+";",r,n,h-2),u);break;case 59:k+=";";default:if(dv(w=Gv(k,t,n,l,c,i,s,b,O=[],x=[],h),o),123===y)if(0===c)Hv(k,t,w,w,O,o,h,s,x);else switch(f){case 100:case 109:case 115:Hv(e,w,w,r&&dv(Gv(e,w,w,0,0,i,s,b,i,O=[],h),x),i,x,h,s,r?O:x);break;default:Hv(k,w,w,w,[""],x,0,s,x)}}l=c=d=0,v=g=1,b=k="",h=a;break;case 58:h=1+hv(k),d=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==wv())continue;switch(k+=iv(y),y*v){case 38:g=c>0?1:(k+="\f",-1);break;case 44:s[l++]=(hv(k)-1)*g,g=1;break;case 64:45===Sv()&&(k+=Cv(kv())),f=Sv(),c=h=hv(b=k+=Dv(_v())),y++;break;case 45:45===p&&2==hv(k)&&(v=0)}}return o}function Gv(e,t,n,r,i,o,a,s,u,l,c){for(var h=i-1,f=0===i?o:[""],d=fv(f),p=0,v=0,m=0;p<r;++p)for(var g=0,y=cv(e,h+1,h=rv(v=a[p])),b=e;g<d;++g)(b=av(v>0?f[g]+" "+y:sv(y,/&\f/g,f[g])))&&(u[m++]=b);return Ov(e,t,n,0===i?jv:s,u,l,c)}function qv(e,t,n){return Ov(e,t,n,zv,iv(yv),cv(e,2,-2),0)}function Xv(e,t,n,r){return Ov(e,t,n,Wv,cv(e,0,r),cv(e,r+1,-1),r)}var Yv=function(e,t,n){for(var r=0,i=0;r=i,i=Sv(),38===r&&12===i&&(t[n]=1),!Mv(i);)kv();return Tv(e,gv)},Jv=function(e,t){return Pv(function(e,t){var n=-1,r=44;do{switch(Mv(r)){case 0:38===r&&12===Sv()&&(t[n]=1),e[n]+=Yv(gv-1,t,n);break;case 2:e[n]+=Cv(r);break;case 4:if(44===r){e[++n]=58===Sv()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=iv(r)}}while(r=kv());return e}(Ev(e),t))},Kv=new WeakMap,em=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Kv.get(n))&&!r){Kv.set(e,!0);for(var i=[],o=Jv(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var l=0;l<a.length;l++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[l]):a[l]+" "+o[s]}}},tm=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},nm=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Wv:e.return=Vv(e.value,e.length);break;case Bv:return Fv([xv(e,{value:sv(e.value,"@","@"+Nv)})],r);case jv:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fv([xv(e,{props:[sv(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Fv([xv(e,{props:[sv(t,/:(plac\w+)/,":-webkit-input-$1")]}),xv(e,{props:[sv(t,/:(plac\w+)/,":-moz-$1")]}),xv(e,{props:[sv(t,/:(plac\w+)/,Zv+"input-$1")]})],r)}return""}))}}],rm=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||nm;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var u,l,c=[$v,(l=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=fv(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([em,tm].concat(r,c));o=function(e,t,n,r){u=n,function(e){Fv(Uv(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new nv({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(s),f};var im=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},om={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},am=/[A-Z]|^ms/g,sm=/_EMO_([^_]+?)_([^]*?)_EMO_/g,um=function(e){return 45===e.charCodeAt(1)},lm=function(e){return null!=e&&"boolean"!==typeof e},cm=Kp((function(e){return um(e)?e:e.replace(am,"-$&").toLowerCase()})),hm=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(sm,(function(e,t,n){return dm={name:t,styles:n,next:dm},t}))}return 1===om[e]||um(e)||"number"!==typeof t||0===t?t:t+"px"};function fm(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return dm={name:n.name,styles:n.styles,next:dm},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)dm={name:r.name,styles:r.styles,next:dm},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fm(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":lm(a)&&(r+=cm(o)+":"+hm(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=fm(e,t,a);switch(o){case"animation":case"animationName":r+=cm(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)lm(a[u])&&(r+=cm(o)+":"+hm(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=dm,o=n(e);return dm=i,fm(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var dm,pm=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var vm=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";dm=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=fm(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=fm(n,t,e[a]),r&&(i+=o[a]);pm.lastIndex=0;for(var s,u="";null!==(s=pm.exec(i));)u+="-"+s[1];return{name:im(i)+u,styles:i,next:dm}},mm=(0,e.createContext)("undefined"!==typeof HTMLElement?rm({key:"css"}):null);mm.Provider;var gm=function(t){return(0,e.forwardRef)((function(n,r){var i=(0,e.useContext)(mm);return t(n,i,r)}))},ym=(0,e.createContext)({});function bm(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Om=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},xm=tv,wm=function(e){return"theme"!==e},km=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?xm:wm},Sm=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},_m=function(){return null},Tm=function t(n,r){var i,o,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var u=Sm(n,r,a),l=u||km(s),c=!l("as");return function(){var h=arguments,f=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&f.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)f.push.apply(f,h);else{0,f.push(h[0][0]);for(var d=h.length,p=1;p<d;p++)f.push(h[p],h[0][p])}var v=gm((function(t,n,r){var i=c&&t.as||s,a="",h=[],d=t;if(null==t.theme){for(var p in d={},t)d[p]=t[p];d.theme=(0,e.useContext)(ym)}"string"===typeof t.className?a=bm(n.registered,h,t.className):null!=t.className&&(a=t.className+" ");var v=vm(f.concat(h),n.registered,d);Om(n,v,"string"===typeof i);a+=n.key+"-"+v.name,void 0!==o&&(a+=" "+o);var m=c&&void 0===u?km(i):l,g={};for(var y in t)c&&"as"===y||m(y)&&(g[y]=t[y]);g.className=a,g.ref=r;var b=(0,e.createElement)(i,g),O=(0,e.createElement)(_m,null);return(0,e.createElement)(e.Fragment,null,O,b)}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=f,v.__emotion_forwardProp=u,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(e,n){return t(e,Od({},r,n,{shouldForwardProp:Sm(v,n,!0)})).apply(void 0,f)},v}},Mm=Tm.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Mm[e]=Mm(e)}));var Em=Mm;function Pm(e,t){return Em(e,t)}function Cm(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Am(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Od({},e):e;return Cm(e)&&Cm(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Cm(t[i])&&i in e&&Cm(e[i])?r[i]=Am(e[i],t[i],n):r[i]=t[i])})),r}var Rm=["values","unit","step"];function Lm(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,a=void 0===o?5:o,s=Np(e,Rm),u=Object.keys(n);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function c(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-a/100).concat(i,")")}function h(e,t){var r=u.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[u[r]]?n[u[r]]:t)-a/100).concat(i,")")}return Od({keys:u,values:n,up:l,down:c,between:h,only:function(e){return u.indexOf(e)+1<u.length?h(e,u[u.indexOf(e)+1]):l(e)},not:function(e){var t=u.indexOf(e);return 0===t?l(u[1]):t===u.length-1?c(u[t]):h(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var Qm={borderRadius:4},Dm={xs:0,sm:600,md:900,lg:1200,xl:1536},Zm={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Dm[e],"px)")}};function Im(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||Zm;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===typeof t){var o=r.breakpoints||Zm;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(o.values||Dm).indexOf(r)){e[o.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Nm(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function zm(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function jm(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Wm(e){if("string"!==typeof e)throw new Error(jm(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Bm(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function Fm(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Bm(e,n)||i,t&&(r=t(r)),r}var $m=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=Bm(e.theme,i)||{};return Im(e,n,(function(e){var n=Fm(a,o,e);return e===n&&"string"===typeof e&&(n=Fm(a,o,"".concat(t).concat("default"===e?"":Wm(e)),e)),!1===r?n:(0,x.Z)({},r,n)}))};return a.propTypes={},a.filterProps=[t],a};var Vm=function(e,t){return t?Am(e,t,{clone:!1}):e};var Um={m:"margin",p:"padding"},Hm={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Gm={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},qm=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Gm[e])return[e];e=Gm[e]}var t=e.split(""),n=(0,w.Z)(t,2),r=n[0],i=n[1],o=Um[r],a=Hm[i]||"";return Array.isArray(a)?a.map((function(e){return o+e})):[o+a]})),Xm=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ym=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Jm=[].concat(Xm,Ym);function Km(e,t,n,r){var i=Bm(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function eg(e){return Km(e,"spacing",8)}function tg(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function ng(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=tg(t,n),e}),{})}}(qm(n),r);return Im(e,e[n],i)}function rg(e,t){var n=eg(e.theme);return Object.keys(e).map((function(r){return ng(e,t,r,n)})).reduce(Vm,{})}function ig(e){return rg(e,Xm)}function og(e){return rg(e,Ym)}function ag(e){return rg(e,Jm)}ig.propTypes={},ig.filterProps=Xm,og.propTypes={},og.filterProps=Ym,ag.propTypes={},ag.filterProps=Jm;var sg=ag;function ug(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=eg({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var lg=["breakpoints","palette","spacing","shape"];var cg=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.spacing,a=e.shape,s=void 0===a?{}:a,u=Np(e,lg),l=Lm(n),c=ug(o),h=Am({breakpoints:l,direction:"ltr",components:{},palette:Od({mode:"light"},i),spacing:c,shape:Od({},Qm,s)},u),f=arguments.length,d=new Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];return h=d.reduce((function(e,t){return Am(e,t)}),h)};var hg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Vm(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function fg(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var dg=$m({prop:"border",themeKey:"borders",transform:fg}),pg=$m({prop:"borderTop",themeKey:"borders",transform:fg}),vg=$m({prop:"borderRight",themeKey:"borders",transform:fg}),mg=$m({prop:"borderBottom",themeKey:"borders",transform:fg}),gg=$m({prop:"borderLeft",themeKey:"borders",transform:fg}),yg=$m({prop:"borderColor",themeKey:"palette"}),bg=$m({prop:"borderTopColor",themeKey:"palette"}),Og=$m({prop:"borderRightColor",themeKey:"palette"}),xg=$m({prop:"borderBottomColor",themeKey:"palette"}),wg=$m({prop:"borderLeftColor",themeKey:"palette"}),kg=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Km(e.theme,"shape.borderRadius",4);return Im(e,e.borderRadius,(function(e){return{borderRadius:tg(t,e)}}))}return null};kg.propTypes={},kg.filterProps=["borderRadius"];var Sg=hg(dg,pg,vg,mg,gg,yg,bg,Og,xg,wg,kg),_g=hg($m({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),$m({prop:"display"}),$m({prop:"overflow"}),$m({prop:"textOverflow"}),$m({prop:"visibility"}),$m({prop:"whiteSpace"})),Tg=hg($m({prop:"flexBasis"}),$m({prop:"flexDirection"}),$m({prop:"flexWrap"}),$m({prop:"justifyContent"}),$m({prop:"alignItems"}),$m({prop:"alignContent"}),$m({prop:"order"}),$m({prop:"flex"}),$m({prop:"flexGrow"}),$m({prop:"flexShrink"}),$m({prop:"alignSelf"}),$m({prop:"justifyItems"}),$m({prop:"justifySelf"})),Mg=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Km(e.theme,"spacing",8);return Im(e,e.gap,(function(e){return{gap:tg(t,e)}}))}return null};Mg.propTypes={},Mg.filterProps=["gap"];var Eg=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Km(e.theme,"spacing",8);return Im(e,e.columnGap,(function(e){return{columnGap:tg(t,e)}}))}return null};Eg.propTypes={},Eg.filterProps=["columnGap"];var Pg=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Km(e.theme,"spacing",8);return Im(e,e.rowGap,(function(e){return{rowGap:tg(t,e)}}))}return null};Pg.propTypes={},Pg.filterProps=["rowGap"];var Cg=hg(Mg,Eg,Pg,$m({prop:"gridColumn"}),$m({prop:"gridRow"}),$m({prop:"gridAutoFlow"}),$m({prop:"gridAutoColumns"}),$m({prop:"gridAutoRows"}),$m({prop:"gridTemplateColumns"}),$m({prop:"gridTemplateRows"}),$m({prop:"gridTemplateAreas"}),$m({prop:"gridArea"})),Ag=hg($m({prop:"position"}),$m({prop:"zIndex",themeKey:"zIndex"}),$m({prop:"top"}),$m({prop:"right"}),$m({prop:"bottom"}),$m({prop:"left"})),Rg=hg($m({prop:"color",themeKey:"palette"}),$m({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),$m({prop:"backgroundColor",themeKey:"palette"})),Lg=$m({prop:"boxShadow",themeKey:"shadows"});function Qg(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Dg=$m({prop:"width",transform:Qg}),Zg=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Im(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||Dm[t]||Qg(t)}}))}return null};Zg.filterProps=["maxWidth"];var Ig=$m({prop:"minWidth",transform:Qg}),Ng=$m({prop:"height",transform:Qg}),zg=$m({prop:"maxHeight",transform:Qg}),jg=$m({prop:"minHeight",transform:Qg}),Wg=($m({prop:"size",cssProperty:"width",transform:Qg}),$m({prop:"size",cssProperty:"height",transform:Qg}),hg(Dg,Zg,Ig,Ng,zg,jg,$m({prop:"boxSizing"}))),Bg=$m({prop:"fontFamily",themeKey:"typography"}),Fg=$m({prop:"fontSize",themeKey:"typography"}),$g=$m({prop:"fontStyle",themeKey:"typography"}),Vg=$m({prop:"fontWeight",themeKey:"typography"}),Ug=$m({prop:"letterSpacing"}),Hg=$m({prop:"textTransform"}),Gg=$m({prop:"lineHeight"}),qg=$m({prop:"textAlign"}),Xg=hg($m({prop:"typography",cssProperty:!1,themeKey:"typography"}),Bg,Fg,$g,Vg,Ug,Gg,qg,Hg),Yg={borders:Sg.filterProps,display:_g.filterProps,flexbox:Tg.filterProps,grid:Cg.filterProps,positions:Ag.filterProps,palette:Rg.filterProps,shadows:Lg.filterProps,sizing:Wg.filterProps,spacing:sg.filterProps,typography:Xg.filterProps},Jg={borders:Sg,display:_g,flexbox:Tg,grid:Cg,positions:Ag,palette:Rg,shadows:Lg,sizing:Wg,spacing:sg,typography:Xg},Kg=Object.keys(Yg).reduce((function(e,t){return Yg[t].forEach((function(n){e[n]=Jg[t]})),e}),{});var ey=function(e,t,n){var r,i=(r={},(0,x.Z)(r,e,t),(0,x.Z)(r,"theme",n),r),o=Kg[e];return o?o(i):(0,x.Z)({},e,t)};function ty(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;function o(e){var t=e;if("function"===typeof e)t=e(i);else if("object"!==typeof e)return e;var n=Nm(i.breakpoints),r=Object.keys(n),o=n;return Object.keys(t).forEach((function(e){var n,r,a=(n=t[e],r=i,"function"===typeof n?n(r):n);if(null!==a&&void 0!==a)if("object"===typeof a)if(Kg[e])o=Vm(o,ey(e,a,i));else{var s=Im({theme:i},a,(function(t){return(0,x.Z)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(s,a)?o=Vm(o,s):o[e]=ty({sx:a,theme:i})}else o=Vm(o,ey(e,a,i))})),zm(r,o)}return Array.isArray(n)?n.map(o):o(n)}ty.filterProps=["sx"];var ny=ty,ry=["variant"];function iy(e){return 0===e.length}function oy(e){var t=e.variant,n=Np(e,ry),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?iy(r)?e[t]:Wm(e[t]):"".concat(iy(r)?t:Wm(t)).concat(Wm(e[t].toString()))})),r}var ay=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],sy=["theme"],uy=["theme"];function ly(e){return 0===Object.keys(e).length}var cy=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},hy=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=oy(e.props);r[t]=e.style})),r},fy=function(e,t,n,r){var i,o,a=e.ownerState,s=void 0===a?{}:a,u=[],l=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[oy(n.props)])})),u};function dy(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var py=cg();function vy(e,t,n){var r;return Od({toolbar:(r={minHeight:56},(0,x.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,x.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}function my(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function gy(e){if(e.type)return e;if("#"===e.charAt(0))return gy(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(jm(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(jm(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function yy(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function by(e){var t="hsl"===(e=gy(e)).type?gy(function(e){var t=(e=gy(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),yy({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Oy(e,t){return e=gy(e),t=my(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,yy(e)}function xy(e,t){if(e=gy(e),t=my(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return yy(e)}function wy(e,t){if(e=gy(e),t=my(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return yy(e)}var ky={black:"#000",white:"#fff"},Sy={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},_y={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ty={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},My={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ey={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Py={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Cy={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ay=["mode","contrastThreshold","tonalOffset"],Ry={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ky.white,default:ky.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ly={text:{primary:ky.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ky.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Qy(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=wy(e.main,i):"dark"===t&&(e.dark=xy(e.main,o)))}function Dy(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,a=void 0===o?.2:o,s=Np(e,Ay),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ey[200],light:Ey[50],dark:Ey[400]}:{main:Ey[700],light:Ey[400],dark:Ey[800]}}(n),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_y[200],light:_y[50],dark:_y[400]}:{main:_y[500],light:_y[300],dark:_y[700]}}(n),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ty[500],light:Ty[300],dark:Ty[700]}:{main:Ty[700],light:Ty[400],dark:Ty[800]}}(n),h=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Py[400],light:Py[300],dark:Py[700]}:{main:Py[700],light:Py[500],dark:Py[900]}}(n),f=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Cy[400],light:Cy[300],dark:Cy[700]}:{main:Cy[800],light:Cy[500],dark:Cy[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:My[400],light:My[300],dark:My[700]}:{main:"#ed6c02",light:My[500],dark:My[900]}}(n);function p(e){var t=function(e,t){var n=by(e),r=by(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Ly.text.primary)>=i?Ly.text.primary:Ry.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,u=e.darkShade,l=void 0===u?700:u;if(!(t=Od({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(jm(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(jm(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Qy(t,"light",s,a),Qy(t,"dark",l,a),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:Ly,light:Ry};return Am(Od({common:ky,mode:n,primary:v({color:u,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:h,name:"info"}),success:v({color:f,name:"success"}),grey:Sy,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:a},m[n]),s)}var Zy=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Iy={textTransform:"uppercase"},Ny='"Roboto", "Helvetica", "Arial", sans-serif';function zy(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Ny:r,o=n.fontSize,a=void 0===o?14:o,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,c=void 0===l?400:l,h=n.fontWeightMedium,f=void 0===h?500:h,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,m=void 0===v?16:v,g=n.allVariants,y=n.pxToRem,b=Np(n,Zy);var O=a/14,x=y||function(e){return"".concat(e/m*O,"rem")},w=function(e,t,n,r,o){return Od({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===Ny?{letterSpacing:"".concat((a=r/t,Math.round(1e5*a)/1e5),"em")}:{},o,g);var a},k={h1:w(u,96,1.167,-1.5),h2:w(u,60,1.2,-.5),h3:w(c,48,1.167,0),h4:w(c,34,1.235,.25),h5:w(c,24,1.334,0),h6:w(f,20,1.6,.15),subtitle1:w(c,16,1.75,.15),subtitle2:w(f,14,1.57,.1),body1:w(c,16,1.5,.15),body2:w(c,14,1.43,.15),button:w(f,14,1.75,.4,Iy),caption:w(c,12,1.66,.4),overline:w(c,12,2.66,1,Iy)};return Am(Od({htmlFontSize:m,pxToRem:x,fontFamily:i,fontSize:a,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:f,fontWeightBold:p},k),b,{clone:!1})}function jy(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Wy=["none",jy(0,2,1,-1,0,1,1,0,0,1,3,0),jy(0,3,1,-2,0,2,2,0,0,1,5,0),jy(0,3,3,-2,0,3,4,0,0,1,8,0),jy(0,2,4,-1,0,4,5,0,0,1,10,0),jy(0,3,5,-1,0,5,8,0,0,1,14,0),jy(0,3,5,-1,0,6,10,0,0,1,18,0),jy(0,4,5,-2,0,7,10,1,0,2,16,1),jy(0,5,5,-3,0,8,10,1,0,3,14,2),jy(0,5,6,-3,0,9,12,1,0,3,16,2),jy(0,6,6,-3,0,10,14,1,0,4,18,3),jy(0,6,7,-4,0,11,15,1,0,4,20,3),jy(0,7,8,-4,0,12,17,2,0,5,22,4),jy(0,7,8,-4,0,13,19,2,0,5,24,4),jy(0,7,9,-4,0,14,21,2,0,5,26,4),jy(0,8,9,-5,0,15,22,2,0,6,28,5),jy(0,8,10,-5,0,16,24,2,0,6,30,5),jy(0,8,11,-5,0,17,26,2,0,6,32,5),jy(0,9,11,-5,0,18,28,2,0,7,34,6),jy(0,9,12,-6,0,19,29,2,0,7,36,6),jy(0,10,13,-6,0,20,31,3,0,8,38,7),jy(0,10,13,-6,0,21,33,3,0,8,40,7),jy(0,10,14,-6,0,22,35,3,0,8,42,7),jy(0,11,14,-7,0,23,36,3,0,9,44,8),jy(0,11,15,-7,0,24,38,3,0,9,46,8)],By=["duration","easing","delay"],Fy={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$y={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Vy(e){return"".concat(Math.round(e),"ms")}function Uy(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Hy(e){var t=Od({},Fy,e.easing),n=Od({},$y,e.duration);return Od({getAutoHeightDuration:Uy,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,a=r.easing,s=void 0===a?t.easeInOut:a,u=r.delay,l=void 0===u?0:u;Np(r,By);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:Vy(o)," ").concat(s," ").concat("string"===typeof l?l:Vy(l))})).join(",")}},e,{easing:t,duration:n})}var Gy={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},qy=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Xy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,a=void 0===o?{}:o,s=e.typography,u=void 0===s?{}:s,l=Np(e,qy),c=Dy(i),h=cg(e),f=Am(h,{mixins:vy(h.breakpoints,h.spacing,n),palette:c,shadows:Wy.slice(),typography:zy(c,u),transitions:Hy(a),zIndex:Od({},Gy)});f=Am(f,l);for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return f=p.reduce((function(e,t){return Am(e,t)}),f)}var Yy=Xy,Jy=Yy(),Ky=function(e){return dy(e)&&"classes"!==e},eb=dy,tb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?py:t,r=e.rootShouldForwardProp,i=void 0===r?dy:r,o=e.slotShouldForwardProp,a=void 0===o?dy:o;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.name,s=r.slot,u=r.skipVariantsResolver,l=r.skipSx,c=r.overridesResolver,h=Np(r,ay),f=void 0!==u?u:s&&"Root"!==s||!1,d=l||!1;var p=dy;"Root"===s?p=i:s&&(p=a);var v=Pm(e,Od({shouldForwardProp:p,label:t},h)),m=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=Np(t,sy);return e(Od({theme:ly(r)?n:r},i))}:e})):[],s=e;o&&c&&a.push((function(e){var t=ly(e.theme)?n:e.theme,r=cy(o,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=(0,w.Z)(t,2),r=n[0],o=n[1];i[r]="function"===typeof o?o(e):o})),c(e,i)}return null})),o&&!f&&a.push((function(e){var t=ly(e.theme)?n:e.theme;return fy(e,hy(o,t),t,o)})),d||a.push((function(e){var t=ly(e.theme)?n:e.theme;return ny(Od({},e,{theme:t}))}));var u=a.length-r.length;if(Array.isArray(e)&&u>0){var l=new Array(u).fill("");(s=[].concat((0,Jp.Z)(e),(0,Jp.Z)(l))).raw=[].concat((0,Jp.Z)(e.raw),(0,Jp.Z)(l))}else"function"===typeof e&&(s=function(t){var r=t.theme,i=Np(t,uy);return e(Od({theme:ly(r)?n:r},i))});var h=v.apply(void 0,[s].concat((0,Jp.Z)(a)));return h};return v.withConfig&&(m.withConfig=v.withConfig),m}}({defaultTheme:Jy,rootShouldForwardProp:Ky}),nb=tb;function rb(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=Od({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}var ib=e.createContext(null);function ob(){return e.useContext(ib)}function ab(e){return 0===Object.keys(e).length}var sb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=ob();return!t||ab(t)?e:t},ub=cg();var lb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ub;return sb(e)};function cb(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return rb({theme:lb(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:Jy})}var hb=!1,fb=e.createContext(null),db="unmounted",pb="exited",vb="entering",mb="entered",gb="exiting",yb=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,o=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=pb,r.appearStatus=vb):i=mb:i=e.unmountOnExit||e.mountOnEnter?db:pb,r.state={status:i},r.nextCallback=null,r}xd(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===db?{status:pb}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==vb&&n!==mb&&(t=vb):n!==vb&&n!==mb||(t=gb)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===vb?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===pb&&this.setState({status:db})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[t.findDOMNode(this),i],a=o[0],s=o[1],u=this.getTimeouts(),l=i?u.appear:u.enter;!e&&!r||hb?this.safeSetState({status:mb},(function(){n.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:vb},(function(){n.props.onEntering(a,s),n.onTransitionEnd(l,(function(){n.safeSetState({status:mb},(function(){n.props.onEntered(a,s)}))}))})))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!hb?(this.props.onExit(i),this.safeSetState({status:gb},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:pb},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:pb},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===db)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Np(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(fb.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function bb(){}yb.contextType=fb,yb.propTypes={},yb.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bb,onEntering:bb,onEntered:bb,onExit:bb,onExiting:bb,onExited:bb},yb.UNMOUNTED=db,yb.EXITED=pb,yb.ENTERING=vb,yb.ENTERED=mb,yb.EXITING=gb;var Ob=yb;function xb(){return lb(Jy)}var wb=function(e){return e.scrollTop};function kb(e,t){var n,r,i=e.timeout,o=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}function Sb(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function _b(t,n){return e.useMemo((function(){return null==t&&null==n?null:function(e){Sb(t,e),Sb(n,e)}}),[t,n])}var Tb=_b,Mb=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Eb={entering:{opacity:1},entered:{opacity:1}},Pb={enter:$y.enteringScreen,exit:$y.leavingScreen},Cb=e.forwardRef((function(t,n){var r=t.addEndListener,i=t.appear,o=void 0===i||i,a=t.children,s=t.easing,u=t.in,l=t.onEnter,c=t.onEntered,h=t.onEntering,f=t.onExit,d=t.onExited,p=t.onExiting,v=t.style,m=t.timeout,g=void 0===m?Pb:m,y=t.TransitionComponent,b=void 0===y?Ob:y,O=Np(t,Mb),x=xb(),w=e.useRef(null),k=Tb(a.ref,n),S=Tb(w,k),_=function(e){return function(t){if(e){var n=w.current;void 0===t?e(n):e(n,t)}}},T=_(h),M=_((function(e,t){wb(e);var n=kb({style:v,timeout:g,easing:s},{mode:"enter"});e.style.webkitTransition=x.transitions.create("opacity",n),e.style.transition=x.transitions.create("opacity",n),l&&l(e,t)})),E=_(c),P=_(p),C=_((function(e){var t=kb({style:v,timeout:g,easing:s},{mode:"exit"});e.style.webkitTransition=x.transitions.create("opacity",t),e.style.transition=x.transitions.create("opacity",t),f&&f(e)})),A=_(d);return(0,qp.jsx)(b,Od({appear:o,in:u,nodeRef:w,onEnter:M,onEntered:E,onEntering:T,onExit:C,onExited:A,onExiting:P,addEndListener:function(e){r&&r(w.current,e)},timeout:g},O,{children:function(t,n){return e.cloneElement(a,Od({style:Od({opacity:0,visibility:"exited"!==t||u?void 0:"hidden"},Eb[t],v,a.props.style),ref:S},n))}}))})),Ab=Cb,Rb=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],Lb=nb("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return Od({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),Qb=e.forwardRef((function(e,t){var n,r=cb({props:e,name:"MuiBackdrop"}),i=r.children,o=r.components,a=void 0===o?{}:o,s=r.componentsProps,u=void 0===s?{}:s,l=r.className,c=r.invisible,h=void 0!==c&&c,f=r.open,d=r.transitionDuration,p=r.TransitionComponent,v=void 0===p?Ab:p,m=Np(r,Rb),g=function(e){return e.classes}(Od({},r,{invisible:h}));return(0,qp.jsx)(v,Od({in:f,timeout:d},m,{children:(0,qp.jsx)(Yp,{className:l,invisible:h,components:Od({Root:Lb},a),componentsProps:{root:Od({},u.root,(!a.Root||!zp(a.Root))&&{ownerState:Od({},null==(n=u.root)?void 0:n.ownerState)})},classes:g,ref:t,children:i})}))})),Db=["sx"];function Zb(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Kg[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(Np(e,Db)),i=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[i].concat((0,Jp.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Cm(e)?Od({},i,e):i}:Od({},i,n),Od({},o,{sx:t})}var Ib=["className","component"];var Nb=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.defaultTheme,r=t.defaultClassName,i=void 0===r?"MuiBox-root":r,o=t.generateClassName,a=Pm("div")(ny),s=e.forwardRef((function(e,t){var r=lb(n),s=Zb(e),u=s.className,l=s.component,c=void 0===l?"div":l,h=Np(s,Ib);return(0,qp.jsx)(a,Od({as:c,ref:t,className:Wp(u,o?o(i):i),theme:r},h))}));return s}({defaultTheme:Yy(),defaultClassName:"MuiBox-root",generateClassName:$p.generate}),zb=Nb;function jb(e){return e&&e.ownerDocument||document}var Wb="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;function Bb(t){var n=e.useRef(t);return Wb((function(){n.current=t})),e.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function Fb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var $b=e.forwardRef((function(n,r){var i=n.children,o=n.container,a=n.disablePortal,s=void 0!==a&&a,u=e.useState(null),l=(0,w.Z)(u,2),c=l[0],h=l[1],f=_b(e.isValidElement(i)?i.ref:null,r);return Wb((function(){s||h(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,s]),Wb((function(){if(c&&!s)return Sb(r,c),function(){Sb(r,null)}}),[r,c,s]),s?e.isValidElement(i)?e.cloneElement(i,{ref:f}):i:c?t.createPortal(i,c):c}));function Vb(e){return jb(e).defaultView||window}function Ub(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Hb(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Gb(e){return parseInt(Vb(e).getComputedStyle(e).paddingRight,10)||0}function qb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,Jp.Z)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&Hb(e,i)}))}function Xb(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Yb(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=jb(e);return t.body===e?Vb(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=Ub(jb(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Gb(r)+i,"px");var o=jb(r).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Gb(e)+i,"px")}))}var a=r.parentElement,s=Vb(r),u="HTML"===(null==a?void 0:a.nodeName)&&"scroll"===s.getComputedStyle(a).overflowY?a:r;n.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Jb=function(){function e(){(0,C.Z)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,A.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Hb(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);qb(t,e.mount,e.modalRef,r,!0);var i=Xb(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=Xb(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Yb(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=Xb(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Hb(e.modalRef,!0),qb(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&Hb(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),Kb=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function eO(e){var t=[],n=[];return Array.from(e.querySelectorAll(Kb)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function tO(){return!0}var nO=function(t){var n=t.children,r=t.disableAutoFocus,i=void 0!==r&&r,o=t.disableEnforceFocus,a=void 0!==o&&o,s=t.disableRestoreFocus,u=void 0!==s&&s,l=t.getTabbable,c=void 0===l?eO:l,h=t.isEnabled,f=void 0===h?tO:h,d=t.open,p=e.useRef(),v=e.useRef(null),m=e.useRef(null),g=e.useRef(null),y=e.useRef(null),b=e.useRef(!1),O=e.useRef(null),x=_b(n.ref,O),w=e.useRef(null);e.useEffect((function(){d&&O.current&&(b.current=!i)}),[i,d]),e.useEffect((function(){if(d&&O.current){var e=jb(O.current);return O.current.contains(e.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex",-1),b.current&&O.current.focus()),function(){u||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}}}),[d]),e.useEffect((function(){if(d&&O.current){var e=jb(O.current),t=function(t){var n=O.current;if(null!==n)if(e.hasFocus()&&!a&&f()&&!p.current){if(!n.contains(e.activeElement)){if(t&&y.current!==t.target||e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=c(O.current)),r.length>0){var i,o,s=Boolean((null==(i=w.current)?void 0:i.shiftKey)&&"Tab"===(null==(o=w.current)?void 0:o.key)),u=r[0],l=r[r.length-1];s?l.focus():u.focus()}else n.focus()}}else p.current=!1},n=function(t){w.current=t,!a&&f()&&"Tab"===t.key&&e.activeElement===O.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,a,u,f,d,c]);var k=function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0};return(0,qp.jsxs)(e.Fragment,{children:[(0,qp.jsx)("div",{tabIndex:0,onFocus:k,ref:v,"data-test":"sentinelStart"}),e.cloneElement(n,{ref:x,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0,y.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,qp.jsx)("div",{tabIndex:0,onFocus:k,ref:m,"data-test":"sentinelEnd"})]})};function rO(e){return Up("MuiModal",e)}Hp("MuiModal",["root","hidden"]);var iO=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var oO=new Jb,aO=e.forwardRef((function(t,n){var r=t.BackdropComponent,i=t.BackdropProps,o=t.children,a=t.classes,s=t.className,u=t.closeAfterTransition,l=void 0!==u&&u,c=t.component,h=void 0===c?"div":c,f=t.components,d=void 0===f?{}:f,p=t.componentsProps,v=void 0===p?{}:p,m=t.container,g=t.disableAutoFocus,y=void 0!==g&&g,b=t.disableEnforceFocus,O=void 0!==b&&b,x=t.disableEscapeKeyDown,k=void 0!==x&&x,S=t.disablePortal,_=void 0!==S&&S,T=t.disableRestoreFocus,M=void 0!==T&&T,E=t.disableScrollLock,P=void 0!==E&&E,C=t.hideBackdrop,A=void 0!==C&&C,R=t.keepMounted,L=void 0!==R&&R,Q=t.manager,D=void 0===Q?oO:Q,Z=t.onBackdropClick,I=t.onClose,N=t.onKeyDown,z=t.open,j=t.theme,W=t.onTransitionEnter,B=t.onTransitionExited,F=Np(t,iO),$=e.useState(!0),V=(0,w.Z)($,2),U=V[0],H=V[1],G=e.useRef({}),q=e.useRef(null),X=e.useRef(null),Y=_b(X,n),J=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(t),K=function(){return G.current.modalRef=X.current,G.current.mountNode=q.current,G.current},ee=function(){D.mount(K(),{disableScrollLock:P}),X.current.scrollTop=0},te=Bb((function(){var e=function(e){return"function"===typeof e?e():e}(m)||jb(q.current).body;D.add(K(),e),X.current&&ee()})),ne=e.useCallback((function(){return D.isTopModal(K())}),[D]),re=Bb((function(e){q.current=e,e&&(z&&ne()?ee():Hb(X.current,!0))})),ie=e.useCallback((function(){D.remove(K())}),[D]);e.useEffect((function(){return function(){ie()}}),[ie]),e.useEffect((function(){z?te():J&&l||ie()}),[z,ie,J,l,te]);var oe=Od({},t,{classes:a,closeAfterTransition:l,disableAutoFocus:y,disableEnforceFocus:O,disableEscapeKeyDown:k,disablePortal:_,disableRestoreFocus:M,disableScrollLock:P,exited:U,hideBackdrop:A,keepMounted:L}),ae=function(e){var t=e.open,n=e.exited;return Bp({root:["root",!t&&n&&"hidden"]},rO,e.classes)}(oe);if(!L&&!z&&(!J||U))return null;var se={};void 0===o.props.tabIndex&&(se.tabIndex="-1"),J&&(se.onEnter=Fb((function(){H(!1),W&&W()}),o.props.onEnter),se.onExited=Fb((function(){H(!0),B&&B(),l&&ie()}),o.props.onExited));var ue=d.Root||h,le=v.root||{};return(0,qp.jsx)($b,{ref:re,container:m,disablePortal:_,children:(0,qp.jsxs)(ue,Od({role:"presentation"},le,!zp(ue)&&{as:h,ownerState:Od({},oe,le.ownerState),theme:j},F,{ref:Y,onKeyDown:function(e){N&&N(e),"Escape"===e.key&&ne()&&(k||(e.stopPropagation(),I&&I(e,"escapeKeyDown")))},className:Wp(ae.root,le.className,s),children:[!A&&r?(0,qp.jsx)(r,Od({open:z,onClick:function(e){e.target===e.currentTarget&&(Z&&Z(e),I&&I(e,"backdropClick"))}},i)):null,(0,qp.jsx)(nO,{disableEnforceFocus:O,disableAutoFocus:y,disableRestoreFocus:M,isEnabled:ne,open:z,children:e.cloneElement(o,se)})]}))})})),sO=aO,uO=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],lO=nb("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return Od({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),cO=nb(Qb,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),hO=e.forwardRef((function(t,n){var r,i=cb({name:"MuiModal",props:t}),o=i.BackdropComponent,a=void 0===o?cO:o,s=i.closeAfterTransition,u=void 0!==s&&s,l=i.children,c=i.components,h=void 0===c?{}:c,f=i.componentsProps,d=void 0===f?{}:f,p=i.disableAutoFocus,v=void 0!==p&&p,m=i.disableEnforceFocus,g=void 0!==m&&m,y=i.disableEscapeKeyDown,b=void 0!==y&&y,O=i.disablePortal,x=void 0!==O&&O,k=i.disableRestoreFocus,S=void 0!==k&&k,_=i.disableScrollLock,T=void 0!==_&&_,M=i.hideBackdrop,E=void 0!==M&&M,P=i.keepMounted,C=void 0!==P&&P,A=Np(i,uO),R=e.useState(!0),L=(0,w.Z)(R,2),Q=L[0],D=L[1],Z={closeAfterTransition:u,disableAutoFocus:v,disableEnforceFocus:g,disableEscapeKeyDown:b,disablePortal:x,disableRestoreFocus:S,disableScrollLock:T,hideBackdrop:E,keepMounted:C},I=function(e){return e.classes}(Od({},i,Z,{exited:Q}));return(0,qp.jsx)(sO,Od({components:Od({Root:lO},h),componentsProps:{root:Od({},d.root,(!h.Root||!zp(h.Root))&&{ownerState:Od({},null==(r=d.root)?void 0:r.ownerState)})},BackdropComponent:a,onTransitionEnter:function(){return D(!1)},onTransitionExited:function(){return D(!0)},ref:n},A,{classes:I},Z,{children:l}))})),fO=n(4294),dO=n(6580),pO=dO.q6.define(),vO=dO.q6.define(),mO=dO.r$.define(),gO=dO.r$.define({combine:function(e){return(0,dO.BO)(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});var yO=dO.QQ.define({create:function(){return QO.empty},update:function(e,t){var n=t.state.facet(gO),r=t.annotation(pO);if(r){var i=t.docChanged?dO.jT.single(function(e){var t=0;return e.iterChangedRanges((function(e,n){return t=n})),t}(t.changes)):void 0,o=_O.fromTransaction(t,i),a=r.side,s=0==a?e.undone:e.done;return s=o?TO(s,s.length,n.minDepth,o):PO(s,t.startState.selection),new QO(0==a?r.rest:s,0==a?s:r.rest)}var u=t.annotation(vO);if("full"!=u&&"before"!=u||(e=e.isolate()),!1===t.annotation(dO.YW.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);var l=_O.fromTransaction(t),c=t.annotation(dO.YW.time),h=t.annotation(dO.YW.userEvent);return l?e=e.addChanges(l,c,h,n.newGroupDelay,n.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,c,h,n.newGroupDelay)),"full"!=u&&"after"!=u||(e=e.isolate()),e},toJSON:function(e){return{done:e.done.map((function(e){return e.toJSON()})),undone:e.undone.map((function(e){return e.toJSON()}))}},fromJSON:function(e){return new QO(e.done.map(_O.fromJSON),e.undone.map(_O.fromJSON))}});function bO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[yO,gO.of(e),fO.tk.domEventHandlers({beforeinput:function(e,t){var n="historyUndo"==e.inputType?xO:"historyRedo"==e.inputType?wO:null;return!!n&&(e.preventDefault(),n(t))}})]}function OO(e,t){return function(n){var r=n.state,i=n.dispatch;if(!t&&r.readOnly)return!1;var o=r.field(yO,!1);if(!o)return!1;var a=o.pop(e,r,t);return!!a&&(i(a),!0)}}var xO=OO(0,!1),wO=OO(1,!1),kO=OO(0,!0),SO=OO(1,!0);var _O=function(){function e(t,n,r,i,o){(0,C.Z)(this,e),this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}return(0,A.Z)(e,[{key:"setSelAfter",value:function(t){return new e(this.changes,this.effects,this.mapped,this.startSelection,t)}},{key:"toJSON",value:function(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((function(e){return e.toJSON()}))}}}],[{key:"fromJSON",value:function(t){return new e(t.changes&&dO.as.fromJSON(t.changes),[],t.mapped&&dO.n0.fromJSON(t.mapped),t.startSelection&&dO.jT.fromJSON(t.startSelection),t.selectionsAfter.map(dO.jT.fromJSON))}},{key:"fromTransaction",value:function(t,n){var r,i=EO,o=(0,O.Z)(t.startState.facet(mO));try{for(o.s();!(r=o.n()).done;){var a=(0,r.value)(t);a.length&&(i=i.concat(a))}}catch(s){o.e(s)}finally{o.f()}return!i.length&&t.changes.empty?null:new e(t.changes.invert(t.startState.doc),i,void 0,n||t.startState.selection,EO)}},{key:"selection",value:function(t){return new e(void 0,EO,void 0,void 0,t)}}]),e}();function TO(e,t,n,r){var i=t+1>n+20?t-n-1:0,o=e.slice(i,t);return o.push(r),o}function MO(e,t){return e.length?t.length?e.concat(t):e:t}var EO=[];function PO(e,t){if(e.length){var n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),TO(e,e.length-1,1e9,n.setSelAfter(r)))}return[_O.selection([t])]}function CO(e){var t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function AO(e,t){if(!e.length)return e;for(var n=e.length,r=EO;n;){var i=RO(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){var o=e.slice(0,n);return o[n-1]=i,o}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[_O.selection(r)]:EO}function RO(e,t,n){var r=MO(e.selectionsAfter.length?e.selectionsAfter.map((function(e){return e.map(t)})):EO,n);if(!e.changes)return _O.selection(r);var i=e.changes.map(t),o=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(o):o;return new _O(i,dO.Py.mapEffects(e.effects,t),a,e.startSelection.map(o),r)}var LO=/^(input\.type|delete)($|\.)/,QO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;(0,C.Z)(this,e),this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}return(0,A.Z)(e,[{key:"isolate",value:function(){return this.prevTime?new e(this.done,this.undone):this}},{key:"addChanges",value:function(t,n,r,i,o){var a=this.done,s=a[a.length-1];return a=s&&s.changes&&!s.changes.empty&&t.changes&&(!r||LO.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i&&function(e,t){var n=[],r=!1;return e.iterChangedRanges((function(e,t){return n.push(e,t)})),t.iterChangedRanges((function(e,t,i,o){for(var a=0;a<n.length;){var s=n[a++],u=n[a++];o>=s&&i<=u&&(r=!0)}})),r}(s.changes,t.changes)||"input.type.compose"==r)?TO(a,a.length-1,o,new _O(t.changes.compose(s.changes),MO(t.effects,s.effects),s.mapped,s.startSelection,EO)):TO(a,a.length,o,t),new e(a,EO,n,r)}},{key:"addSelection",value:function(t,n,r,i){var o=this.done.length?this.done[this.done.length-1].selectionsAfter:EO;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function(e,t){return e.ranges.length==t.ranges.length&&0===e.ranges.filter((function(e,n){return e.empty!=t.ranges[n].empty})).length}(o[o.length-1],t)?this:new e(PO(this.done,t),this.undone,n,r)}},{key:"addMapping",value:function(t){return new e(AO(this.done,t),AO(this.undone,t),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,t,n){var r=0==e?this.done:this.undone;if(0==r.length)return null;var i=r[r.length-1];if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:pO.of({side:e,rest:CO(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){var o=1==r.length?EO:r.slice(0,r.length-1);return i.mapped&&(o=AO(o,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:pO.of({side:e,rest:o}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}]),e}();QO.empty=new QO(EO,EO);var DO=[{key:"Mod-z",run:xO,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:wO,preventDefault:!0},{key:"Mod-u",run:kO,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:SO,preventDefault:!0}],ZO=n(1450),IO=n(9357),NO=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n,[{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"eq",value:function(e){return!1}},{key:"destroy",value:function(e){}}]),n}(IO.uU);NO.prototype.elementClass="",NO.prototype.toDOM=void 0,NO.prototype.mapMode=dO.gc.TrackBefore,NO.prototype.startSide=NO.prototype.endSide=-1,NO.prototype.point=!0;var zO=dO.r$.define(),jO={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return IO.Xs.empty},lineMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},WO=dO.r$.define();function BO(e){return[VO(),WO.of(Object.assign(Object.assign({},jO),e))]}var FO=fO.tk.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),$O=dO.r$.define({combine:function(e){return e.some((function(e){return e}))}});function VO(e){var t=[UO,FO];return e&&!1===e.fixed&&t.push($O.of(!0)),t}var UO=fO.lg.fromClass(function(){function e(t){(0,C.Z)(this,e),this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(WO).map((function(e){return new XO(t,e)}));var n,r=(0,O.Z)(this.gutters);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.dom.appendChild(i.dom)}}catch(o){r.e(o)}finally{r.f()}this.fixed=!t.state.facet($O),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}return(0,A.Z)(e,[{key:"update",value:function(e){if(this.updateGutters(e)){var t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet($O)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var t=this,n=this.dom.nextSibling;e&&this.dom.remove();var r,i=IO.Xs.iter(this.view.state.facet(zO),this.view.viewport.from),o=[],a=this.gutters.map((function(e){return new qO(e,t.view.viewport,-t.view.documentPadding.top)})),s=(0,O.Z)(this.view.viewportLineBlocks);try{for(s.s();!(r=s.n()).done;){var u=r.value,l=void 0;if(Array.isArray(u.type)){var c,h=(0,O.Z)(u.type);try{for(h.s();!(c=h.n()).done;){var f=c.value;if(f.type==fO.kH.Text){l=f;break}}}catch(g){h.e(g)}finally{h.f()}}else l=u.type==fO.kH.Text?u:void 0;if(l){o.length&&(o=[]),GO(i,o,u.from);var d,p=(0,O.Z)(a);try{for(p.s();!(d=p.n()).done;){d.value.line(this.view,l,o)}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){s.e(g)}finally{s.f()}var v,m=(0,O.Z)(a);try{for(m.s();!(v=m.n()).done;){v.value.finish()}}catch(g){m.e(g)}finally{m.f()}e&&this.view.scrollDOM.insertBefore(this.dom,n)}},{key:"updateGutters",value:function(e){var t=e.startState.facet(WO),n=e.state.facet(WO),r=e.docChanged||e.heightChanged||e.viewportChanged||!IO.Xs.eq(e.startState.facet(zO),e.state.facet(zO),e.view.viewport.from,e.view.viewport.to);if(t==n){var i,o=(0,O.Z)(this.gutters);try{for(o.s();!(i=o.n()).done;){i.value.update(e)&&(r=!0)}}catch(g){o.e(g)}finally{o.f()}}else{r=!0;var a,s=[],u=(0,O.Z)(n);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=t.indexOf(l);c<0?s.push(new XO(this.view,l)):(this.gutters[c].update(e),s.push(this.gutters[c]))}}catch(g){u.e(g)}finally{u.f()}var h,f=(0,O.Z)(this.gutters);try{for(f.s();!(h=f.n()).done;){var d=h.value;d.dom.remove(),s.indexOf(d)<0&&d.destroy()}}catch(g){f.e(g)}finally{f.f()}for(var p=0,v=s;p<v.length;p++){var m=v[p];this.dom.appendChild(m.dom)}this.gutters=s}return r}},{key:"destroy",value:function(){var e,t=(0,O.Z)(this.gutters);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.dom.remove()}}]),e}(),{provide:fO.BF.scrollMargins.from((function(e){return 0!=e.gutters.length&&e.fixed?e.view.textDirection==fO.Nm.LTR?{left:e.dom.offsetWidth}:{right:e.dom.offsetWidth}:null}))});function HO(e){return Array.isArray(e)?e:[e]}function GO(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}var qO=function(){function e(t,n,r){(0,C.Z)(this,e),this.gutter=t,this.height=r,this.localMarkers=[],this.i=0,this.cursor=IO.Xs.iter(t.markers,n.from)}return(0,A.Z)(e,[{key:"line",value:function(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),GO(this.cursor,this.localMarkers,t.from);var r=n.length?this.localMarkers.concat(n):this.localMarkers,i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);var o=this.gutter;if(0!=r.length||o.config.renderEmptyElements){var a=t.top-this.height;if(this.i==o.elements.length){var s=new YO(e,t.height,a,r);o.elements.push(s),o.dom.appendChild(s.dom)}else o.elements[this.i].update(e,t.height,a,r);this.height=t.bottom,this.i++}}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}]),e}(),XO=function(){function e(t,n){var r=this;(0,C.Z)(this,e),this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var i=function(e){r.dom.addEventListener(e,(function(r){var i=t.lineBlockAtHeight(r.clientY-t.documentTop);n.domEventHandlers[e](t,i,r)&&r.preventDefault()}))};for(var o in n.domEventHandlers)i(o);this.markers=HO(n.markers(t)),n.initialSpacer&&(this.spacer=new YO(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return(0,A.Z)(e,[{key:"update",value:function(e){var t=this.markers;if(this.markers=HO(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}var r=e.view.viewport;return!IO.Xs.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,t=(0,O.Z)(this.elements);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),YO=function(){function e(t,n,r,i){(0,C.Z)(this,e),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(t,n,r,i)}return(0,A.Z)(e,[{key:"update",value:function(e,t,n,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}},{key:"setMarkers",value:function(e,t){for(var n="cm-gutterElement",r=this.dom.firstChild,i=0,o=0;;){var a=o,s=i<t.length?t[i++]:null,u=!1;if(s){var l=s.elementClass;l&&(n+=" "+l);for(var c=o;c<this.markers.length;c++)if(this.markers[c].compare(s)){a=c,u=!0;break}}else a=this.markers.length;for(;o<a;){var h=this.markers[o++];if(h.toDOM){h.destroy(r);var f=r.nextSibling;r.remove(),r=f}}if(!s)break;s.toDOM&&(u?r=r.nextSibling:this.dom.insertBefore(s.toDOM(e),r)),u&&o++}this.dom.className=n,this.markers=t}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),e}();var JO=dO.r$.define(),KO=dO.r$.define({combine:function(e){return(0,dO.BO)(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,t){var n=Object.assign({},e),r=function(e){var r=n[e],i=t[e];n[e]=r?function(e,t,n){return r(e,t,n)||i(e,t,n)}:i};for(var i in t)r(i);return n}})}}),ex=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).number=e,r}return(0,A.Z)(n,[{key:"eq",value:function(e){return this.number==e.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),n}(NO);function tx(e,t){return e.state.facet(KO).formatNumber(t,e.state)}var nx=WO.compute([KO],(function(e){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet(JO)},lineMarker:function(e,t,n){return n.some((function(e){return e.toDOM}))?null:new ex(tx(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:function(e){return e.startState.facet(KO)!=e.state.facet(KO)},initialSpacer:function(e){return new ex(tx(e,ix(e.state.doc.lines)))},updateSpacer:function(e,t){var n=tx(t.view,ix(t.view.state.doc.lines));return n==e.number?e:new ex(n)},domEventHandlers:e.facet(KO).domEventHandlers}}));function rx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[KO.of(e),VO(),nx]}function ix(e){for(var t=9;t<e;)t=10*t+9;return t}var ox=new(function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.apply(this,arguments)).elementClass="cm-activeLineGutter",e}return(0,A.Z)(n)}(NO)),ax=zO.compute(["selection"],(function(e){var t,n=[],r=-1,i=(0,O.Z)(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.empty){var a=e.doc.lineAt(o.head).from;a>r&&(r=a,n.push(ox.range(a)))}}}catch(s){i.e(s)}finally{i.f()}return IO.Xs.of(n)}));function sx(){return ax}function ux(e,t){var n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}var lx=dO.Py.define({map:ux}),cx=dO.Py.define({map:ux});function hx(e){var t,n=[],r=(0,O.Z)(e.state.selection.ranges);try{var i=function(){var r=t.value.head;if(n.some((function(e){return e.from<=r&&e.to>=r})))return"continue";n.push(e.lineBlockAt(r))};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}var fx=dO.QQ.define({create:function(){return fO.p.none},update:function(e,t){e=e.map(t.changes);var n,r=(0,O.Z)(t.effects);try{var i=function(){var t=n.value;t.is(lx)&&!function(e,t,n){var r=!1;return e.between(t,t,(function(e,i){e==t&&i==n&&(r=!0)})),r}(e,t.value.from,t.value.to)?e=e.update({add:[Ox.range(t.value.from,t.value.to)]}):t.is(cx)&&(e=e.update({filter:function(e,n){return t.value.from!=e||t.value.to!=n},filterFrom:t.value.from,filterTo:t.value.to}))};for(r.s();!(n=r.n()).done;)i()}catch(s){r.e(s)}finally{r.f()}if(t.selection){var o=!1,a=t.selection.main.head;e.between(a,a,(function(e,t){e<a&&t>a&&(o=!0)})),o&&(e=e.update({filterFrom:a,filterTo:a,filter:function(e,t){return t<=a||e>=a}}))}return e},provide:function(e){return fO.tk.decorations.from(e)}});function dx(e,t,n){var r,i=null;return null===(r=e.field(fx,!1))||void 0===r||r.between(t,n,(function(e,t){(!i||i.from>e)&&(i={from:e,to:t})})),i}function px(e,t){return e.field(fx,!1)?t:t.concat(dO.Py.appendConfig.of(bx()))}function vx(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return fO.tk.announce.of("".concat(e.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(e.state.phrase("to")," ").concat(i,"."))}var mx=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(e){var t,n=(0,O.Z)(hx(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=(0,ZO.Fw)(e.state,r.from,r.to);if(i)return e.dispatch({effects:px(e.state,[lx.of(i),vx(e,i)])}),!0}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(e){if(!e.state.field(fx,!1))return!1;var t,n=[],r=(0,O.Z)(hx(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=dx(e.state,i.from,i.to);o&&n.push(cx.of(o),vx(e,o,!1))}}catch(a){r.e(a)}finally{r.f()}return n.length&&e.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:function(e){for(var t=e.state,n=[],r=0;r<t.doc.length;){var i=e.lineBlockAt(r),o=(0,ZO.Fw)(t,i.from,i.to);o&&n.push(lx.of(o)),r=(o?e.lineBlockAt(o.to):i).to+1}return n.length&&e.dispatch({effects:px(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:function(e){var t=e.state.field(fx,!1);if(!t||!t.size)return!1;var n=[];return t.between(0,e.state.doc.length,(function(e,t){n.push(cx.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],gx={placeholderDOM:null,placeholderText:"\u2026"},yx=dO.r$.define({combine:function(e){return(0,dO.BO)(e,gx)}});function bx(e){var t=[fx,Sx];return e&&t.push(yx.of(e)),t}var Ox=fO.p.replace({widget:new(function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n,[{key:"ignoreEvents",value:function(){return!1}},{key:"toDOM",value:function(e){var t=e.state,n=t.facet(yx),r=function(t){var n=e.lineBlockAt(e.posAtDOM(t.target)),r=dx(e.state,n.from,n.to);r&&e.dispatch({effects:cx.of(r)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,r);var i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",t.phrase("folded code")),i.title=t.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}]),n}(fO.l9))}),xx={openText:"\u2304",closedText:"\u203a",markerDOM:null},wx=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i;return(0,C.Z)(this,n),(i=t.call(this)).config=e,i.open=r,i}return(0,A.Z)(n,[{key:"eq",value:function(e){return this.config==e.config&&this.open==e.open}},{key:"toDOM",value:function(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);var t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}]),n}(NO);function kx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(Object.assign({},xx),e),n=new wx(t,!0),r=new wx(t,!1),i=fO.lg.fromClass(function(){function e(t){(0,C.Z)(this,e),this.from=t.viewport.from,this.markers=this.buildMarkers(t)}return(0,A.Z)(e,[{key:"update",value:function(e){(e.docChanged||e.viewportChanged||e.startState.facet(ZO.dK)!=e.state.facet(ZO.dK)||e.startState.field(fx,!1)!=e.state.field(fx,!1))&&(this.markers=this.buildMarkers(e.view))}},{key:"buildMarkers",value:function(e){var t,i=new IO.f_,o=(0,O.Z)(e.viewportLineBlocks);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=dx(e.state,a.from,a.to)?r:(0,ZO.Fw)(e.state,a.from,a.to)?n:null;s&&i.add(a.from,a.from,s)}}catch(u){o.e(u)}finally{o.f()}return i.finish()}}]),e}());return[i,BO({class:"cm-foldGutter",markers:function(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||IO.Xs.empty},initialSpacer:function(){return new wx(t,!1)},domEventHandlers:{click:function(e,t){var n=dx(e.state,t.from,t.to);if(n)return e.dispatch({effects:cx.of(n)}),!0;var r=(0,ZO.Fw)(e.state,t.from,t.to);return!!r&&(e.dispatch({effects:lx.of(r)}),!0)}}}),bx()]}var Sx=fO.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),_x=n(3344),Tx=n(4499),Mx=fO.tk.baseTheme({".cm-matchingBracket":{backgroundColor:"#328c8252"},".cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Ex=1e4,Px="()[]{}",Cx=dO.r$.define({combine:function(e){return(0,dO.BO)(e,{afterCursor:!0,brackets:Px,maxScanDistance:Ex})}}),Ax=fO.p.mark({class:"cm-matchingBracket"}),Rx=fO.p.mark({class:"cm-nonmatchingBracket"}),Lx=dO.QQ.define({create:function(){return fO.p.none},update:function(e,t){if(!t.docChanged&&!t.selection)return e;var n,r=[],i=t.state.facet(Cx),o=(0,O.Z)(t.state.selection.ranges);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.empty){var s=Ix(t.state,a.head,-1,i)||a.head>0&&Ix(t.state,a.head-1,1,i)||i.afterCursor&&(Ix(t.state,a.head,1,i)||a.head<t.state.doc.length&&Ix(t.state,a.head+1,-1,i));if(s){var u=s.matched?Ax:Rx;r.push(u.range(s.start.from,s.start.to)),s.end&&r.push(u.range(s.end.from,s.end.to))}}}}catch(l){o.e(l)}finally{o.f()}return fO.p.set(r,!0)},provide:function(e){return fO.tk.decorations.from(e)}}),Qx=[Lx,Mx];function Dx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Cx.of(e),Qx]}function Zx(e,t,n){var r=e.prop(t<0?Tx.md.openedBy:Tx.md.closedBy);if(r)return r;if(1==e.name.length){var i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function Ix(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.maxScanDistance||Ex,o=r.brackets||Px,a=(0,ZO.qz)(e),s=a.resolveInner(t,n),u=s;u;u=u.parent){var l=Zx(u.type,n,o);if(l&&u.from<u.to)return Nx(e,t,n,u,l,o)}return zx(e,t,n,a,s.type,i,o)}function Nx(e,t,n,r,i,o){var a=r.parent,s={from:r.from,to:r.to},u=0,l=null===a||void 0===a?void 0:a.cursor;if(l&&(n<0?l.childBefore(r.from):l.childAfter(r.to)))do{if(n<0?l.to<=r.from:l.from>=r.to){if(0==u&&i.indexOf(l.type.name)>-1&&l.from<l.to)return{start:s,end:{from:l.from,to:l.to},matched:!0};if(Zx(l.type,n,o))u++;else if(Zx(l.type,-n,o)&&0==--u)return{start:s,end:l.from==l.to?void 0:{from:l.from,to:l.to},matched:!1}}}while(n<0?l.prevSibling():l.nextSibling());return{start:s,matched:!1}}function zx(e,t,n,r,i,o,a){var s=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),u=a.indexOf(s);if(u<0||u%2==0!=n>0)return null;for(var l={from:n<0?t-1:t,to:n>0?t+1:t},c=e.doc.iterRange(t,n>0?e.doc.length:0),h=0,f=0;!c.next().done&&f<=o;){var d=c.value;n<0&&(f+=d.length);for(var p=t+f*n,v=n>0?0:d.length-1,m=n>0?d.length:-1;v!=m;v+=n){var g=a.indexOf(d[v]);if(!(g<0||r.resolve(p+v,1).type!=i))if(g%2==0==n>0)h++;else{if(1==h)return{start:l,end:{from:p+v,to:p+v+1},matched:g>>1==u>>1};h--}}n>0&&(f+=d.length)}return c.done?{start:l,matched:!1}:null}function jx(e,t){return dO.jT.create(e.ranges.map(t),e.mainIndex)}function Wx(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Bx(e,t){var n=e.state,r=e.dispatch,i=jx(n.selection,t);return!i.eq(n.selection)&&(r(Wx(n,i)),!0)}function Fx(e,t){return dO.jT.cursor(t?e.to:e.from)}function $x(e,t){return Bx(e,(function(n){return n.empty?e.moveByChar(n,t):Fx(n,t)}))}var Vx=function(e){return $x(e,e.textDirection!=fO.Nm.LTR)},Ux=function(e){return $x(e,e.textDirection==fO.Nm.LTR)};function Hx(e,t){return Bx(e,(function(n){return n.empty?e.moveByGroup(n,t):Fx(n,t)}))}function Gx(e,t,n){if(t.type.prop(n))return!0;var r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function qx(e,t,n){for(var r=(0,ZO.qz)(e).resolveInner(t.head),i=n?Tx.md.closedBy:Tx.md.openedBy,o=t.head;;){var a=n?r.childAfter(o):r.childBefore(o);if(!a)break;Gx(e,a,i)?r=a:o=n?a.to:a.from}var s,u;return u=r.type.prop(i)&&(s=n?Ix(e,r.from,1):Ix(e,r.to,-1))&&s.matched?n?s.end.to:s.end.from:n?r.to:r.from,dO.jT.cursor(u,n?-1:1)}function Xx(e,t){return Bx(e,(function(n){if(!n.empty)return Fx(n,t);var r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}var Yx=function(e){return Xx(e,!1)},Jx=function(e){return Xx(e,!0)};function Kx(e,t){var n=e.state,r=jx(n.selection,(function(n){return n.empty?e.moveVertically(n,t,e.dom.clientHeight):Fx(n,t)}));if(r.eq(n.selection))return!1;var i=e.coordsAtPos(n.selection.main.head),o=e.scrollDOM.getBoundingClientRect();return e.dispatch(Wx(n,r),{effects:i&&i.top>o.top&&i.bottom<o.bottom?fO.tk.scrollIntoView(r.main.head,{y:"start",yMargin:i.top-o.top}):void 0}),!0}var ew=function(e){return Kx(e,!1)},tw=function(e){return Kx(e,!0)};function nw(e,t,n){var r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){var o=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&t.head!=r.from+o&&(i=dO.jT.cursor(r.from+o))}return i}var rw=function(e){return Bx(e,(function(t){return nw(e,t,!0)}))},iw=function(e){return Bx(e,(function(t){return nw(e,t,!1)}))};function ow(e,t,n){var r=!1,i=jx(e.selection,(function(t){var i=Ix(e,t.head,-1)||Ix(e,t.head,1)||t.head>0&&Ix(e,t.head-1,1)||t.head<e.doc.length&&Ix(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;var o=i.start.from==t.head?i.end.to:i.end.from;return n?dO.jT.range(t.anchor,o):dO.jT.cursor(o)}));return!!r&&(t(Wx(e,i)),!0)}function aw(e,t){var n=jx(e.state.selection,(function(e){var n=t(e);return dO.jT.range(e.anchor,n.head,n.goalColumn)}));return!n.eq(e.state.selection)&&(e.dispatch(Wx(e.state,n)),!0)}function sw(e,t){return aw(e,(function(n){return e.moveByChar(n,t)}))}var uw=function(e){return sw(e,e.textDirection!=fO.Nm.LTR)},lw=function(e){return sw(e,e.textDirection==fO.Nm.LTR)};function cw(e,t){return aw(e,(function(n){return e.moveByGroup(n,t)}))}function hw(e,t){return aw(e,(function(n){return e.moveVertically(n,t)}))}var fw=function(e){return hw(e,!1)},dw=function(e){return hw(e,!0)};function pw(e,t){return aw(e,(function(n){return e.moveVertically(n,t,e.dom.clientHeight)}))}var vw=function(e){return pw(e,!1)},mw=function(e){return pw(e,!0)},gw=function(e){return aw(e,(function(t){return nw(e,t,!0)}))},yw=function(e){return aw(e,(function(t){return nw(e,t,!1)}))},bw=function(e){var t=e.state;return(0,e.dispatch)(Wx(t,{anchor:0})),!0},Ow=function(e){var t=e.state;return(0,e.dispatch)(Wx(t,{anchor:t.doc.length})),!0},xw=function(e){var t=e.state;return(0,e.dispatch)(Wx(t,{anchor:t.selection.main.anchor,head:0})),!0},ww=function(e){var t=e.state;return(0,e.dispatch)(Wx(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function kw(e,t){var n=e.state,r=e.dispatch;if(n.readOnly)return!1;var i="delete.selection",o=n.changeByRange((function(e){var n=e.from,r=e.to;if(n==r){var o=t(n);o<n?i="delete.backward":o>n&&(i="delete.forward"),n=Math.min(n,o),r=Math.max(r,o)}return n==r?{range:e}:{changes:{from:n,to:r},range:dO.jT.cursor(n)}}));return!o.changes.empty&&(r(n.update(o,{scrollIntoView:!0,userEvent:i})),!0)}function Sw(e,t,n){if(e instanceof fO.tk){var r,i=(0,O.Z)(e.pluginField(fO.BF.atomicRanges));try{for(i.s();!(r=i.n()).done;){r.value.between(t,t,(function(e,r){e<t&&r>t&&(t=n?r:e)}))}}catch(o){i.e(o)}finally{i.f()}}return t}var _w=function(e,t){return kw(e,(function(n){var r,i,o=e.state,a=o.doc.lineAt(n);if(!t&&n>a.from&&n<a.from+200&&!/[^ \t]/.test(r=a.text.slice(0,n-a.from))){if("\t"==r[r.length-1])return n-1;for(var s=(0,_x.IS)(r,o.tabSize)%(0,ZO.y1)(o)||(0,ZO.y1)(o),u=0;u<s&&" "==r[r.length-1-u];u++)n--;i=n}else(i=(0,_x.cp)(a.text,n-a.from,t)+a.from)==n&&a.number!=(t?o.doc.lines:1)&&(i+=t?1:-1);return Sw(e,i,t)}))},Tw=function(e){return _w(e,!1)},Mw=function(e){return _w(e,!0)},Ew=function(e,t){return kw(e,(function(n){for(var r=n,i=e.state,o=i.doc.lineAt(r),a=i.charCategorizer(r),s=null;;){if(r==(t?o.to:o.from)){r==n&&o.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}var u=(0,_x.cp)(o.text,r-o.from,t)+o.from,l=o.text.slice(Math.min(r,u)-o.from,Math.max(r,u)-o.from),c=a(l);if(null!=s&&c!=s)break;" "==l&&r==n||(s=c),r=u}return Sw(e,r,t)}))},Pw=function(e){return Ew(e,!1)},Cw=function(e){return kw(e,(function(t){var n=e.lineBlockAt(t).to;return Sw(e,t<n?n:Math.min(e.state.doc.length,t+1),!0)}))};function Aw(e){var t,n=[],r=-1,i=(0,O.Z)(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=e.doc.lineAt(o.from),s=e.doc.lineAt(o.to);if(o.empty||o.to!=s.from||(s=e.doc.lineAt(o.to-1)),r>=a.number){var u=n[n.length-1];u.to=s.to,u.ranges.push(o)}else n.push({from:a.from,to:s.to,ranges:[o]});r=s.number+1}}catch(l){i.e(l)}finally{i.f()}return n}function Rw(e,t,n){if(e.readOnly)return!1;var r,i=[],o=[],a=(0,O.Z)(Aw(e));try{for(a.s();!(r=a.n()).done;){var s=r.value;if(n?s.to!=e.doc.length:0!=s.from){var u=e.doc.lineAt(n?s.to+1:s.from-1),l=u.length+1;if(n){i.push({from:s.to,to:u.to},{from:s.from,insert:u.text+e.lineBreak});var c,h=(0,O.Z)(s.ranges);try{for(h.s();!(c=h.n()).done;){var f=c.value;o.push(dO.jT.range(Math.min(e.doc.length,f.anchor+l),Math.min(e.doc.length,f.head+l)))}}catch(m){h.e(m)}finally{h.f()}}else{i.push({from:u.from,to:s.from},{from:s.to,insert:e.lineBreak+u.text});var d,p=(0,O.Z)(s.ranges);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(dO.jT.range(v.anchor-l,v.head-l))}}catch(m){p.e(m)}finally{p.f()}}}}}catch(m){a.e(m)}finally{a.f()}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:dO.jT.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Lw(e,t,n){if(e.readOnly)return!1;var r,i=[],o=(0,O.Z)(Aw(e));try{for(o.s();!(r=o.n()).done;){var a=r.value;n?i.push({from:a.from,insert:e.doc.slice(a.from,a.to)+e.lineBreak}):i.push({from:a.to,insert:e.lineBreak+e.doc.slice(a.from,a.to)})}}catch(s){o.e(s)}finally{o.f()}return t(e.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var Qw=Dw(!1);function Dw(e){return function(t){var n=t.state,r=t.dispatch;if(n.readOnly)return!1;var i=n.changeByRange((function(t){var r=t.from,i=t.to,o=n.doc.lineAt(r),a=!e&&r==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};var n,r=(0,ZO.qz)(e).resolveInner(t),i=r.childBefore(t),o=r.childAfter(t);return i&&o&&i.to<=t&&o.from>=t&&(n=i.type.prop(Tx.md.closedBy))&&n.indexOf(o.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(o.from).from?{from:i.to,to:o.from}:null}(n,r);e&&(r=i=(i<=o.to?o:n.doc.lineAt(i)).to);var s=new ZO.Gn(n,{simulateBreak:r,simulateDoubleBreak:!!a}),u=(0,ZO.K0)(s,r);for(null==u&&(u=/^\s*/.exec(n.doc.lineAt(r).text)[0].length);i<o.to&&/\s/.test(o.text[i-o.from]);)i++;a?(r=a.from,i=a.to):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);var l=["",(0,ZO.SS)(n,u)];return a&&l.push((0,ZO.SS)(n,s.lineIndent(o.from,-1))),{changes:{from:r,to:i,insert:_x.xv.of(l)},range:dO.jT.cursor(r+1+l[1].length)}}));return r(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Zw(e,t){var n=-1;return e.changeByRange((function(r){for(var i=[],o=r.from;o<=r.to;){var a=e.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(t(a,i,r),n=a.number),o=a.to+1}var s=e.changes(i);return{changes:i,range:dO.jT.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}var Iw=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(Zw(t,(function(e,n){n.push({from:e.from,insert:t.facet(ZO.c)})})),{userEvent:"input.indent"})),!0)},Nw=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(Zw(t,(function(e,n){var r=/^\s*/.exec(e.text)[0];if(r){for(var i=(0,_x.IS)(r,t.tabSize),o=0,a=(0,ZO.SS)(t,Math.max(0,i-(0,ZO.y1)(t)));o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;n.push({from:e.from+o,to:e.from+r.length,insert:a.slice(o)})}})),{userEvent:"delete.dedent"})),!0)},zw=[{key:"Ctrl-b",run:Vx,shift:uw,preventDefault:!0},{key:"Ctrl-f",run:Ux,shift:lw},{key:"Ctrl-p",run:Yx,shift:fw},{key:"Ctrl-n",run:Jx,shift:dw},{key:"Ctrl-a",run:function(e){return Bx(e,(function(t){return dO.jT.cursor(e.lineBlockAt(t.head).from,1)}))},shift:function(e){return aw(e,(function(t){return dO.jT.cursor(e.lineBlockAt(t.head).from)}))}},{key:"Ctrl-e",run:function(e){return Bx(e,(function(t){return dO.jT.cursor(e.lineBlockAt(t.head).to,-1)}))},shift:function(e){return aw(e,(function(t){return dO.jT.cursor(e.lineBlockAt(t.head).to)}))}},{key:"Ctrl-d",run:Mw},{key:"Ctrl-h",run:Tw},{key:"Ctrl-k",run:Cw},{key:"Ctrl-Alt-h",run:Pw},{key:"Ctrl-o",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){return{changes:{from:e.from,to:e.to,insert:_x.xv.of(["",""])},range:dO.jT.cursor(e.from)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};var n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:(0,_x.cp)(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:(0,_x.cp)(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(i,n))},range:dO.jT.cursor(o)}}));return!r.changes.empty&&(n(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:tw},{key:"Alt-v",run:ew}],jw=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(e){return Bx(e,(function(t){return qx(e.state,t,e.textDirection!=fO.Nm.LTR)}))},shift:function(e){return aw(e,(function(t){return qx(e.state,t,e.textDirection!=fO.Nm.LTR)}))}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(e){return Bx(e,(function(t){return qx(e.state,t,e.textDirection==fO.Nm.LTR)}))},shift:function(e){return aw(e,(function(t){return qx(e.state,t,e.textDirection==fO.Nm.LTR)}))}},{key:"Alt-ArrowUp",run:function(e){return Rw(e.state,e.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(e){return Lw(e.state,e.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(e){return Rw(e.state,e.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(e){return Lw(e.state,e.dispatch,!0)}},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch,r=t.selection,i=null;return r.ranges.length>1?i=dO.jT.create([r.main]):r.main.empty||(i=dO.jT.create([dO.jT.cursor(r.main.head)])),!!i&&(n(Wx(t,i)),!0)}},{key:"Mod-Enter",run:Dw(!0)},{key:"Alt-l",mac:"Ctrl-l",run:function(e){var t=e.state,n=e.dispatch,r=Aw(t).map((function(e){var n=e.from,r=e.to;return dO.jT.range(n,Math.min(r+1,t.doc.length))}));return n(t.update({selection:dO.jT.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(e){var t=e.state,n=e.dispatch,r=jx(t.selection,(function(e){for(var n,r=(0,ZO.qz)(t).resolveInner(e.head,1);!(r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent);)r=r.parent;return dO.jT.range(r.to,r.from)}));return n(Wx(t,r)),!0},preventDefault:!0},{key:"Mod-[",run:Nw},{key:"Mod-]",run:Iw},{key:"Mod-Alt-\\",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=Object.create(null),i=new ZO.Gn(t,{overrideIndentation:function(e){var t=r[e];return null==t?-1:t}}),o=Zw(t,(function(e,n,o){var a=(0,ZO.K0)(i,e.from);if(null!=a){/\S/.test(e.text)||(a=0);var s=/^\s*/.exec(e.text)[0],u=(0,ZO.SS)(t,a);(s!=u||o.from<e.from+s.length)&&(r[e.from]=a,n.push({from:e.from,to:e.from+s.length,insert:u}))}}));return o.changes.empty||n(t.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(e){if(e.state.readOnly)return!1;var t=e.state,n=t.changes(Aw(t).map((function(e){var n=e.from,r=e.to;return n>0?n--:r<t.doc.length&&r++,{from:n,to:r}}))),r=jx(t.selection,(function(t){return e.moveVertically(t,!0)})).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(e){return ow(e.state,e.dispatch,!1)}}].concat([{key:"ArrowLeft",run:Vx,shift:uw,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(e){return Hx(e,e.textDirection!=fO.Nm.LTR)},shift:function(e){return cw(e,e.textDirection!=fO.Nm.LTR)}},{mac:"Cmd-ArrowLeft",run:iw,shift:yw},{key:"ArrowRight",run:Ux,shift:lw,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(e){return Hx(e,e.textDirection==fO.Nm.LTR)},shift:function(e){return cw(e,e.textDirection==fO.Nm.LTR)}},{mac:"Cmd-ArrowRight",run:rw,shift:gw},{key:"ArrowUp",run:Yx,shift:fw,preventDefault:!0},{mac:"Cmd-ArrowUp",run:bw,shift:xw},{mac:"Ctrl-ArrowUp",run:ew,shift:vw},{key:"ArrowDown",run:Jx,shift:dw,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ow,shift:ww},{mac:"Ctrl-ArrowDown",run:tw,shift:mw},{key:"PageUp",run:ew,shift:vw},{key:"PageDown",run:tw,shift:mw},{key:"Home",run:iw,shift:yw},{key:"Mod-Home",run:bw,shift:xw},{key:"End",run:rw,shift:gw},{key:"Mod-End",run:Ow,shift:ww},{key:"Enter",run:Qw},{key:"Mod-a",run:function(e){var t=e.state;return(0,e.dispatch)(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:Tw,shift:Tw},{key:"Delete",run:Mw},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Pw},{key:"Mod-Delete",mac:"Alt-Delete",run:function(e){return Ew(e,!0)}},{mac:"Mod-Backspace",run:function(e){return kw(e,(function(t){var n=e.lineBlockAt(t).from;return Sw(e,t>n?n:Math.max(0,t-1),!1)}))}},{mac:"Mod-Delete",run:Cw}].concat(zw.map((function(e){return{mac:e.key,run:e.run,shift:e.shift}})))),Ww={key:"Tab",run:Iw,shift:Nw},Bw={brackets:["(","[","{","'",'"'],before:")]}'\":;>"},Fw=dO.Py.define({map:function(e,t){var n=t.mapPos(e,-1,dO.gc.TrackAfter);return null==n?void 0:n}}),$w=dO.Py.define({map:function(e,t){return t.mapPos(e)}}),Vw=new(function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n)}(IO.uU));Vw.startSide=1,Vw.endSide=-1;var Uw=dO.QQ.define({create:function(){return IO.Xs.empty},update:function(e,t){if(t.selection){var n=t.state.doc.lineAt(t.selection.main.head).from,r=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(r,-1)&&(e=IO.Xs.empty)}e=e.map(t.changes);var i,o=(0,O.Z)(t.effects);try{var a=function(){var t=i.value;t.is(Fw)?e=e.update({add:[Vw.range(t.value,t.value+1)]}):t.is($w)&&(e=e.update({filter:function(e){return e!=t.value}}))};for(o.s();!(i=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return e}});function Hw(){return[fO.tk.inputHandler.of(Yw),Uw]}var Gw="()[]{}<>";function qw(e){for(var t=0;t<Gw.length;t+=2)if(Gw.charCodeAt(t)==e)return Gw.charAt(t+1);return(0,_x.bg)(e<128?e:e+1)}function Xw(e,t){return e.languageDataAt("closeBrackets",t)[0]||Bw}function Yw(e,t,n,r){if(e.composing)return!1;var i=e.state.selection.main;if(r.length>2||2==r.length&&1==(0,_x.nZ)((0,_x.gm)(r,0))||t!=i.from||n!=i.to)return!1;var o=function(e,t){var n,r=Xw(e,e.selection.main.head),i=r.brackets||Bw.brackets,o=(0,O.Z)(i);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=qw((0,_x.gm)(a,0));if(t==a)return s==a?rk(e,a,i.indexOf(a+a+a)>-1):tk(e,a,s,r.before||Bw.before);if(t==s&&Kw(e,e.selection.main.from))return nk(e,a,s)}}catch(u){o.e(u)}finally{o.f()}return null}(e.state,r);return!!o&&(e.dispatch(o),!0)}var Jw=[{key:"Backspace",run:function(e){var t=e.state,n=e.dispatch,r=Xw(t,t.selection.main.head).brackets||Bw.brackets,i=null,o=t.changeByRange((function(e){if(e.empty){var n,o=function(e,t){var n=e.sliceString(t-2,t);return(0,_x.nZ)((0,_x.gm)(n,0))==n.length?n:n.slice(1)}(t.doc,e.head),a=(0,O.Z)(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s==o&&ek(t.doc,e.head)==qw((0,_x.gm)(s,0)))return{changes:{from:e.head-s.length,to:e.head+s.length},range:dO.jT.cursor(e.head-s.length),userEvent:"delete.backward"}}}catch(u){a.e(u)}finally{a.f()}}return{range:i=e}}));return i||n(t.update(o,{scrollIntoView:!0})),!i}}];function Kw(e,t){var n=!1;return e.field(Uw).between(0,e.doc.length,(function(e){e==t&&(n=!0)})),n}function ek(e,t){var n=e.sliceString(t,t+2);return n.slice(0,(0,_x.nZ)((0,_x.gm)(n,0)))}function tk(e,t,n,r){var i=null,o=e.changeByRange((function(o){if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:Fw.of(o.to+t.length),range:dO.jT.range(o.anchor+t.length,o.head+t.length)};var a=ek(e.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:t+n,from:o.head},effects:Fw.of(o.head+t.length),range:dO.jT.cursor(o.head+t.length)}:{range:i=o}}));return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function nk(e,t,n){var r=null,i=e.selection.ranges.map((function(t){return t.empty&&ek(e.doc,t.head)==n?dO.jT.cursor(t.head+n.length):r=t}));return r?null:e.update({selection:dO.jT.create(i,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((function(e){var t=e.from;return $w.of(t)}))})}function rk(e,t,n){var r=null,i=e.changeByRange((function(i){if(!i.empty)return{changes:[{insert:t,from:i.from},{insert:t,from:i.to}],effects:Fw.of(i.to+t.length),range:dO.jT.range(i.anchor+t.length,i.head+t.length)};var o=i.head,a=ek(e.doc,o);if(a==t){if(ik(e,o))return{changes:{insert:t+t,from:o},effects:Fw.of(o+t.length),range:dO.jT.cursor(o+t.length)};if(Kw(e,o)){var s=n&&e.sliceDoc(o,o+3*t.length)==t+t+t;return{range:dO.jT.cursor(o+t.length*(s?3:1)),effects:$w.of(o)}}}else{if(n&&e.sliceDoc(o-2*t.length,o)==t+t&&ik(e,o-2*t.length))return{changes:{insert:t+t+t+t,from:o},effects:Fw.of(o+t.length),range:dO.jT.cursor(o+t.length)};if(e.charCategorizer(o)(a)!=dO.D0.Word){var u=e.sliceDoc(o-1,o);if(u!=t&&e.charCategorizer(o)(u)!=dO.D0.Word)return{changes:{insert:t+t,from:o},effects:Fw.of(o+t.length),range:dO.jT.cursor(o+t.length)}}}return{range:r=i}}));return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function ik(e,t){var n=(0,ZO.qz)(e).resolveInner(t+1);return n.parent&&n.from==t}var ok=dO.r$.define({combine:function(e){var t,n,r,i=(0,O.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;t=t||o.topContainer,n=n||o.bottomContainer}}catch(a){i.e(a)}finally{i.f()}return{topContainer:t,bottomContainer:n}}});function ak(e,t){var n=e.plugin(sk),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}var sk=fO.lg.fromClass(function(){function e(t){(0,C.Z)(this,e),this.input=t.state.facet(hk),this.specs=this.input.filter((function(e){return e})),this.panels=this.specs.map((function(e){return e(t)}));var n=t.state.facet(ok);this.top=new uk(t,!0,n.topContainer),this.bottom=new uk(t,!1,n.bottomContainer),this.top.sync(this.panels.filter((function(e){return e.top}))),this.bottom.sync(this.panels.filter((function(e){return!e.top})));var r,i=(0,O.Z)(this.panels);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.dom.classList.add("cm-panel"),o.mount&&o.mount()}}catch(a){i.e(a)}finally{i.f()}}return(0,A.Z)(e,[{key:"update",value:function(e){var t=e.state.facet(ok);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new uk(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new uk(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var n=e.state.facet(hk);if(n!=this.input){var r,i=n.filter((function(e){return e})),o=[],a=[],s=[],u=[],l=(0,O.Z)(i);try{for(l.s();!(r=l.n()).done;){var c=r.value,h=this.specs.indexOf(c),f=void 0;h<0?(f=c(e.view),u.push(f)):(f=this.panels[h]).update&&f.update(e),o.push(f),(f.top?a:s).push(f)}}catch(b){l.e(b)}finally{l.f()}this.specs=i,this.panels=o,this.top.sync(a),this.bottom.sync(s);for(var d=0,p=u;d<p.length;d++){var v=p[d];v.dom.classList.add("cm-panel"),v.mount&&v.mount()}}else{var m,g=(0,O.Z)(this.panels);try{for(g.s();!(m=g.n()).done;){var y=m.value;y.update&&y.update(e)}}catch(b){g.e(b)}finally{g.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),e}(),{provide:fO.BF.scrollMargins.from((function(e){return{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}}))}),uk=function(){function e(t,n,r){(0,C.Z)(this,e),this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return(0,A.Z)(e,[{key:"sync",value:function(e){var t,n=(0,O.Z)(this.panels);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.destroy&&e.indexOf(r)<0&&r.destroy()}}catch(i){n.e(i)}finally{n.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(0!=this.panels.length){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var t,n=this.dom.firstChild,r=(0,O.Z)(this.panels);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.dom.parentNode==this.dom){for(;n!=i.dom;)n=lk(n);n=n.nextSibling}else this.dom.insertBefore(i.dom,n)}}catch(o){r.e(o)}finally{r.f()}for(;n;)n=lk(n)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,t=(0,O.Z)(this.classes.split(" "));try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&this.container.classList.remove(n)}}catch(a){t.e(a)}finally{t.f()}var r,i=(0,O.Z)((this.classes=this.view.themeClasses).split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value;o&&this.container.classList.add(o)}}catch(a){i.e(a)}finally{i.f()}}}}]),e}();function lk(e){var t=e.nextSibling;return e.remove(),t}var ck=fO.tk.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),hk=dO.r$.define({enables:[sk,ck]});function fk(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)dk(e,arguments[t]);return e}function dk(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)dk(e,t[n])}}var pk="function"==typeof String.prototype.normalize?function(e){return e.normalize("NFKD")}:function(e){return e},vk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=arguments.length>4?arguments[4]:void 0;(0,C.Z)(this,e),this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=o?function(e){return o(pk(e))}:pk,this.query=this.normalize(n)}return(0,A.Z)(e,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,_x.gm)(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var t=(0,_x.bg)(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,_x.nZ)(e);for(var r=this.normalize(t),i=0,o=n;;i++){var a=r.charCodeAt(i),s=this.match(a,o);if(s)return this.value=s,this;if(i==r.length-1)break;o==n&&i<t.length&&t.charCodeAt(i)==a&&o++}}}},{key:"match",value:function(e,t){for(var n=null,r=0;r<this.matches.length;r+=2){var i=this.matches[r],o=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n}}]),e}();"undefined"!=typeof Symbol&&(vk.prototype[Symbol.iterator]=function(){return this});var mk={from:-1,to:-1,match:/.*/.exec("")},gk="gm"+(null==/x/.unicode?"":"u"),yk=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if((0,C.Z)(this,e),this.to=o,this.curLine="",this.done=!1,this.value=mk,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new xk(t,n,r,i,o);this.re=new RegExp(n,gk+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.iter=t.iter();var a=t.lineAt(i);this.curLineStart=a.from,this.matchPos=i,this.getLine(this.curLineStart)}return(0,A.Z)(e,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){var n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=r+(n==r?1:0),n==this.curLine.length&&this.nextLine(),n<r||n>this.value.to)return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),e}(),bk=new WeakMap,Ok=function(){function e(t,n){(0,C.Z)(this,e),this.from=t,this.text=n}return(0,A.Z)(e,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(t,n,r){var i=bk.get(t);if(!i||i.from>=r||i.to<=n){var o=new e(n,t.sliceString(n,r));return bk.set(t,o),o}if(i.from==n&&i.to==r)return i;var a=i.text,s=i.from;return s>n&&(a=t.sliceString(n,s)+a,s=n),i.to<r&&(a+=t.sliceString(i.to,r)),bk.set(t,new e(s,a)),new e(n,a.slice(n-s,r-s))}}]),e}(),xk=function(){function e(t,n,r,i,o){(0,C.Z)(this,e),this.text=t,this.to=o,this.done=!1,this.value=mk,this.matchPos=i,this.re=new RegExp(n,gk+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.flat=Ok.get(t,i,this.chunkEnd(i+5e3))}return(0,A.Z)(e,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){var n=this.flat.from+t.index,r=n+t[0].length;return this.value={from:n,to:r,match:t},this.matchPos=r+(n==r?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ok.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),e}();function wk(e){var t=fk("input",{class:"cm-textfield",name:"line"});function n(){var n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(n){var r=e.state,i=r.doc.lineAt(r.selection.main.head),o=(0,w.Z)(n,5),a=o[1],s=o[2],u=o[3],l=o[4],c=u?+u.slice(1):0,h=s?+s:i.number;if(s&&l){var f=h/100;a&&(f=f*("-"==a?-1:1)+i.number/r.doc.lines),h=Math.round(r.doc.lines*f)}else s&&a&&(h=h*("-"==a?-1:1)+i.number);var d=r.doc.line(Math.max(1,Math.min(r.doc.lines,h)));e.dispatch({effects:kk.of(!1),selection:dO.jT.cursor(d.from+Math.max(0,Math.min(c,d.length))),scrollIntoView:!0}),e.focus()}}return{dom:fk("form",{class:"cm-gotoLine",onkeydown:function(t){27==t.keyCode?(t.preventDefault(),e.dispatch({effects:kk.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:function(e){e.preventDefault(),n()}},fk("label",e.state.phrase("Go to line"),": ",t)," ",fk("button",{class:"cm-button",type:"submit"},e.state.phrase("go"))),pos:-10}}"undefined"!=typeof Symbol&&(yk.prototype[Symbol.iterator]=xk.prototype[Symbol.iterator]=function(){return this});var kk=dO.Py.define(),Sk=dO.QQ.define({create:function(){return!0},update:function(e,t){var n,r=(0,O.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(kk)&&(e=i.value)}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return hk.from(e,(function(e){return e?wk:null}))}}),_k=fO.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Tk={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},Mk=dO.r$.define({combine:function(e){return(0,dO.BO)(e,Tk,{highlightWordAroundCursor:function(e,t){return e||t},minSelectionLength:Math.min,maxMatches:Math.min})}});function Ek(e){var t=[Rk,Ak];return e&&t.push(Mk.of(e)),t}var Pk=fO.p.mark({class:"cm-selectionMatch"}),Ck=fO.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"}),Ak=fO.lg.fromClass(function(){function e(t){(0,C.Z)(this,e),this.decorations=this.getDeco(t)}return(0,A.Z)(e,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t=e.state.facet(Mk),n=e.state,r=n.selection;if(r.ranges.length>1)return fO.p.none;var i,o=r.main,a=null;if(o.empty){if(!t.highlightWordAroundCursor)return fO.p.none;var s=n.wordAt(o.head);if(!s)return fO.p.none;a=n.charCategorizer(o.head),i=n.sliceDoc(s.from,s.to)}else{var u=o.to-o.from;if(u<t.minSelectionLength||u>200)return fO.p.none;if(!(i=n.sliceDoc(o.from,o.to).trim()))return fO.p.none}var l,c=[],h=(0,O.Z)(e.visibleRanges);try{for(h.s();!(l=h.n()).done;)for(var f=l.value,d=new vk(n.doc,i,f.from,f.to);!d.next().done;){var p=d.value,v=p.from,m=p.to;if((!a||(0==v||a(n.sliceDoc(v-1,v))!=dO.D0.Word)&&(m==n.doc.length||a(n.sliceDoc(m,m+1))!=dO.D0.Word))&&(a&&v<=o.from&&m>=o.to?c.push(Ck.range(v,m)):(v>=o.to||m<=o.from)&&c.push(Pk.range(v,m)),c.length>t.maxMatches))return fO.p.none}}catch(g){h.e(g)}finally{h.f()}return fO.p.set(c)}}]),e}(),{decorations:function(e){return e.decorations}}),Rk=fO.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});var Lk=dO.r$.define({combine:function(e){var t;return{top:e.reduce((function(e,t){return null!==e&&void 0!==e?e:t.top}),void 0)||!1,caseSensitive:e.reduce((function(e,t){return null!==e&&void 0!==e?e:t.caseSensitive||t.matchCase}),void 0)||!1,createPanel:(null===(t=e.find((function(e){return e.createPanel})))||void 0===t?void 0:t.createPanel)||function(e){return new nS(e)}}}});var Qk=function(){function e(t){(0,C.Z)(this,e),this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,gk),!0}catch(t){return!1}}(this.search))}return(0,A.Z)(e,[{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}},{key:"create",value:function(){return this.regexp?new Ik(this):new Zk(this)}}]),e}(),Dk=(0,A.Z)((function e(t){(0,C.Z)(this,e),this.spec=t})),Zk=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this,e)).unquoted=e.search.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"})),r}return(0,A.Z)(n,[{key:"cursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return new vk(e,this.unquoted,t,n,this.spec.caseSensitive?void 0:function(e){return e.toLowerCase()})}},{key:"nextMatch",value:function(e,t,n){var r=this.cursor(e,n).nextOverlapping();return r.done&&(r=this.cursor(e,0,t).nextOverlapping()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=n;;){for(var i=Math.max(t,r-1e4-this.unquoted.length),o=this.cursor(e,i,r),a=null;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(i==t)return null;r-=1e4}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.length)}},{key:"getReplacement",value:function(e){return this.spec.replace}},{key:"matchAll",value:function(e,t){for(var n=this.cursor(e),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=this.cursor(e,Math.max(0,t-this.unquoted.length),Math.min(n+this.unquoted.length,e.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(Dk),Ik=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n,[{key:"cursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return new yk(e,this.spec.search,this.spec.caseSensitive?void 0:{ignoreCase:!0},t,n)}},{key:"nextMatch",value:function(e,t,n){var r=this.cursor(e,n).next();return r.done&&(r=this.cursor(e,0,t).next()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=1;;r++){for(var i=Math.max(t,n-1e4*r),o=this.cursor(e,i,n),a=null;!o.next().done;)a=o.value;if(a&&(i==t||a.from>i+10))return a;if(i==t)return null}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.length)}},{key:"getReplacement",value:function(e){return this.spec.replace.replace(/\$([$&\d+])/g,(function(t,n){return"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t}))}},{key:"matchAll",value:function(e,t){for(var n=this.cursor(e),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=this.cursor(e,Math.max(0,t-250),Math.min(n+250,e.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(Dk),Nk=dO.Py.define(),zk=dO.Py.define(),jk=dO.QQ.define({create:function(e){return new Wk(Jk(e).create(),Yk)},update:function(e,t){var n,r=(0,O.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(Nk)?e=new Wk(i.value.create(),e.panel):i.is(zk)&&(e=new Wk(e.query,i.value?Yk:null))}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return hk.from(e,(function(e){return e.panel}))}});var Wk=(0,A.Z)((function e(t,n){(0,C.Z)(this,e),this.query=t,this.panel=n})),Bk=fO.p.mark({class:"cm-searchMatch"}),Fk=fO.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),$k=fO.lg.fromClass(function(){function e(t){(0,C.Z)(this,e),this.view=t,this.decorations=this.highlight(t.state.field(jk))}return(0,A.Z)(e,[{key:"update",value:function(e){var t=e.state.field(jk);(t!=e.startState.field(jk)||e.docChanged||e.selectionSet)&&(this.decorations=this.highlight(t))}},{key:"highlight",value:function(e){var t=e.query;if(!e.panel||!t.spec.valid)return fO.p.none;for(var n=this.view,r=new IO.f_,i=0,o=n.visibleRanges,a=o.length;i<a;i++){for(var s=o[i],u=s.from,l=s.to;i<a-1&&l>o[i+1].from-500;)l=o[++i].to;t.highlight(n.state.doc,u,l,(function(e,t){var i=n.state.selection.ranges.some((function(n){return n.from==e&&n.to==t}));r.add(e,t,i?Fk:Bk)}))}return r.finish()}}]),e}(),{decorations:function(e){return e.decorations}});function Vk(e){return function(t){var n=t.state.field(jk,!1);return n&&n.query.spec.valid?e(t,n):Kk(t)}}var Uk=Vk((function(e,t){var n=t.query,r=e.state.selection.main,i=r.from,o=r.to,a=n.nextMatch(e.state.doc,i,o);return!(!a||a.from==i&&a.to==o)&&(e.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0,effects:oS(e,a),userEvent:"select.search"}),!0)})),Hk=Vk((function(e,t){var n=t.query,r=e.state,i=r.selection.main,o=i.from,a=i.to,s=n.prevMatch(r.doc,o,a);return!!s&&(e.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:oS(e,s),userEvent:"select.search"}),!0)})),Gk=Vk((function(e,t){var n=t.query.matchAll(e.state.doc,1e3);return!(!n||!n.length)&&(e.dispatch({selection:dO.jT.create(n.map((function(e){return dO.jT.range(e.from,e.to)}))),userEvent:"select.search.matches"}),!0)})),qk=Vk((function(e,t){var n=t.query,r=e.state,i=r.selection.main,o=i.from,a=i.to;if(r.readOnly)return!1;var s=n.nextMatch(r.doc,o,o);if(!s)return!1;var u,l,c=[];if(s.from==o&&s.to==a&&(l=r.toText(n.getReplacement(s)),c.push({from:s.from,to:s.to,insert:l}),s=n.nextMatch(r.doc,s.from,s.to)),s){var h=0==c.length||c[0].from>=s.to?0:s.to-s.from-l.length;u={anchor:s.from-h,head:s.to-h}}return e.dispatch({changes:c,selection:u,scrollIntoView:!!u,effects:s?oS(e,s):void 0,userEvent:"input.replace"}),!0})),Xk=Vk((function(e,t){var n=t.query;if(e.state.readOnly)return!1;var r=n.matchAll(e.state.doc,1e9).map((function(e){return{from:e.from,to:e.to,insert:n.getReplacement(e)}}));return!!r.length&&(e.dispatch({changes:r,userEvent:"input.replace.all"}),!0)}));function Yk(e){return e.state.facet(Lk).createPanel(e)}function Jk(e,t){var n,r=e.selection.main,i=r.empty||r.to>r.from+100?"":e.sliceDoc(r.from,r.to),o=null!==(n=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==n?n:e.facet(Lk).caseSensitive;return t&&!i?t:new Qk({search:i.replace(/\n/g,"\\n"),caseSensitive:o})}var Kk=function(e){var t=e.state.field(jk,!1);if(t&&t.panel){var n=ak(e,Yk);if(!n)return!1;var r=n.dom.querySelector("[name=search]");if(r!=e.root.activeElement){var i=Jk(e.state,t.query.spec);i.valid&&e.dispatch({effects:Nk.of(i)}),r.focus(),r.select()}}else e.dispatch({effects:[zk.of(!0),t?Nk.of(Jk(e.state,t.query.spec)):dO.Py.appendConfig.of(sS)]});return!0},eS=function(e){var t=e.state.field(jk,!1);if(!t||!t.panel)return!1;var n=ak(e,Yk);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:zk.of(!1)}),!0},tS=[{key:"Mod-f",run:Kk,scope:"editor search-panel"},{key:"F3",run:Uk,shift:Hk,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Uk,shift:Hk,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:eS,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(e){var t=e.state,n=e.dispatch,r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var i=r.main,o=i.from,a=i.to,s=[],u=0,l=new vk(t.doc,t.sliceDoc(o,a));!l.next().done;){if(s.length>1e3)return!1;l.value.from==o&&(u=s.length),s.push(dO.jT.range(l.value.from,l.value.to))}return n(t.update({selection:dO.jT.create(s,u),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:function(e){var t=ak(e,wk);if(!t){var n=[kk.of(!0)];null==e.state.field(Sk,!1)&&n.push(dO.Py.appendConfig.of([Sk,_k])),e.dispatch({effects:n}),t=ak(e,wk)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:function(e){var t=e.state,n=e.dispatch,r=t.selection.ranges;if(r.some((function(e){return e.from===e.to})))return function(e){var t=e.state,n=e.dispatch,r=t.selection,i=dO.jT.create(r.ranges.map((function(e){return t.wordAt(e.head)||dO.jT.cursor(e.head)})),r.mainIndex);return!i.eq(r)&&(n(t.update({selection:i})),!0)}({state:t,dispatch:n});var i=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some((function(e){return t.sliceDoc(e.from,e.to)!=i})))return!1;var o=function(e,t){for(var n=e.selection,r=n.main,i=n.ranges,o=e.wordAt(r.head),a=o&&o.from==r.from&&o.to==r.to,s=function(n,r){if(r.next(),!r.done){if(n&&i.some((function(e){return e.from==r.value.from})))return l=r,u=n,"continue";if(a){var o=e.wordAt(r.value.from);if(!o||o.from!=r.value.from||o.to!=r.value.to)return l=r,u=n,"continue"}return u=n,l=r,{v:r.value}}if(n)return l=r,u=n,{v:null};r=new vk(e.doc,t,0,Math.max(0,i[i.length-1].from-1)),u=n=!0,l=r},u=!1,l=new vk(e.doc,t,i[i.length-1].to);;){var c=s(u,l);if("continue"!==c&&"object"===typeof c)return c.v}}(t,i);return!!o&&(n(t.update({selection:t.selection.addRange(dO.jT.range(o.from,o.to),!1),scrollIntoView:!0})),!0)},preventDefault:!0}],nS=function(){function e(t){var n=this;(0,C.Z)(this,e),this.view=t;var r=this.query=t.state.field(jk).query.spec;function i(e,t,n){return fk("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=fk("input",{value:r.search,placeholder:rS(t,"Find"),"aria-label":rS(t,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=fk("input",{value:r.replace,placeholder:rS(t,"Replace"),"aria-label":rS(t,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=fk("input",{type:"checkbox",name:"case",checked:r.caseSensitive,onchange:this.commit}),this.reField=fk("input",{type:"checkbox",name:"re",checked:r.regexp,onchange:this.commit}),this.dom=fk("div",{onkeydown:function(e){return n.keydown(e)},class:"cm-search"},[this.searchField,i("next",(function(){return Uk(t)}),[rS(t,"next")]),i("prev",(function(){return Hk(t)}),[rS(t,"previous")]),i("select",(function(){return Gk(t)}),[rS(t,"all")]),fk("label",null,[this.caseField,rS(t,"match case")]),fk("label",null,[this.reField,rS(t,"regexp")])].concat((0,Jp.Z)(t.state.readOnly?[]:[fk("br"),this.replaceField,i("replace",(function(){return qk(t)}),[rS(t,"replace")]),i("replaceAll",(function(){return Xk(t)}),[rS(t,"replace all")]),fk("button",{name:"close",onclick:function(){return eS(t)},"aria-label":rS(t,"close"),type:"button"},["\xd7"])])))}return(0,A.Z)(e,[{key:"commit",value:function(){var e=new Qk({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Nk.of(e)}))}},{key:"keydown",value:function(e){(0,fO.$1)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Hk:Uk)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),qk(this.view))}},{key:"update",value:function(e){var t,n=(0,O.Z)(e.transactions);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=(0,O.Z)(i.effects);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.is(Nk)&&!a.value.eq(this.query)&&this.setQuery(a.value)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(Lk).top}}]),e}();function rS(e,t){return e.state.phrase(t)}var iS=/[\s\.,:;?!]/;function oS(e,t){var n=t.from,r=t.to,i=e.state.doc.lineAt(n).from,o=e.state.doc.lineAt(r).to,a=Math.max(i,n-30),s=Math.min(o,r+30),u=e.state.sliceDoc(a,s);if(a!=i)for(var l=0;l<30;l++)if(!iS.test(u[l+1])&&iS.test(u[l])){u=u.slice(l);break}if(s!=o)for(var c=u.length-1;c>u.length-30;c--)if(!iS.test(u[c-1])&&iS.test(u[c])){u=u.slice(0,c);break}return fO.tk.announce.of("".concat(e.state.phrase("current match"),". ").concat(u," ").concat(e.state.phrase("on line")," ").concat(e.state.doc.lineAt(n).number))}var aS=fO.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),sS=[jk,dO.Wl.lowest($k),aS],uS=n(7102);function lS(e,t){return function(n){var r=n.state,i=n.dispatch,o=e(t,r.selection.ranges,r);return!!o&&(i(r.update(o)),!0)}}var cS=lS(vS,0),hS=lS(pS,0),fS=[{key:"Mod-/",run:function(e){var t=dS(e.state);return t.line?cS(e):!!t.block&&hS(e)}},{key:"Alt-A",run:hS}];function dS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection.main.head,n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}function pS(e,t,n){var r=t.map((function(e){return dS(n,e.from).block}));if(!r.every((function(e){return e})))return null;var i=t.map((function(e,t){return function(e,t,n,r){var i,o,a=t.open,s=t.close,u=e.sliceDoc(n-50,n),l=e.sliceDoc(r,r+50),c=/\s*$/.exec(u)[0].length,h=/^\s*/.exec(l)[0].length,f=u.length-c;if(u.slice(f-a.length,f)==a&&l.slice(h,h+s.length)==s)return{open:{pos:n-c,margin:c&&1},close:{pos:r+h,margin:h&&1}};r-n<=100?i=o=e.sliceDoc(n,r):(i=e.sliceDoc(n,n+50),o=e.sliceDoc(r-50,r));var d=/^\s*/.exec(i)[0].length,p=/\s*$/.exec(o)[0].length,v=o.length-p-s.length;return i.slice(d,d+a.length)==a&&o.slice(v,v+s.length)==s?{open:{pos:n+d+a.length,margin:/\s/.test(i.charAt(d+a.length))?1:0},close:{pos:r-p-s.length,margin:/\s/.test(o.charAt(v-1))?1:0}}:null}(n,r[t],e.from,e.to)}));if(2!=e&&!i.every((function(e){return e}))){var o=0;return n.changeByRange((function(e){var t=r[o++],n=t.open,a=t.close;if(i[o])return{range:e};var s=n.length+1;return{changes:[{from:e.from,insert:n+" "},{from:e.to,insert:" "+a}],range:dO.jT.range(e.anchor+s,e.head+s)}}))}if(1!=e&&i.some((function(e){return e}))){for(var a,s=[],u=0;u<i.length;u++)if(a=i[u]){var l=r[u],c=a,h=c.open,f=c.close;s.push({from:h.pos-l.open.length,to:h.pos+h.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:s}}return null}function vS(e,t,n){var r,i=[],o=-1,a=(0,O.Z)(t);try{for(a.s();!(r=a.n()).done;){for(var s=r.value,u=s.from,l=s.to,c=i.length,h=1e9,f=u;f<=l;){var d=n.doc.lineAt(f);if(d.from>o&&(u==l||l>d.from)){o=d.from;var p=dS(n,f).line;if(!p)continue;var v=/^\s*/.exec(d.text)[0].length,m=v==d.length,g=d.text.slice(v,v+p.length)==p?v:-1;v<d.text.length&&v<h&&(h=v),i.push({line:d,comment:g,token:p,indent:v,empty:m,single:!1})}f=d.to+1}if(h<1e9)for(var y=c;y<i.length;y++)i[y].indent<i[y].line.text.length&&(i[y].indent=h);i.length==c+1&&(i[c].single=!0)}}catch(N){a.e(N)}finally{a.f()}if(2!=e&&i.some((function(e){return e.comment<0&&(!e.empty||e.single)}))){var b,x=[],w=(0,O.Z)(i);try{for(w.s();!(b=w.n()).done;){var k=b.value,S=k.line,_=k.token,T=k.indent,M=k.empty;!k.single&&M||x.push({from:S.from+T,insert:_+" "})}}catch(N){w.e(N)}finally{w.f()}var E=n.changes(x);return{changes:E,selection:n.selection.map(E,1)}}if(1!=e&&i.some((function(e){return e.comment>=0}))){var P,C=[],A=(0,O.Z)(i);try{for(A.s();!(P=A.n()).done;){var R=P.value,L=R.line,Q=R.comment,D=R.token;if(Q>=0){var Z=L.from+Q,I=Z+D.length;" "==L.text[I-L.from]&&I++,C.push({from:Z,to:I})}}}catch(N){A.e(N)}finally{A.f()}return{changes:C}}return null}var mS=2e3;function gS(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,o=i>mS?-1:i==r.length?function(e,t){var n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):(0,_x.IS)(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function yS(e,t){var n=gS(e,t),r=e.state.selection;return n?{update:function(e){if(e.docChanged){var t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(e.changes)}},get:function(t,i,o){var a=gS(e,t);if(!a)return r;var s=function(e,t,n){var r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),o=[];if(t.off>mS||n.off>mS||t.col<0||n.col<0)for(var a=Math.min(t.off,n.off),s=Math.max(t.off,n.off),u=r;u<=i;u++){var l=e.doc.line(u);l.length<=s&&o.push(dO.jT.range(l.from+a,l.to+s))}else for(var c=Math.min(t.col,n.col),h=Math.max(t.col,n.col),f=r;f<=i;f++){var d=e.doc.line(f),p=(0,_x.Gz)(d.text,c,e.tabSize,!0);if(p>-1){var v=(0,_x.Gz)(d.text,h,e.tabSize);o.push(dO.jT.range(d.from+p,d.from+v))}}return o}(e.state,n,a);return s.length?o?dO.jT.create(s.concat(r.ranges)):dO.jT.create(s):r}}:null}function bS(e){var t=(null===e||void 0===e?void 0:e.eventFilter)||function(e){return e.altKey&&0==e.button};return fO.tk.mouseSelectionStyle.of((function(e,n){return t(n)?yS(e,n):null}))}var OS=n(27),xS=n(204),wS=(0,A.Z)((function e(t,n,r){(0,C.Z)(this,e),this.from=t,this.to=n,this.diagnostic=r})),kS=function(){function e(t,n,r){(0,C.Z)(this,e),this.diagnostics=t,this.panel=n,this.selected=r}return(0,A.Z)(e,null,[{key:"init",value:function(t,n,r){var i=fO.p.set(t.map((function(e){return e.from==e.to||e.from==e.to-1&&r.doc.lineAt(e.from).to==e.from?fO.p.widget({widget:new IS(e),diagnostic:e}).range(e.from):fO.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to)})),!0);return new e(i,n,SS(i))}}]),e}();function SS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;return e.between(n,1e9,(function(e,n,i){var o=i.spec;if(!t||o.diagnostic==t)return r=new wS(e,n,o.diagnostic),!1})),r}function _S(e,t){return e.field(PS,!1)?t:t.concat(dO.Py.appendConfig.of([PS,fO.tk.decorations.compute([PS],(function(e){var t=e.field(PS),n=t.selected,r=t.panel;return n&&r&&n.from!=n.to?fO.p.set([CS.range(n.from,n.to)]):fO.p.none})),(0,xS.bF)(AS),BS]))}var TS=dO.Py.define(),MS=dO.Py.define(),ES=dO.Py.define(),PS=dO.QQ.define({create:function(){return new kS(fO.p.none,null,null)},update:function(e,t){if(t.docChanged){var n=e.diagnostics.map(t.changes),r=null;if(e.selected){var i=t.changes.mapPos(e.selected.from,1);r=SS(n,e.selected.diagnostic,i)||SS(n,null,i)}e=new kS(n,e.panel,r)}var o,a=(0,O.Z)(t.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.is(TS)?e=kS.init(s.value,e.panel,t.state):s.is(MS)?e=new kS(e.diagnostics,s.value?zS.open:null,e.selected):s.is(ES)&&(e=new kS(e.diagnostics,e.panel,s.value))}}catch(u){a.e(u)}finally{a.f()}return e},provide:function(e){return[hk.from(e,(function(e){return e.panel})),fO.tk.decorations.from(e,(function(e){return e.diagnostics}))]}});var CS=fO.p.mark({class:"cm-lintRange cm-lintRange-active"});function AS(e,t,n){var r=e.state.field(PS).diagnostics,i=[],o=2e8,a=0;return r.between(t-(n<0?1:0),t+(n>0?1:0),(function(e,r,s){var u=s.spec;t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0))&&(i.push(u.diagnostic),o=Math.min(e,o),a=Math.max(r,a))})),i.length?{pos:o,end:a,above:e.state.doc.lineAt(o).to<a,create:function(){return{dom:RS(e,i)}}}:null}function RS(e,t){return fk("ul",{class:"cm-tooltip-lint"},t.map((function(t){return ZS(e,t,!1)})))}var LS=function(e){var t=e.state.field(PS,!1);return!(!t||!t.panel)&&(e.dispatch({effects:MS.of(!1)}),!0)},QS=[{key:"Mod-Shift-m",run:function(e){var t=e.state.field(PS,!1);t&&t.panel||e.dispatch({effects:_S(e.state,[MS.of(!0)])});var n=ak(e,zS.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:function(e){var t=e.state.field(PS,!1);if(!t)return!1;var n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(!(r=t.diagnostics.iter(0)).value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}];function DS(e){var t=[];if(e){var n,r=(0,O.Z)(e);try{e:for(r.s();!(n=r.n()).done;){for(var i=n.value.name,o=function(e){var n=i[e];if(/[a-zA-Z]/.test(n)&&!t.some((function(e){return e.toLowerCase()==n.toLowerCase()})))return t.push(n),"continue|actions"},a=0;a<i.length;a++){if("continue|actions"===o(a))continue e}t.push("")}}catch(s){r.e(s)}finally{r.f()}}return t}function ZS(e,t,n){var r,i=n?DS(t.actions):[];return fk("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},fk("span",{class:"cm-diagnosticText"},t.message),null===(r=t.actions)||void 0===r?void 0:r.map((function(n,r){var o=function(r){r.preventDefault();var i=SS(e.state.field(PS).diagnostics,t);i&&n.apply(e,i.from,i.to)},a=n.name,s=i[r]?a.indexOf(i[r]):-1,u=s<0?a:[a.slice(0,s),fk("u",a.slice(s,s+1)),a.slice(s+1)];return fk("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":" Action: ".concat(a).concat(s<0?"":' (access key "'.concat(i[r],')"'),".")},u)})),t.source&&fk("div",{class:"cm-diagnosticSource"},t.source))}var IS=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;return(0,C.Z)(this,n),(r=t.call(this)).diagnostic=e,r}return(0,A.Z)(n,[{key:"eq",value:function(e){return e.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return fk("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]),n}(fO.l9),NS=(0,A.Z)((function e(t,n){(0,C.Z)(this,e),this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=ZS(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")})),zS=function(){function e(t){var n=this;(0,C.Z)(this,e),this.view=t,this.items=[];this.list=fk("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(e){if(27==e.keyCode)LS(n.view),n.view.focus();else if(38==e.keyCode||33==e.keyCode)n.moveSelection((n.selectedIndex-1+n.items.length)%n.items.length);else if(40==e.keyCode||34==e.keyCode)n.moveSelection((n.selectedIndex+1)%n.items.length);else if(36==e.keyCode)n.moveSelection(0);else if(35==e.keyCode)n.moveSelection(n.items.length-1);else if(13==e.keyCode)n.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&n.selectedIndex>=0))return;for(var r=n.items[n.selectedIndex].diagnostic,i=DS(r.actions),o=0;o<i.length;o++)if(i[o].toUpperCase().charCodeAt(0)==e.keyCode){var a=SS(n.view.state.field(PS).diagnostics,r);a&&r.actions[o].apply(t,a.from,a.to)}}e.preventDefault()},onclick:function(e){for(var t=0;t<n.items.length;t++)n.items[t].dom.contains(e.target)&&n.moveSelection(t)}}),this.dom=fk("div",{class:"cm-panel-lint"},this.list,fk("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return LS(n.view)}},"\xd7")),this.update()}return(0,A.Z)(e,[{key:"selectedIndex",get:function(){var e=this.view.state.field(PS).selected;if(!e)return-1;for(var t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}},{key:"update",value:function(){var e=this,t=this.view.state.field(PS),n=t.diagnostics,r=t.selected,i=0,o=!1,a=null;for(n.between(0,this.view.state.doc.length,(function(t,n,s){for(var u,l=s.spec,c=-1,h=i;h<e.items.length;h++)if(e.items[h].diagnostic==l.diagnostic){c=h;break}c<0?(u=new NS(e.view,l.diagnostic),e.items.splice(i,0,u),o=!0):(u=e.items[c],c>i&&(e.items.splice(i,c-i),o=!0)),r&&u.diagnostic==r.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),a=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();0==this.items.length&&(this.items.push(new NS(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:function(){return{sel:a.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(t){var n=t.sel,r=t.panel;n.top<r.top?e.list.scrollTop-=r.top-n.top:n.bottom>r.bottom&&(e.list.scrollTop+=n.bottom-r.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function t(){var t=e;e=t.nextSibling,t.remove()}var n,r=(0,O.Z)(this.items);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e)}}catch(o){r.e(o)}finally{r.f()}for(;e;)t()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var t=SS(this.view.state.field(PS).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:ES.of(t)})}}}],[{key:"open",value:function(t){return new e(t)}}]),e}();function jS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"';return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(t,">").concat(encodeURIComponent(e),"</svg>')")}function WS(e){return jS('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(e,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var BS=fO.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:WS("#d11")},".cm-lintRange-warning":{backgroundImage:WS("orange")},".cm-lintRange-info":{backgroundImage:WS("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var FS=[rx(),sx(),(0,fO.AE)(),bO(),kx(),(0,fO.Uw)(),(0,fO.qr)(),dO.yy.allowMultipleSelections.of(!0),(0,ZO.nY)(),OS.R_.fallback,Dx(),Hw(),(0,uS.ys)(),bS(),(0,fO.ZO)(),Ek(),fO.$f.of([].concat((0,Jp.Z)(Jw),(0,Jp.Z)(jw),(0,Jp.Z)(tS),(0,Jp.Z)(DO),(0,Jp.Z)(mx),(0,Jp.Z)(fS),(0,Jp.Z)(uS.B1),(0,Jp.Z)(QS)))],$S="#e06c75",VS="#abb2bf",US="#7d8799",HS="#d19a66",GS="#2c313a",qS="#282c34",XS="#353a42",YS="#528bff",JS=[fO.tk.theme({"&":{color:VS,backgroundColor:qS},".cm-content":{caretColor:YS},"&.cm-focused .cm-cursor":{borderLeftColor:YS},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#3E4451"},".cm-panels":{backgroundColor:"#21252b",color:VS},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:GS},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:qS,color:US,border:"none"},".cm-activeLineGutter":{backgroundColor:GS},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:XS},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:XS,borderBottomColor:XS},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:GS,color:VS}}},{dark:!0}),OS.Qf.define([{tag:OS.pJ.keyword,color:"#c678dd"},{tag:[OS.pJ.name,OS.pJ.deleted,OS.pJ.character,OS.pJ.propertyName,OS.pJ.macroName],color:$S},{tag:[OS.pJ.function(OS.pJ.variableName),OS.pJ.labelName],color:"#61afef"},{tag:[OS.pJ.color,OS.pJ.constant(OS.pJ.name),OS.pJ.standard(OS.pJ.name)],color:HS},{tag:[OS.pJ.definition(OS.pJ.name),OS.pJ.separator],color:VS},{tag:[OS.pJ.typeName,OS.pJ.className,OS.pJ.number,OS.pJ.changed,OS.pJ.annotation,OS.pJ.modifier,OS.pJ.self,OS.pJ.namespace],color:"#e5c07b"},{tag:[OS.pJ.operator,OS.pJ.operatorKeyword,OS.pJ.url,OS.pJ.escape,OS.pJ.regexp,OS.pJ.link,OS.pJ.special(OS.pJ.string)],color:"#56b6c2"},{tag:[OS.pJ.meta,OS.pJ.comment],color:US},{tag:OS.pJ.strong,fontWeight:"bold"},{tag:OS.pJ.emphasis,fontStyle:"italic"},{tag:OS.pJ.strikethrough,textDecoration:"line-through"},{tag:OS.pJ.link,color:US,textDecoration:"underline"},{tag:OS.pJ.heading,fontWeight:"bold",color:$S},{tag:[OS.pJ.atom,OS.pJ.bool,OS.pJ.special(OS.pJ.variableName)],color:HS},{tag:[OS.pJ.processingInstruction,OS.pJ.string,OS.pJ.inserted],color:"#98c379"},{tag:OS.pJ.invalid,color:"#ffffff"}])],KS=fO.tk.theme({"&":{backgroundColor:"#fff"}},{dark:!1});var e_=["className","value","selection","extensions","onChange","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","root"],t_=e.forwardRef((function(t,n){var r=t.className,i=t.value,o=void 0===i?"":i,a=t.selection,s=t.extensions,u=void 0===s?[]:s,l=t.onChange,c=t.onUpdate,h=t.autoFocus,f=t.theme,d=void 0===f?"light":f,p=t.height,v=t.minHeight,m=t.maxHeight,g=t.width,y=t.minWidth,b=t.maxWidth,O=t.basicSetup,x=t.placeholder,k=t.indentWithTab,S=t.editable,_=t.root,T=Np(t,e_),M=(0,e.useRef)(null),E=function(t){var n=t.value,r=t.selection,i=t.onChange,o=t.onUpdate,a=t.extensions,s=void 0===a?[]:a,u=t.autoFocus,l=t.theme,c=void 0===l?"light":l,h=t.height,f=void 0===h?"":h,d=t.minHeight,p=void 0===d?"":d,v=t.maxHeight,m=void 0===v?"":v,g=t.placeholder,y=void 0===g?"":g,b=t.width,O=void 0===b?"":b,x=t.minWidth,k=void 0===x?"":x,S=t.maxWidth,_=void 0===S?"":S,T=t.editable,M=void 0===T||T,E=t.indentWithTab,P=void 0===E||E,C=t.basicSetup,A=void 0===C||C,R=t.root,L=(0,e.useState)(t.container),Q=(0,w.Z)(L,2),D=Q[0],Z=Q[1],I=(0,e.useState)(),N=(0,w.Z)(I,2),z=N[0],j=N[1],W=(0,e.useState)(),B=(0,w.Z)(W,2),F=B[0],$=B[1],V=fO.tk.theme({"&":{height:f,minHeight:p,maxHeight:m,width:O,minWidth:k,maxWidth:_}}),U=[fO.tk.updateListener.of((function(e){if(e.docChanged&&"function"===typeof i){var t=e.state.doc.toString();i(t,e)}})),V];switch(P&&U.unshift(fO.$f.of([Ww])),A&&U.unshift(FS),y&&U.unshift((0,fO.W$)(y)),c){case"light":U.push(KS);break;case"dark":U.push(JS);break;default:U.push(c)}return!1===M&&U.push(fO.tk.editable.of(!1)),o&&"function"===typeof o&&U.push(fO.tk.updateListener.of(o)),U=U.concat(s),(0,e.useEffect)((function(){if(D&&!F){var e=dO.yy.create({doc:n,selection:r,extensions:U});if($(e),!z){var t=new fO.tk({state:e,parent:D,root:R});j(t)}}}),[D,F]),(0,e.useEffect)((function(){return function(){z&&z.destroy()}}),[z]),(0,e.useEffect)((function(){if(z){var e=z.state.doc.toString();n!==e&&z.dispatch({changes:{from:0,to:e.length,insert:n||""}})}}),[n,z]),(0,e.useEffect)((function(){z&&z.dispatch({effects:dO.Py.reconfigure.of(U)})}),[c,s,y,f,p,m,O,k,_,M,P,A]),(0,e.useEffect)((function(){u&&z&&z.focus()}),[u,z]),{state:F,setState:$,view:z,setView:j,container:D,setContainer:Z}}({container:M.current,root:_,value:o,autoFocus:h,theme:d,height:p,minHeight:v,maxHeight:m,width:g,minWidth:y,maxWidth:b,basicSetup:O,placeholder:x,indentWithTab:k,editable:S,selection:a,onChange:l,onUpdate:c,extensions:u}),P=E.state,C=E.view,A=E.container,R=E.setContainer;if((0,e.useImperativeHandle)(n,(function(){return{editor:A,state:P,view:C}}),[A,P,C]),(0,e.useEffect)((function(){return R(M.current),function(){C&&C.destroy()}}),[]),"string"!==typeof o)throw new Error("value must be typeof string but got "+typeof o);var L="string"===typeof d?"cm-theme-"+d:"cm-theme";return(0,qp.jsx)("div",Od({ref:M,className:L+(r?" "+r:"")},T))}));t_.displayName="CodeMirror";var n_=t_,r_=n(5798);function i_(e){return n.e(9461).then(n.bind(n,9461)).then((function(t){return new ZO.ri(t.StreamLanguage.define(e))}))}function o_(e){return n.e(1983).then(n.bind(n,1983)).then((function(t){return t.sql({dialect:t[e]})}))}var a_=[ZO.c6.of({name:"C",extensions:["c","h","ino"],load:function(){return n.e(2355).then(n.bind(n,2355)).then((function(e){return e.cpp()}))}}),ZO.c6.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load:function(){return n.e(2355).then(n.bind(n,2355)).then((function(e){return e.cpp()}))}}),ZO.c6.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load:function(){return o_("Cassandra")}}),ZO.c6.of({name:"CSS",extensions:["css"],load:function(){return Promise.resolve().then(n.bind(n,3121)).then((function(e){return e.css()}))}}),ZO.c6.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load:function(){return Promise.resolve().then(n.bind(n,1679)).then((function(e){return e.html()}))}}),ZO.c6.of({name:"Java",extensions:["java"],load:function(){return n.e(8625).then(n.bind(n,8625)).then((function(e){return e.java()}))}}),ZO.c6.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load:function(){return Promise.resolve().then(n.bind(n,9211)).then((function(e){return e.javascript()}))}}),ZO.c6.of({name:"JSON",alias:["json5"],extensions:["json","map"],load:function(){return n.e(1972).then(n.bind(n,1972)).then((function(e){return e.json()}))}}),ZO.c6.of({name:"JSX",extensions:["jsx"],load:function(){return Promise.resolve().then(n.bind(n,9211)).then((function(e){return e.javascript({jsx:!0})}))}}),ZO.c6.of({name:"MariaDB SQL",load:function(){return o_("MariaSQL")}}),ZO.c6.of({name:"Markdown",extensions:["md","markdown","mkd"],load:function(){return Promise.resolve().then(n.bind(n,5798)).then((function(e){return e.markdown()}))}}),ZO.c6.of({name:"MS SQL",load:function(){return o_("MSSQL")}}),ZO.c6.of({name:"MySQL",load:function(){return o_("MySQL")}}),ZO.c6.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load:function(){return n.e(2757).then(n.bind(n,2757)).then((function(e){return e.php()}))}}),ZO.c6.of({name:"PLSQL",extensions:["pls"],load:function(){return o_("PLSQL")}}),ZO.c6.of({name:"PostgreSQL",load:function(){return o_("PostgreSQL")}}),ZO.c6.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load:function(){return n.e(6928).then(n.bind(n,6928)).then((function(e){return e.python()}))}}),ZO.c6.of({name:"Rust",extensions:["rs"],load:function(){return n.e(2368).then(n.bind(n,2368)).then((function(e){return e.rust()}))}}),ZO.c6.of({name:"SQL",extensions:["sql"],load:function(){return o_("StandardSQL")}}),ZO.c6.of({name:"SQLite",load:function(){return o_("SQLite")}}),ZO.c6.of({name:"TSX",extensions:["tsx"],load:function(){return Promise.resolve().then(n.bind(n,9211)).then((function(e){return e.javascript({jsx:!0,typescript:!0})}))}}),ZO.c6.of({name:"TypeScript",alias:["ts"],extensions:["ts"],load:function(){return Promise.resolve().then(n.bind(n,9211)).then((function(e){return e.javascript({typescript:!0})}))}}),ZO.c6.of({name:"WebAssembly",extensions:["wat","wast"],load:function(){return n.e(2412).then(n.bind(n,2412)).then((function(e){return e.wast()}))}}),ZO.c6.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load:function(){return n.e(8181).then(n.bind(n,8181)).then((function(e){return e.xml()}))}}),ZO.c6.of({name:"APL",extensions:["dyalog","apl"],load:function(){return n.e(6658).then(n.bind(n,6658)).then((function(e){return i_(e.apl)}))}}),ZO.c6.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load:function(){return n.e(7080).then(n.bind(n,7080)).then((function(e){return i_(e.asciiArmor)}))}}),ZO.c6.of({name:"ASN.1",extensions:["asn","asn1"],load:function(){return n.e(379).then(n.bind(n,2808)).then((function(e){return i_(e.asn1({}))}))}}),ZO.c6.of({name:"Asterisk",filename:/^extensions\.conf$/i,load:function(){return n.e(7352).then(n.bind(n,7352)).then((function(e){return i_(e.asterisk)}))}}),ZO.c6.of({name:"Brainfuck",extensions:["b","bf"],load:function(){return n.e(7110).then(n.bind(n,7110)).then((function(e){return i_(e.brainfuck)}))}}),ZO.c6.of({name:"Cobol",extensions:["cob","cpy"],load:function(){return n.e(3113).then(n.bind(n,3113)).then((function(e){return i_(e.cobol)}))}}),ZO.c6.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load:function(){return n.e(1742).then(n.bind(n,1742)).then((function(e){return i_(e.csharp)}))}}),ZO.c6.of({name:"Clojure",extensions:["clj","cljc","cljx"],load:function(){return n.e(9921).then(n.bind(n,9921)).then((function(e){return i_(e.clojure)}))}}),ZO.c6.of({name:"ClojureScript",extensions:["cljs"],load:function(){return n.e(9921).then(n.bind(n,9921)).then((function(e){return i_(e.clojure)}))}}),ZO.c6.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load:function(){return n.e(6305).then(n.bind(n,6305)).then((function(e){return i_(e.gss)}))}}),ZO.c6.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load:function(){return n.e(7934).then(n.bind(n,7934)).then((function(e){return i_(e.cmake)}))}}),ZO.c6.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load:function(){return n.e(665).then(n.bind(n,665)).then((function(e){return i_(e.coffeeScript)}))}}),ZO.c6.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load:function(){return n.e(8471).then(n.bind(n,8471)).then((function(e){return i_(e.commonLisp)}))}}),ZO.c6.of({name:"Cypher",extensions:["cyp","cypher"],load:function(){return n.e(8850).then(n.bind(n,8850)).then((function(e){return i_(e.cypher)}))}}),ZO.c6.of({name:"Cython",extensions:["pyx","pxd","pxi"],load:function(){return n.e(8054).then(n.bind(n,8054)).then((function(e){return i_(e.cython)}))}}),ZO.c6.of({name:"Crystal",extensions:["cr"],load:function(){return n.e(5987).then(n.bind(n,5987)).then((function(e){return i_(e.crystal)}))}}),ZO.c6.of({name:"D",extensions:["d"],load:function(){return n.e(4042).then(n.bind(n,4042)).then((function(e){return i_(e.d)}))}}),ZO.c6.of({name:"Dart",extensions:["dart"],load:function(){return n.e(1742).then(n.bind(n,1742)).then((function(e){return i_(e.dart)}))}}),ZO.c6.of({name:"diff",extensions:["diff","patch"],load:function(){return n.e(6781).then(n.bind(n,6781)).then((function(e){return i_(e.diff)}))}}),ZO.c6.of({name:"Dockerfile",filename:/^Dockerfile$/,load:function(){return n.e(8456).then(n.bind(n,8456)).then((function(e){return i_(e.dockerFile)}))}}),ZO.c6.of({name:"DTD",extensions:["dtd"],load:function(){return n.e(3545).then(n.bind(n,3545)).then((function(e){return i_(e.dtd)}))}}),ZO.c6.of({name:"Dylan",extensions:["dylan","dyl","intr"],load:function(){return n.e(9150).then(n.bind(n,9150)).then((function(e){return i_(e.dylan)}))}}),ZO.c6.of({name:"EBNF",load:function(){return n.e(5266).then(n.bind(n,5266)).then((function(e){return i_(e.ebnf)}))}}),ZO.c6.of({name:"ECL",extensions:["ecl"],load:function(){return n.e(6678).then(n.bind(n,6678)).then((function(e){return i_(e.ecl)}))}}),ZO.c6.of({name:"edn",extensions:["edn"],load:function(){return n.e(9921).then(n.bind(n,9921)).then((function(e){return i_(e.clojure)}))}}),ZO.c6.of({name:"Eiffel",extensions:["e"],load:function(){return n.e(4341).then(n.bind(n,4341)).then((function(e){return i_(e.eiffel)}))}}),ZO.c6.of({name:"Elm",extensions:["elm"],load:function(){return n.e(5136).then(n.bind(n,5136)).then((function(e){return i_(e.elm)}))}}),ZO.c6.of({name:"Erlang",extensions:["erl"],load:function(){return n.e(1686).then(n.bind(n,1686)).then((function(e){return i_(e.erlang)}))}}),ZO.c6.of({name:"Esper",load:function(){return n.e(7482).then(n.bind(n,7482)).then((function(e){return i_(e.esper)}))}}),ZO.c6.of({name:"Factor",extensions:["factor"],load:function(){return n.e(7308).then(n.bind(n,7308)).then((function(e){return i_(e.factor)}))}}),ZO.c6.of({name:"FCL",load:function(){return n.e(6286).then(n.bind(n,6286)).then((function(e){return i_(e.fcl)}))}}),ZO.c6.of({name:"Forth",extensions:["forth","fth","4th"],load:function(){return n.e(5399).then(n.bind(n,5399)).then((function(e){return i_(e.forth)}))}}),ZO.c6.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load:function(){return n.e(4307).then(n.bind(n,4307)).then((function(e){return i_(e.fortran)}))}}),ZO.c6.of({name:"F#",alias:["fsharp"],extensions:["fs"],load:function(){return n.e(9975).then(n.bind(n,9975)).then((function(e){return i_(e.fSharp)}))}}),ZO.c6.of({name:"Gas",extensions:["s"],load:function(){return n.e(9616).then(n.bind(n,9616)).then((function(e){return i_(e.gas)}))}}),ZO.c6.of({name:"Gherkin",extensions:["feature"],load:function(){return n.e(3104).then(n.bind(n,3104)).then((function(e){return i_(e.gherkin)}))}}),ZO.c6.of({name:"Go",extensions:["go"],load:function(){return n.e(4267).then(n.bind(n,4267)).then((function(e){return i_(e.go)}))}}),ZO.c6.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load:function(){return n.e(4596).then(n.bind(n,4596)).then((function(e){return i_(e.groovy)}))}}),ZO.c6.of({name:"Haskell",extensions:["hs"],load:function(){return n.e(8377).then(n.bind(n,8377)).then((function(e){return i_(e.haskell)}))}}),ZO.c6.of({name:"Haxe",extensions:["hx"],load:function(){return n.e(1508).then(n.bind(n,1508)).then((function(e){return i_(e.haxe)}))}}),ZO.c6.of({name:"HXML",extensions:["hxml"],load:function(){return n.e(1508).then(n.bind(n,1508)).then((function(e){return i_(e.hxml)}))}}),ZO.c6.of({name:"HTTP",load:function(){return n.e(7299).then(n.bind(n,7299)).then((function(e){return i_(e.http)}))}}),ZO.c6.of({name:"IDL",extensions:["pro"],load:function(){return n.e(6178).then(n.bind(n,6178)).then((function(e){return i_(e.idl)}))}}),ZO.c6.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load:function(){return n.e(8545).then(n.bind(n,8545)).then((function(e){return i_(e.jsonld)}))}}),ZO.c6.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load:function(){return n.e(6967).then(n.bind(n,6967)).then((function(e){return i_(e.jinja2)}))}}),ZO.c6.of({name:"Julia",extensions:["jl"],load:function(){return n.e(2034).then(n.bind(n,2034)).then((function(e){return i_(e.julia)}))}}),ZO.c6.of({name:"Kotlin",extensions:["kt"],load:function(){return n.e(1742).then(n.bind(n,1742)).then((function(e){return i_(e.kotlin)}))}}),ZO.c6.of({name:"LESS",extensions:["less"],load:function(){return n.e(6305).then(n.bind(n,6305)).then((function(e){return i_(e.less)}))}}),ZO.c6.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load:function(){return n.e(8999).then(n.bind(n,8999)).then((function(e){return i_(e.liveScript)}))}}),ZO.c6.of({name:"Lua",extensions:["lua"],load:function(){return n.e(507).then(n.bind(n,507)).then((function(e){return i_(e.lua)}))}}),ZO.c6.of({name:"mIRC",load:function(){return n.e(6886).then(n.bind(n,6886)).then((function(e){return i_(e.mirc)}))}}),ZO.c6.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load:function(){return n.e(8751).then(n.bind(n,8751)).then((function(e){return i_(e.mathematica)}))}}),ZO.c6.of({name:"Modelica",extensions:["mo"],load:function(){return n.e(5448).then(n.bind(n,5448)).then((function(e){return i_(e.modelica)}))}}),ZO.c6.of({name:"MUMPS",extensions:["mps"],load:function(){return n.e(4322).then(n.bind(n,4322)).then((function(e){return i_(e.mumps)}))}}),ZO.c6.of({name:"mbox",extensions:["mbox"],load:function(){return n.e(2975).then(n.bind(n,2975)).then((function(e){return i_(e.mbox)}))}}),ZO.c6.of({name:"Nginx",filename:/nginx.*\.conf$/i,load:function(){return n.e(4325).then(n.bind(n,4325)).then((function(e){return i_(e.nginx)}))}}),ZO.c6.of({name:"NSIS",extensions:["nsh","nsi"],load:function(){return n.e(4510).then(n.bind(n,4510)).then((function(e){return i_(e.nsis)}))}}),ZO.c6.of({name:"NTriples",extensions:["nt","nq"],load:function(){return n.e(2458).then(n.bind(n,2458)).then((function(e){return i_(e.ntriples)}))}}),ZO.c6.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load:function(){return n.e(1742).then(n.bind(n,1742)).then((function(e){return i_(e.objectiveC)}))}}),ZO.c6.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load:function(){return n.e(1742).then(n.bind(n,1742)).then((function(e){return i_(e.objectiveCpp)}))}}),ZO.c6.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load:function(){return n.e(9975).then(n.bind(n,9975)).then((function(e){return i_(e.oCaml)}))}}),ZO.c6.of({name:"Octave",extensions:["m"],load:function(){return n.e(3037).then(n.bind(n,3037)).then((function(e){return i_(e.octave)}))}}),ZO.c6.of({name:"Oz",extensions:["oz"],load:function(){return n.e(6176).then(n.bind(n,6176)).then((function(e){return i_(e.oz)}))}}),ZO.c6.of({name:"Pascal",extensions:["p","pas"],load:function(){return n.e(9595).then(n.bind(n,9595)).then((function(e){return i_(e.pascal)}))}}),ZO.c6.of({name:"Perl",extensions:["pl","pm"],load:function(){return n.e(6525).then(n.bind(n,6525)).then((function(e){return i_(e.perl)}))}}),ZO.c6.of({name:"Pig",extensions:["pig"],load:function(){return n.e(9940).then(n.bind(n,9940)).then((function(e){return i_(e.pig)}))}}),ZO.c6.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load:function(){return n.e(5531).then(n.bind(n,5531)).then((function(e){return i_(e.powerShell)}))}}),ZO.c6.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load:function(){return n.e(8646).then(n.bind(n,8646)).then((function(e){return i_(e.properties)}))}}),ZO.c6.of({name:"ProtoBuf",extensions:["proto"],load:function(){return n.e(5709).then(n.bind(n,5709)).then((function(e){return i_(e.protobuf)}))}}),ZO.c6.of({name:"Puppet",extensions:["pp"],load:function(){return n.e(832).then(n.bind(n,832)).then((function(e){return i_(e.puppet)}))}}),ZO.c6.of({name:"Q",extensions:["q"],load:function(){return n.e(3928).then(n.bind(n,3928)).then((function(e){return i_(e.q)}))}}),ZO.c6.of({name:"R",alias:["rscript"],extensions:["r","R"],load:function(){return n.e(9892).then(n.bind(n,9892)).then((function(e){return i_(e.r)}))}}),ZO.c6.of({name:"RPM Changes",load:function(){return n.e(8311).then(n.bind(n,8311)).then((function(e){return i_(e.rpmChanges)}))}}),ZO.c6.of({name:"RPM Spec",extensions:["spec"],load:function(){return n.e(8311).then(n.bind(n,8311)).then((function(e){return i_(e.rpmSpec)}))}}),ZO.c6.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],load:function(){return n.e(2534).then(n.bind(n,2534)).then((function(e){return i_(e.ruby)}))}}),ZO.c6.of({name:"SAS",extensions:["sas"],load:function(){return n.e(5312).then(n.bind(n,5312)).then((function(e){return i_(e.sas)}))}}),ZO.c6.of({name:"Scala",extensions:["scala"],load:function(){return n.e(1742).then(n.bind(n,1742)).then((function(e){return i_(e.scala)}))}}),ZO.c6.of({name:"Scheme",extensions:["scm","ss"],load:function(){return n.e(3905).then(n.bind(n,3905)).then((function(e){return i_(e.scheme)}))}}),ZO.c6.of({name:"SCSS",extensions:["scss"],load:function(){return n.e(6305).then(n.bind(n,6305)).then((function(e){return i_(e.sCSS)}))}}),ZO.c6.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load:function(){return n.e(1100).then(n.bind(n,1100)).then((function(e){return i_(e.shell)}))}}),ZO.c6.of({name:"Sieve",extensions:["siv","sieve"],load:function(){return n.e(8198).then(n.bind(n,8198)).then((function(e){return i_(e.sieve)}))}}),ZO.c6.of({name:"Smalltalk",extensions:["st"],load:function(){return n.e(3093).then(n.bind(n,3093)).then((function(e){return i_(e.smalltalk)}))}}),ZO.c6.of({name:"Solr",load:function(){return n.e(482).then(n.bind(n,482)).then((function(e){return i_(e.solr)}))}}),ZO.c6.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load:function(){return n.e(9975).then(n.bind(n,9975)).then((function(e){return i_(e.sml)}))}}),ZO.c6.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load:function(){return n.e(6951).then(n.bind(n,6951)).then((function(e){return i_(e.sparql)}))}}),ZO.c6.of({name:"Spreadsheet",alias:["excel","formula"],load:function(){return n.e(7386).then(n.bind(n,7386)).then((function(e){return i_(e.spreadsheet)}))}}),ZO.c6.of({name:"SQL",extensions:["sql"],load:function(){return n.e(7482).then(n.bind(n,7482)).then((function(e){return i_(e.standardSQL)}))}}),ZO.c6.of({name:"SQLite",load:function(){return n.e(7482).then(n.bind(n,7482)).then((function(e){return i_(e.sqlite)}))}}),ZO.c6.of({name:"Squirrel",extensions:["nut"],load:function(){return n.e(1742).then(n.bind(n,1742)).then((function(e){return i_(e.squirrel)}))}}),ZO.c6.of({name:"Stylus",extensions:["styl"],load:function(){return n.e(5565).then(n.bind(n,5565)).then((function(e){return i_(e.stylus)}))}}),ZO.c6.of({name:"Swift",extensions:["swift"],load:function(){return n.e(3713).then(n.bind(n,3713)).then((function(e){return i_(e.swift)}))}}),ZO.c6.of({name:"sTeX",load:function(){return n.e(6633).then(n.bind(n,6633)).then((function(e){return i_(e.stex)}))}}),ZO.c6.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load:function(){return n.e(6633).then(n.bind(n,6633)).then((function(e){return i_(e.stex)}))}}),ZO.c6.of({name:"SystemVerilog",extensions:["v","sv","svh"],load:function(){return n.e(6066).then(n.bind(n,6066)).then((function(e){return i_(e.verilog)}))}}),ZO.c6.of({name:"Tcl",extensions:["tcl"],load:function(){return n.e(7798).then(n.bind(n,7798)).then((function(e){return i_(e.tcl)}))}}),ZO.c6.of({name:"Textile",extensions:["textile"],load:function(){return n.e(4637).then(n.bind(n,4637)).then((function(e){return i_(e.textile)}))}}),ZO.c6.of({name:"TiddlyWiki",load:function(){return n.e(27).then(n.bind(n,2095)).then((function(e){return i_(e.tiddlyWiki)}))}}),ZO.c6.of({name:"Tiki wiki",load:function(){return n.e(9738).then(n.bind(n,9738)).then((function(e){return i_(e.tiki)}))}}),ZO.c6.of({name:"TOML",extensions:["toml"],load:function(){return n.e(1553).then(n.bind(n,1553)).then((function(e){return i_(e.toml)}))}}),ZO.c6.of({name:"troff",extensions:["1","2","3","4","5","6","7","8","9"],load:function(){return n.e(1736).then(n.bind(n,1736)).then((function(e){return i_(e.troff)}))}}),ZO.c6.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load:function(){return n.e(3691).then(n.bind(n,3691)).then((function(e){return i_(e.ttcn)}))}}),ZO.c6.of({name:"TTCN_CFG",extensions:["cfg"],load:function(){return n.e(9997).then(n.bind(n,9997)).then((function(e){return i_(e.ttcnCfg)}))}}),ZO.c6.of({name:"Turtle",extensions:["ttl"],load:function(){return n.e(2568).then(n.bind(n,2568)).then((function(e){return i_(e.turtle)}))}}),ZO.c6.of({name:"Web IDL",extensions:["webidl"],load:function(){return n.e(1586).then(n.bind(n,1586)).then((function(e){return i_(e.webIDL)}))}}),ZO.c6.of({name:"VB.NET",extensions:["vb"],load:function(){return n.e(247).then(n.bind(n,247)).then((function(e){return i_(e.vb)}))}}),ZO.c6.of({name:"VBScript",extensions:["vbs"],load:function(){return n.e(9427).then(n.bind(n,9427)).then((function(e){return i_(e.vbScript)}))}}),ZO.c6.of({name:"Velocity",extensions:["vtl"],load:function(){return n.e(1003).then(n.bind(n,1003)).then((function(e){return i_(e.velocity)}))}}),ZO.c6.of({name:"Verilog",extensions:["v"],load:function(){return n.e(6066).then(n.bind(n,6066)).then((function(e){return i_(e.verilog)}))}}),ZO.c6.of({name:"VHDL",extensions:["vhd","vhdl"],load:function(){return n.e(1198).then(n.bind(n,1198)).then((function(e){return i_(e.vhdl)}))}}),ZO.c6.of({name:"XQuery",extensions:["xy","xquery"],load:function(){return n.e(3464).then(n.bind(n,3464)).then((function(e){return i_(e.xQuery)}))}}),ZO.c6.of({name:"Yacas",extensions:["ys"],load:function(){return n.e(9969).then(n.bind(n,9969)).then((function(e){return i_(e.yacas)}))}}),ZO.c6.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load:function(){return n.e(745).then(n.bind(n,745)).then((function(e){return i_(e.yaml)}))}}),ZO.c6.of({name:"Z80",extensions:["z80"],load:function(){return n.e(8430).then(n.bind(n,8430)).then((function(e){return i_(e.z80)}))}}),ZO.c6.of({name:"mscgen",extensions:["mscgen","mscin","msc"],load:function(){return n.e(8222).then(n.bind(n,8222)).then((function(e){return i_(e.mscgen)}))}}),ZO.c6.of({name:"xu",extensions:["xu"],load:function(){return n.e(8222).then(n.bind(n,8222)).then((function(e){return i_(e.xu)}))}}),ZO.c6.of({name:"msgenny",extensions:["msgenny"],load:function(){return n.e(8222).then(n.bind(n,8222)).then((function(e){return i_(e.msgenny)}))}})],s_=n(3878),u_=n(9199),l_=n(181),c_=n(5267);n(7441);function h_(e){return Up("MuiCollapse",e)}Hp("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var f_=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],d_=nb("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return Od({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&Od({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),p_=nb("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(e,t){return t.wrapper}})((function(e){return Od({display:"flex",width:"100%"},"horizontal"===e.ownerState.orientation&&{width:"auto",height:"100%"})})),v_=nb("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(e,t){return t.wrapperInner}})((function(e){return Od({width:"100%"},"horizontal"===e.ownerState.orientation&&{width:"auto",height:"100%"})})),m_=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiCollapse"}),i=r.addEndListener,o=r.children,a=r.className,s=r.collapsedSize,u=void 0===s?"0px":s,l=r.component,c=r.easing,h=r.in,f=r.onEnter,d=r.onEntered,p=r.onEntering,v=r.onExit,m=r.onExited,g=r.onExiting,y=r.orientation,b=void 0===y?"vertical":y,O=r.style,w=r.timeout,k=void 0===w?$y.standard:w,S=r.TransitionComponent,_=void 0===S?Ob:S,T=Np(r,f_),M=Od({},r,{orientation:b,collapsedSize:u}),E=function(e){var t=e.orientation,n=e.classes;return Bp({root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]},h_,n)}(M),P=xb(),C=e.useRef(),A=e.useRef(null),R=e.useRef(),L="number"===typeof u?"".concat(u,"px"):u,Q="horizontal"===b,D=Q?"width":"height";e.useEffect((function(){return function(){clearTimeout(C.current)}}),[]);var Z=e.useRef(null),I=Tb(n,Z),N=function(e){return function(t){if(e){var n=Z.current;void 0===t?e(n):e(n,t)}}},z=function(){return A.current?A.current[Q?"clientWidth":"clientHeight"]:0},j=N((function(e,t){A.current&&Q&&(A.current.style.position="absolute"),e.style[D]=L,f&&f(e,t)})),W=N((function(e,t){var n=z();A.current&&Q&&(A.current.style.position="");var r=kb({style:O,timeout:k,easing:c},{mode:"enter"}),i=r.duration,o=r.easing;if("auto"===k){var a=P.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(a,"ms"),R.current=a}else e.style.transitionDuration="string"===typeof i?i:"".concat(i,"ms");e.style[D]="".concat(n,"px"),e.style.transitionTimingFunction=o,p&&p(e,t)})),B=N((function(e,t){e.style[D]="auto",d&&d(e,t)})),F=N((function(e){e.style[D]="".concat(z(),"px"),v&&v(e)})),$=N(m),V=N((function(e){var t=z(),n=kb({style:O,timeout:k,easing:c},{mode:"exit"}),r=n.duration,i=n.easing;if("auto"===k){var o=P.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(o,"ms"),R.current=o}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style[D]=L,e.style.transitionTimingFunction=i,g&&g(e)}));return(0,qp.jsx)(_,Od({in:h,onEnter:j,onEntered:B,onEntering:W,onExit:F,onExited:$,onExiting:V,addEndListener:function(e){"auto"===k&&(C.current=setTimeout(e,R.current||0)),i&&i(Z.current,e)},nodeRef:Z,timeout:"auto"===k?null:k},T,{children:function(e,t){return(0,qp.jsx)(d_,Od({as:l,className:Wp(E.root,a,{entered:E.entered,exited:!h&&"0px"===L&&E.hidden}[e]),style:Od((0,x.Z)({},Q?"minWidth":"minHeight",L),O),ownerState:Od({},M,{state:e}),ref:I},t,{children:(0,qp.jsx)(p_,{ownerState:Od({},M,{state:e}),className:E.wrapper,ref:A,children:(0,qp.jsx)(v_,{ownerState:Od({},M,{state:e}),className:E.wrapperInner,children:o})})}))}}))}));m_.muiSupportAuto=!0;var g_=m_;function y_(e){return Up("MuiPaper",e)}Hp("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var b_=["className","component","elevation","square","variant"],O_=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},x_=nb("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return Od({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&Od({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(Oy("#fff",O_(n.elevation)),", ").concat(Oy("#fff",O_(n.elevation)),")")}))})),w_=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiPaper"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=n.elevation,s=void 0===a?1:a,u=n.square,l=void 0!==u&&u,c=n.variant,h=void 0===c?"elevation":c,f=Np(n,b_),d=Od({},n,{component:o,elevation:s,square:l,variant:h}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return Bp({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},y_,i)}(d);return(0,qp.jsx)(x_,Od({as:o,ownerState:d,className:Wp(p.root,r),ref:t},f))}));var k_=e.createContext({});function S_(t){var n=t.controlled,r=t.default,i=(t.name,t.state,e.useRef(void 0!==n).current),o=e.useState(r),a=(0,w.Z)(o,2),s=a[0],u=a[1];return[i?n:s,e.useCallback((function(e){i||u(e)}),[])]}var __=S_;function T_(e){return Up("MuiAccordion",e)}var M_,E_=Hp("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),P_=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],C_=nb(w_,{name:"MuiAccordion",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,x.Z)({},"& .".concat(E_.region),t.region),t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r={duration:n.transitions.duration.shortest};return t={position:"relative",transition:n.transitions.create(["margin"],r),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:n.palette.divider,transition:n.transitions.create(["opacity","background-color"],r)},"&:first-of-type":{"&:before":{display:"none"}}},(0,x.Z)(t,"&.".concat(E_.expanded),{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}}),(0,x.Z)(t,"&.".concat(E_.disabled),{backgroundColor:n.palette.action.disabledBackground}),t}),(function(e){var t=e.theme,n=e.ownerState;return Od({},!n.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:t.shape.borderRadius,borderBottomRightRadius:t.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!n.disableGutters&&(0,x.Z)({},"&.".concat(E_.expanded),{margin:"16px 0"}))})),A_=e.forwardRef((function(t,n){var r,i=cb({props:t,name:"MuiAccordion"}),o=i.children,a=i.className,s=i.defaultExpanded,u=void 0!==s&&s,l=i.disabled,c=void 0!==l&&l,h=i.disableGutters,f=void 0!==h&&h,d=i.expanded,p=i.onChange,v=i.square,m=void 0!==v&&v,g=i.TransitionComponent,y=void 0===g?g_:g,b=i.TransitionProps,O=Np(i,P_),x=__({controlled:d,default:u,name:"Accordion",state:"expanded"}),k=(0,w.Z)(x,2),S=k[0],_=k[1],T=e.useCallback((function(e){_(!S),p&&p(e,!S)}),[S,p,_]),M=e.Children.toArray(o),E=(r=M,(0,s_.Z)(r)||(0,u_.Z)(r)||(0,l_.Z)(r)||(0,c_.Z)()),P=E[0],C=E.slice(1),A=e.useMemo((function(){return{expanded:S,disabled:c,disableGutters:f,toggle:T}}),[S,c,f,T]),R=Od({},i,{square:m,disabled:c,disableGutters:f,expanded:S}),L=function(e){var t=e.classes;return Bp({root:["root",!e.square&&"rounded",e.expanded&&"expanded",e.disabled&&"disabled",!e.disableGutters&&"gutters"],region:["region"]},T_,t)}(R);return(0,qp.jsxs)(C_,Od({className:Wp(L.root,a),ref:n,ownerState:R,square:m},O,{children:[(0,qp.jsx)(k_.Provider,{value:A,children:P}),(0,qp.jsx)(y,Od({in:S,timeout:"auto"},b,{children:(0,qp.jsx)("div",{"aria-labelledby":P.props.id,id:P.props["aria-controls"],role:"region",className:L.region,children:C})}))]}))})),R_=Bb,L_=!0,Q_=!1,D_={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Z_(e){e.metaKey||e.altKey||e.ctrlKey||(L_=!0)}function I_(){L_=!1}function N_(){"hidden"===this.visibilityState&&Q_&&(L_=!0)}function z_(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return L_||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!D_[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var j_=function(){var t=e.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Z_,!0),t.addEventListener("mousedown",I_,!0),t.addEventListener("pointerdown",I_,!0),t.addEventListener("touchstart",I_,!0),t.addEventListener("visibilitychange",N_,!0))}),[]),n=e.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!z_(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(Q_=!0,window.clearTimeout(M_),M_=window.setTimeout((function(){Q_=!1}),100),n.current=!1,!0)},ref:t}};function W_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function B_(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function F_(e,t,n){return null!=n[t]?n[t]:e.props[t]}function $_(t,n,r){var i=B_(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];s[i[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,e.isValidElement)(s)){var u=a in n,l=a in i,c=n[a],h=(0,e.isValidElement)(c)&&!c.props.in;!l||u&&!h?l||!u||h?l&&u&&(0,e.isValidElement)(c)&&(o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:F_(s,"exit",t),enter:F_(s,"enter",t)})):o[a]=(0,e.cloneElement)(s,{in:!1}):o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:F_(s,"exit",t),enter:F_(s,"enter",t)})}})),o}var V_=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},U_=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,M.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}xd(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=t,i=a,B_(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:F_(t,"appear",r),enter:F_(t,"enter",r),exit:F_(t,"exit",r)})}))):$_(t,o,a),firstRender:!1}},r.handleExited=function(e,t){var n=B_(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Od({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=Np(t,["component","childFactory"]),o=this.state.contextValue,a=V_(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(fb.Provider,{value:o},a):e.createElement(fb.Provider,{value:o},e.createElement(n,i,a))},n}(e.Component);U_.propTypes={},U_.defaultProps={component:"div",childFactory:function(e){return e}};var H_=U_,G_=(n(2110),gm((function(t,n){var r=t.styles,i=vm([r],void 0,(0,e.useContext)(ym)),o=(0,e.useRef)();return(0,e.useLayoutEffect)((function(){var e=n.key+"-global",t=new nv({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,r],function(){t.flush()}}),[n]),(0,e.useLayoutEffect)((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Om(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null})));function q_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vm(t)}var X_=function(){var e=q_.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Y_=function(t){var n=t.className,r=t.classes,i=t.pulsate,o=void 0!==i&&i,a=t.rippleX,s=t.rippleY,u=t.rippleSize,l=t.in,c=t.onExited,h=t.timeout,f=e.useState(!1),d=(0,w.Z)(f,2),p=d[0],v=d[1],m=Wp(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),g={width:u,height:u,top:-u/2+s,left:-u/2+a},y=Wp(r.child,p&&r.childLeaving,o&&r.childPulsate);return l||p||v(!0),e.useEffect((function(){if(!l&&null!=c){var e=setTimeout(c,h);return function(){clearTimeout(e)}}}),[c,l,h]),(0,qp.jsx)("span",{className:m,style:g,children:(0,qp.jsx)("span",{className:y})})};var J_,K_,eT,tT,nT,rT,iT,oT,aT=Hp("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),sT=["center","classes","className"],uT=X_(nT||(nT=J_||(J_=W_(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),lT=X_(rT||(rT=K_||(K_=W_(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),cT=X_(iT||(iT=eT||(eT=W_(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),hT=nb("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),fT=nb(Y_,{name:"MuiTouchRipple",slot:"Ripple"})(oT||(oT=tT||(tT=W_(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),aT.rippleVisible,uT,550,(function(e){return e.theme.transitions.easing.easeInOut}),aT.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),aT.child,aT.childLeaving,lT,550,(function(e){return e.theme.transitions.easing.easeInOut}),aT.childPulsate,cT,(function(e){return e.theme.transitions.easing.easeInOut})),dT=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiTouchRipple"}),i=r.center,o=void 0!==i&&i,a=r.classes,s=void 0===a?{}:a,u=r.className,l=Np(r,sT),c=e.useState([]),h=(0,w.Z)(c,2),f=h[0],d=h[1],p=e.useRef(0),v=e.useRef(null);e.useEffect((function(){v.current&&(v.current(),v.current=null)}),[f]);var m=e.useRef(!1),g=e.useRef(null),y=e.useRef(null),b=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var O=e.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;d((function(e){return[].concat((0,Jp.Z)(e),[(0,qp.jsx)(fT,{classes:{ripple:Wp(s.ripple,aT.ripple),rippleVisible:Wp(s.rippleVisible,aT.rippleVisible),ripplePulsate:Wp(s.ripplePulsate,aT.ripplePulsate),child:Wp(s.child,aT.child),childLeaving:Wp(s.childLeaving,aT.childLeaving),childPulsate:Wp(s.childPulsate,aT.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)])})),p.current+=1,v.current=o}),[s]),x=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,u=t.fakeElement,l=void 0!==u&&u;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var c,h,f,d=l?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),h=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,x=v.clientX,w=v.clientY;c=Math.round(x-p.left),h=Math.round(w-p.top)}if(s)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var k=2*Math.max(Math.abs((d?d.clientWidth:0)-c),c)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-h),h)+2;f=Math.sqrt(Math.pow(k,2)+Math.pow(S,2))}e.touches?null===y.current&&(y.current=function(){O({pulsate:i,rippleX:c,rippleY:h,rippleSize:f,cb:n})},g.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):O({pulsate:i,rippleX:c,rippleY:h,rippleSize:f,cb:n})}}),[o,O]),k=e.useCallback((function(){x({},{pulsate:!0})}),[x]),S=e.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&y.current)return y.current(),y.current=null,void(g.current=setTimeout((function(){S(e,t)})));y.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:k,start:x,stop:S}}),[k,x,S]),(0,qp.jsx)(hT,Od({className:Wp(s.root,aT.root,u),ref:b},l,{children:(0,qp.jsx)(H_,{component:null,exit:!0,children:f})}))})),pT=dT;function vT(e){return Up("MuiButtonBase",e)}var mT,gT=Hp("MuiButtonBase",["root","disabled","focusVisible"]),yT=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],bT=nb("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((mT={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,x.Z)(mT,"&.".concat(gT.disabled),{pointerEvents:"none",cursor:"default"}),(0,x.Z)(mT,"@media print",{colorAdjust:"exact"}),mT)),OT=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiButtonBase"}),i=r.action,o=r.centerRipple,a=void 0!==o&&o,s=r.children,u=r.className,l=r.component,c=void 0===l?"button":l,h=r.disabled,f=void 0!==h&&h,d=r.disableRipple,p=void 0!==d&&d,v=r.disableTouchRipple,m=void 0!==v&&v,g=r.focusRipple,y=void 0!==g&&g,b=r.LinkComponent,O=void 0===b?"a":b,x=r.onBlur,k=r.onClick,S=r.onContextMenu,_=r.onDragLeave,T=r.onFocus,M=r.onFocusVisible,E=r.onKeyDown,P=r.onKeyUp,C=r.onMouseDown,A=r.onMouseLeave,R=r.onMouseUp,L=r.onTouchEnd,Q=r.onTouchMove,D=r.onTouchStart,Z=r.tabIndex,I=void 0===Z?0:Z,N=r.TouchRippleProps,z=r.type,j=Np(r,yT),W=e.useRef(null),B=e.useRef(null),F=j_(),$=F.isFocusVisibleRef,V=F.onFocus,U=F.onBlur,H=F.ref,G=e.useState(!1),q=(0,w.Z)(G,2),X=q[0],Y=q[1];function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return R_((function(r){return t&&t(r),!n&&B.current&&B.current[e](r),!0}))}f&&X&&Y(!1),e.useImperativeHandle(i,(function(){return{focusVisible:function(){Y(!0),W.current.focus()}}}),[]),e.useEffect((function(){X&&y&&!p&&B.current.pulsate()}),[p,y,X]);var K=J("start",C),ee=J("stop",S),te=J("stop",_),ne=J("stop",R),re=J("stop",(function(e){X&&e.preventDefault(),A&&A(e)})),ie=J("start",D),oe=J("stop",L),ae=J("stop",Q),se=J("stop",(function(e){U(e),!1===$.current&&Y(!1),x&&x(e)}),!1),ue=R_((function(e){W.current||(W.current=e.currentTarget),V(e),!0===$.current&&(Y(!0),M&&M(e)),T&&T(e)})),le=function(){var e=W.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},ce=e.useRef(!1),he=R_((function(e){y&&!ce.current&&X&&B.current&&" "===e.key&&(ce.current=!0,B.current.stop(e,(function(){B.current.start(e)}))),e.target===e.currentTarget&&le()&&" "===e.key&&e.preventDefault(),E&&E(e),e.target===e.currentTarget&&le()&&"Enter"===e.key&&!f&&(e.preventDefault(),k&&k(e))})),fe=R_((function(e){y&&" "===e.key&&B.current&&X&&!e.defaultPrevented&&(ce.current=!1,B.current.stop(e,(function(){B.current.pulsate(e)}))),P&&P(e),k&&e.target===e.currentTarget&&le()&&" "===e.key&&!e.defaultPrevented&&k(e)})),de=c;"button"===de&&(j.href||j.to)&&(de=O);var pe={};"button"===de?(pe.type=void 0===z?"button":z,pe.disabled=f):(j.href||j.to||(pe.role="button"),f&&(pe["aria-disabled"]=f));var ve=Tb(H,W),me=Tb(n,ve),ge=e.useState(!1),ye=(0,w.Z)(ge,2),be=ye[0],Oe=ye[1];e.useEffect((function(){Oe(!0)}),[]);var xe=be&&!p&&!f;var we=Od({},r,{centerRipple:a,component:c,disabled:f,disableRipple:p,disableTouchRipple:m,focusRipple:y,tabIndex:I,focusVisible:X}),ke=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=Bp({root:["root",t&&"disabled",n&&"focusVisible"]},vT,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(we);return(0,qp.jsxs)(bT,Od({as:de,className:Wp(ke.root,u),ownerState:we,onBlur:se,onClick:k,onContextMenu:ee,onFocus:ue,onKeyDown:he,onKeyUp:fe,onMouseDown:K,onMouseLeave:re,onMouseUp:ne,onDragLeave:te,onTouchEnd:oe,onTouchMove:ae,onTouchStart:ie,ref:me,tabIndex:f?-1:I,type:z},pe,j,{children:[s,xe?(0,qp.jsx)(pT,Od({ref:B,center:a},N)):null]}))})),xT=OT;function wT(e){return Up("MuiAccordionSummary",e)}var kT=Hp("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),ST=["children","className","expandIcon","focusVisibleClassName","onClick"],_T=nb(xT,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,n=e.theme,r=e.ownerState,i={duration:n.transitions.duration.shortest};return Od((t={display:"flex",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],i)},(0,x.Z)(t,"&.".concat(kT.focusVisible),{backgroundColor:n.palette.action.focus}),(0,x.Z)(t,"&.".concat(kT.disabled),{opacity:n.palette.action.disabledOpacity}),(0,x.Z)(t,"&:hover:not(.".concat(kT.disabled,")"),{cursor:"pointer"}),t),!r.disableGutters&&(0,x.Z)({},"&.".concat(kT.expanded),{minHeight:64}))})),TT=nb("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:function(e,t){return t.content}})((function(e){var t=e.theme;return Od({display:"flex",flexGrow:1,margin:"12px 0"},!e.ownerState.disableGutters&&(0,x.Z)({transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest})},"&.".concat(kT.expanded),{margin:"20px 0"}))})),MT=nb("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:function(e,t){return t.expandIconWrapper}})((function(e){var t=e.theme;return(0,x.Z)({display:"flex",color:t.palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},"&.".concat(kT.expanded),{transform:"rotate(180deg)"})})),ET=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiAccordionSummary"}),i=r.children,o=r.className,a=r.expandIcon,s=r.focusVisibleClassName,u=r.onClick,l=Np(r,ST),c=e.useContext(k_),h=c.disabled,f=void 0!==h&&h,d=c.disableGutters,p=c.expanded,v=c.toggle,m=Od({},r,{expanded:p,disabled:f,disableGutters:d}),g=function(e){var t=e.classes,n=e.expanded,r=e.disabled,i=e.disableGutters;return Bp({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},wT,t)}(m);return(0,qp.jsxs)(_T,Od({focusRipple:!1,disableRipple:!0,disabled:f,component:"div","aria-expanded":p,className:Wp(g.root,o),focusVisibleClassName:Wp(g.focusVisible,s),onClick:function(e){v&&v(e),u&&u(e)},ref:n,ownerState:m},l,{children:[(0,qp.jsx)(TT,{className:g.content,ownerState:m,children:i}),a&&(0,qp.jsx)(MT,{className:g.expandIconWrapper,ownerState:m,children:a})]}))}));function PT(e){return Up("MuiAccordionDetails",e)}Hp("MuiAccordionDetails",["root"]);var CT=["className"],AT=nb("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{padding:e.theme.spacing(1,2,2)}})),RT=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiAccordionDetails"}),r=n.className,i=Np(n,CT),o=n,a=function(e){return Bp({root:["root"]},PT,e.classes)}(o);return(0,qp.jsx)(AT,Od({className:Wp(a.root,r),ref:t,ownerState:o},i))})),LT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QT=e.createContext&&e.createContext(LT),DT=function(){return DT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},DT.apply(this,arguments)},ZT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function IT(t){return t&&t.map((function(t,n){return e.createElement(t.tag,DT({key:n},t.attr),IT(t.child))}))}function NT(t){return function(n){return e.createElement(zT,DT({attr:DT({},t.attr)},n),IT(t.child))}}function zT(t){var n=function(n){var r,i=t.attr,o=t.size,a=t.title,s=ZT(t,["attr","size","title"]),u=o||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",DT({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:DT(DT({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==QT?e.createElement(QT.Consumer,null,(function(e){return n(e)})):n(LT)}function jT(e){return NT({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 12H3v9h9v-2H5zm7-7h7v7h2V3h-9z"}}]})(e)}function WT(e){return NT({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8zm-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5z"}}]})(e)}function BT(e){return NT({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9.793l-3.347 3.346a.5.5 0 0 0 .708.708l4.2-4.2a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 8.3H3.5A1.5 1.5 0 0 1 2 6.8V2a.5.5 0 0 0-.5-.5z"}}]})(e)}function FT(e){return NT({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(e)}var $T=0;function VT(t){var n=e.useState(t),r=(0,w.Z)(n,2),i=r[0],o=r[1],a=t||i;return e.useEffect((function(){null==i&&o("mui-".concat($T+=1))}),[i]),a}function UT(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}var HT=["onChange","maxRows","minRows","style","value"];function GT(e,t){return parseInt(e[t],10)||0}var qT={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},XT=e.forwardRef((function(t,n){var r=t.onChange,i=t.maxRows,o=t.minRows,a=void 0===o?1:o,s=t.style,u=t.value,l=Np(t,HT),c=e.useRef(null!=u).current,h=e.useRef(null),f=_b(n,h),d=e.useRef(null),p=e.useRef(0),v=e.useState({}),m=(0,w.Z)(v,2),g=m[0],y=m[1],b=e.useCallback((function(){var e=h.current,n=Vb(e).getComputedStyle(e);if("0px"!==n.width){var r=d.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var o=n["box-sizing"],s=GT(n,"padding-bottom")+GT(n,"padding-top"),u=GT(n,"border-bottom-width")+GT(n,"border-top-width"),l=r.scrollHeight;r.value="x";var c=r.scrollHeight,f=l;a&&(f=Math.max(Number(a)*c,f)),i&&(f=Math.min(Number(i)*c,f));var v=(f=Math.max(f,c))+("border-box"===o?s+u:0),m=Math.abs(f-l)<=1;y((function(e){return p.current<20&&(v>0&&Math.abs((e.outerHeightStyle||0)-v)>1||e.overflow!==m)?(p.current+=1,{overflow:m,outerHeightStyle:v}):e}))}}),[i,a,t.placeholder]);e.useEffect((function(){var e,t=UT((function(){p.current=0,b()})),n=Vb(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[b]),Wb((function(){b()})),e.useEffect((function(){p.current=0}),[u]);return(0,qp.jsxs)(e.Fragment,{children:[(0,qp.jsx)("textarea",Od({value:u,onChange:function(e){p.current=0,c||b(),r&&r(e)},ref:f,rows:a,style:Od({height:g.outerHeightStyle,overflow:g.overflow?"hidden":null},s)},l)),(0,qp.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:d,tabIndex:-1,style:Od({},qT,s,{padding:0})})]})})),YT=XT;function JT(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var KT=e.createContext();function eM(){return e.useContext(KT)}var tM=Wm,nM=Wb;function rM(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,qp.jsx)(G_,{styles:i})}var iM=function(e){return(0,qp.jsx)(rM,Od({},e,{defaultTheme:Jy}))};function oM(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function aM(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(oM(e.value)&&""!==e.value||t&&oM(e.defaultValue)&&""!==e.defaultValue)}function sM(e){return Up("MuiInputBase",e)}var uM=Hp("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),lM=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],cM=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(tM(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},hM=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},fM=nb("div",{name:"MuiInputBase",slot:"Root",overridesResolver:cM})((function(e){var t=e.theme,n=e.ownerState;return Od({},t.typography.body1,(0,x.Z)({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(uM.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&Od({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),dM=nb("input",{name:"MuiInputBase",slot:"Input",overridesResolver:hM})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},a={opacity:"0 !important"},s={opacity:i?.42:.5};return Od((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,x.Z)(t,"label[data-shrink=false] + .".concat(uM.formControl," &"),{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),(0,x.Z)(t,"&.".concat(uM.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),(0,x.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),pM=(0,qp.jsx)(iM,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),vM=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiInputBase"}),i=r["aria-describedby"],o=r.autoComplete,a=r.autoFocus,s=r.className,u=r.components,l=void 0===u?{}:u,c=r.componentsProps,h=void 0===c?{}:c,f=r.defaultValue,d=r.disabled,p=r.disableInjectingGlobalStyles,v=r.endAdornment,m=r.fullWidth,g=void 0!==m&&m,y=r.id,b=r.inputComponent,O=void 0===b?"input":b,x=r.inputProps,k=void 0===x?{}:x,S=r.inputRef,_=r.maxRows,T=r.minRows,M=r.multiline,E=void 0!==M&&M,P=r.name,C=r.onBlur,A=r.onChange,R=r.onClick,L=r.onFocus,Q=r.onKeyDown,D=r.onKeyUp,Z=r.placeholder,I=r.readOnly,N=r.renderSuffix,z=r.rows,j=r.startAdornment,W=r.type,B=void 0===W?"text":W,F=r.value,$=Np(r,lM),V=null!=k.value?k.value:F,U=e.useRef(null!=V).current,H=e.useRef(),G=e.useCallback((function(e){0}),[]),q=Tb(k.ref,G),X=Tb(S,q),Y=Tb(H,X),J=e.useState(!1),K=(0,w.Z)(J,2),ee=K[0],te=K[1],ne=eM();var re=JT({props:r,muiFormControl:ne,states:["color","disabled","error","hiddenLabel","size","required","filled"]});re.focused=ne?ne.focused:ee,e.useEffect((function(){!ne&&d&&ee&&(te(!1),C&&C())}),[ne,d,ee,C]);var ie=ne&&ne.onFilled,oe=ne&&ne.onEmpty,ae=e.useCallback((function(e){aM(e)?ie&&ie():oe&&oe()}),[ie,oe]);nM((function(){U&&ae({value:V})}),[V,ae,U]);e.useEffect((function(){ae(H.current)}),[]);var se=O,ue=k;E&&"input"===se&&(ue=Od(z?{type:void 0,minRows:z,maxRows:z}:{type:void 0,maxRows:_,minRows:T},ue),se=YT);e.useEffect((function(){ne&&ne.setAdornedStart(Boolean(j))}),[ne,j]);var le=Od({},r,{color:re.color||"primary",disabled:re.disabled,endAdornment:v,error:re.error,focused:re.focused,formControl:ne,fullWidth:g,hiddenLabel:re.hiddenLabel,multiline:E,size:re.size,startAdornment:j,type:B}),ce=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,o=e.endAdornment,a=e.focused,s=e.formControl,u=e.fullWidth,l=e.hiddenLabel,c=e.multiline,h=e.size,f=e.startAdornment,d=e.type;return Bp({root:["root","color".concat(tM(n)),r&&"disabled",i&&"error",u&&"fullWidth",a&&"focused",s&&"formControl","small"===h&&"sizeSmall",c&&"multiline",f&&"adornedStart",o&&"adornedEnd",l&&"hiddenLabel"],input:["input",r&&"disabled","search"===d&&"inputTypeSearch",c&&"inputMultiline","small"===h&&"inputSizeSmall",l&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd"]},sM,t)}(le),he=l.Root||fM,fe=h.root||{},de=l.Input||dM;return ue=Od({},ue,h.input),(0,qp.jsxs)(e.Fragment,{children:[!p&&pM,(0,qp.jsxs)(he,Od({},fe,!zp(he)&&{ownerState:Od({},le,fe.ownerState)},{ref:n,onClick:function(e){H.current&&e.currentTarget===e.target&&H.current.focus(),R&&R(e)}},$,{className:Wp(ce.root,fe.className,s),children:[j,(0,qp.jsx)(KT.Provider,{value:null,children:(0,qp.jsx)(de,Od({ownerState:le,"aria-invalid":re.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:f,disabled:re.disabled,id:y,onAnimationStart:function(e){ae("mui-auto-fill-cancel"===e.animationName?H.current:{value:"x"})},name:P,placeholder:Z,readOnly:I,required:re.required,rows:z,value:V,onKeyDown:Q,onKeyUp:D,type:B},ue,!zp(de)&&{as:se,ownerState:Od({},le,ue.ownerState)},{ref:Y,className:Wp(ce.input,ue.className),onBlur:function(e){C&&C(e),k.onBlur&&k.onBlur(e),ne&&ne.onBlur?ne.onBlur(e):te(!1)},onChange:function(e){if(!U){var t=e.target||H.current;if(null==t)throw new Error(jm(1));ae({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];k.onChange&&k.onChange.apply(k,[e].concat(r)),A&&A.apply(void 0,[e].concat(r))},onFocus:function(e){re.disabled?e.stopPropagation():(L&&L(e),k.onFocus&&k.onFocus(e),ne&&ne.onFocus?ne.onFocus(e):te(!0))}}))}),v,N?N(Od({},re,{startAdornment:j})):null]}))]})})),mM=vM;function gM(e){return Up("MuiInput",e)}var yM=Hp("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]),bM=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],OM=nb(fM,{shouldForwardProp:function(e){return Ky(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,Jp.Z)(cM(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return Od({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,x.Z)(t,"&.".concat(yM.focused,":after"),{transform:"scaleX(1)"}),(0,x.Z)(t,"&.".concat(yM.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),(0,x.Z)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,x.Z)(t,"&:hover:not(.".concat(yM.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),(0,x.Z)(t,"&.".concat(yM.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),xM=nb(dM,{name:"MuiInput",slot:"Input",overridesResolver:hM})({}),wM=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,o=void 0===i?{}:i,a=n.componentsProps,s=n.fullWidth,u=void 0!==s&&s,l=n.inputComponent,c=void 0===l?"input":l,h=n.multiline,f=void 0!==h&&h,d=n.type,p=void 0===d?"text":d,v=Np(n,bM),m=function(e){var t=e.classes;return Od({},t,Bp({root:["root",!e.disableUnderline&&"underline"],input:["input"]},gM,t))}(n),g={root:{ownerState:{disableUnderline:r}}},y=a?Am(a,g):g;return(0,qp.jsx)(mM,Od({components:Od({Root:OM,Input:xM},o),componentsProps:y,fullWidth:u,inputComponent:c,multiline:f,ref:t,type:p},v,{classes:m}))}));wM.muiName="Input";var kM=wM;function SM(e){return Up("MuiFilledInput",e)}var _M=Hp("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]),TM=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],MM=nb(fM,{shouldForwardProp:function(e){return Ky(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,Jp.Z)(cM(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r=e.theme,i=e.ownerState,o="light"===r.palette.mode,a=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return Od((t={position:"relative",backgroundColor:s,borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:s}}},(0,x.Z)(t,"&.".concat(_M.focused),{backgroundColor:s}),(0,x.Z)(t,"&.".concat(_M.disabled),{backgroundColor:o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!i.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(r.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},(0,x.Z)(n,"&.".concat(_M.focused,":after"),{transform:"scaleX(1)"}),(0,x.Z)(n,"&.".concat(_M.error,":after"),{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"}),(0,x.Z)(n,"&:before",{borderBottom:"1px solid ".concat(a),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),(0,x.Z)(n,"&:hover:not(.".concat(_M.disabled,"):before"),{borderBottom:"1px solid ".concat(r.palette.text.primary)}),(0,x.Z)(n,"&.".concat(_M.disabled,":before"),{borderBottomStyle:"dotted"}),n),i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&Od({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),EM=nb(dM,{name:"MuiFilledInput",slot:"Input",overridesResolver:hM})((function(e){var t=e.theme,n=e.ownerState;return Od({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),PM=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,o=n.componentsProps,a=n.fullWidth,s=void 0!==a&&a,u=n.inputComponent,l=void 0===u?"input":u,c=n.multiline,h=void 0!==c&&c,f=n.type,d=void 0===f?"text":f,p=Np(n,TM),v=Od({},n,{fullWidth:s,inputComponent:l,multiline:h,type:d}),m=function(e){var t=e.classes;return Od({},t,Bp({root:["root",!e.disableUnderline&&"underline"],input:["input"]},SM,t))}(n),g={root:{ownerState:v},input:{ownerState:v}},y=o?Am(o,g):g;return(0,qp.jsx)(mM,Od({components:Od({Root:MM,Input:EM},i),componentsProps:y,fullWidth:s,inputComponent:l,multiline:h,ref:t,type:d},p,{classes:m}))}));PM.muiName="Input";var CM=PM,AM=["children","classes","className","label","notched"],RM=nb("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),LM=nb("legend",{skipSx:!0})((function(e){var t=e.ownerState,n=e.theme;return Od({float:"unset"},void 0===t.label&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},void 0!==t.label&&Od({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function QM(e){return Up("MuiOutlinedInput",e)}var DM=Hp("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]),ZM=["components","fullWidth","inputComponent","label","multiline","notched","type"],IM=nb(fM,{shouldForwardProp:function(e){return Ky(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:cM})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Od((t={position:"relative",borderRadius:n.shape.borderRadius},(0,x.Z)(t,"&:hover .".concat(DM.notchedOutline),{borderColor:n.palette.text.primary}),(0,x.Z)(t,"@media (hover: none)",(0,x.Z)({},"&:hover .".concat(DM.notchedOutline),{borderColor:i})),(0,x.Z)(t,"&.".concat(DM.focused," .").concat(DM.notchedOutline),{borderColor:n.palette[r.color].main,borderWidth:2}),(0,x.Z)(t,"&.".concat(DM.error," .").concat(DM.notchedOutline),{borderColor:n.palette.error.main}),(0,x.Z)(t,"&.".concat(DM.disabled," .").concat(DM.notchedOutline),{borderColor:n.palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&Od({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),NM=nb((function(e){var t=e.className,n=e.label,r=e.notched,i=Np(e,AM),o=Od({},e,{notched:r,label:n});return(0,qp.jsx)(RM,Od({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,qp.jsx)(LM,{ownerState:o,children:n?(0,qp.jsx)("span",{children:n}):(0,qp.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),zM=nb(dM,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:hM})((function(e){var t=e.theme,n=e.ownerState;return Od({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),jM=e.forwardRef((function(t,n){var r,i=cb({props:t,name:"MuiOutlinedInput"}),o=i.components,a=void 0===o?{}:o,s=i.fullWidth,u=void 0!==s&&s,l=i.inputComponent,c=void 0===l?"input":l,h=i.label,f=i.multiline,d=void 0!==f&&f,p=i.notched,v=i.type,m=void 0===v?"text":v,g=Np(i,ZM),y=function(e){var t=e.classes;return Od({},t,Bp({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},QM,t))}(i),b=JT({props:i,muiFormControl:eM(),states:["required"]});return(0,qp.jsx)(mM,Od({components:Od({Root:IM,Input:zM},a),renderSuffix:function(t){return(0,qp.jsx)(NM,{className:y.notchedOutline,label:h&&b.required?r||(r=(0,qp.jsxs)(e.Fragment,{children:[h,"\xa0","*"]})):h,notched:"undefined"!==typeof p?p:Boolean(t.startAdornment||t.filled||t.focused)})},fullWidth:u,inputComponent:c,multiline:d,ref:n,type:m},g,{classes:Od({},y,{notchedOutline:null})}))}));jM.muiName="Input";var WM=jM;function BM(e){return Up("MuiFormLabel",e)}var FM=Hp("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),$M=["children","className","color","component","disabled","error","filled","focused","required"],VM=nb("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Od({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return Od({color:n.palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,x.Z)(t,"&.".concat(FM.focused),{color:n.palette[r.color].main}),(0,x.Z)(t,"&.".concat(FM.disabled),{color:n.palette.text.disabled}),(0,x.Z)(t,"&.".concat(FM.error),{color:n.palette.error.main}),t))})),UM=nb("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,x.Z)({},"&.".concat(FM.error),{color:t.palette.error.main})})),HM=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,o=n.component,a=void 0===o?"label":o,s=Np(n,$M),u=JT({props:n,muiFormControl:eM(),states:["color","required","focused","disabled","error","filled"]}),l=Od({},n,{color:u.color||"primary",component:a,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),c=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,o=e.error,a=e.filled,s=e.required;return Bp({root:["root","color".concat(tM(n)),i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]},BM,t)}(l);return(0,qp.jsxs)(VM,Od({as:a,ownerState:l,className:Wp(c.root,i),ref:t},s,{children:[r,u.required&&(0,qp.jsxs)(UM,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),GM=HM;function qM(e){return Up("MuiInputLabel",e)}Hp("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var XM=["disableAnimation","margin","shrink","variant"],YM=nb(GM,{shouldForwardProp:function(e){return Ky(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,x.Z)({},"& .".concat(FM.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return Od({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&Od({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&Od({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&Od({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),JM=e.forwardRef((function(e,t){var n=cb({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,o=n.shrink,a=Np(n,XM),s=eM(),u=o;"undefined"===typeof u&&s&&(u=s.filled||s.focused||s.adornedStart);var l=JT({props:n,muiFormControl:s,states:["size","variant","required"]}),c=Od({},n,{disableAnimation:i,formControl:s,shrink:u,size:l.size,variant:l.variant,required:l.required}),h=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return Od({},t,Bp({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},qM,t))}(c);return(0,qp.jsx)(YM,Od({"data-shrink":u,ownerState:c,ref:t},a,{classes:h}))})),KM=JM;var eE=function(t,n){return e.isValidElement(t)&&-1!==n.indexOf(t.type.muiName)};function tE(e){return Up("MuiFormControl",e)}Hp("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var nE=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],rE=nb("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Od({},t.root,t["margin".concat(tM(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return Od({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),iE=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiFormControl"}),i=r.children,o=r.className,a=r.color,s=void 0===a?"primary":a,u=r.component,l=void 0===u?"div":u,c=r.disabled,h=void 0!==c&&c,f=r.error,d=void 0!==f&&f,p=r.focused,v=r.fullWidth,m=void 0!==v&&v,g=r.hiddenLabel,y=void 0!==g&&g,b=r.margin,O=void 0===b?"none":b,x=r.required,k=void 0!==x&&x,S=r.size,_=void 0===S?"medium":S,T=r.variant,M=void 0===T?"outlined":T,E=Np(r,nE),P=Od({},r,{color:s,component:l,disabled:h,error:d,fullWidth:m,hiddenLabel:y,margin:O,required:k,size:_,variant:M}),C=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return Bp({root:["root","none"!==n&&"margin".concat(tM(n)),r&&"fullWidth"]},tE,t)}(P),A=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){if(eE(e,["Input","Select"])){var n=eE(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),R=(0,w.Z)(A,2),L=R[0],Q=R[1],D=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){eE(e,["Input","Select"])&&aM(e.props,!0)&&(t=!0)})),t})),Z=(0,w.Z)(D,2),I=Z[0],N=Z[1],z=e.useState(!1),j=(0,w.Z)(z,2),W=j[0],B=j[1];h&&W&&B(!1);var F=void 0===p||h?W:p,$=e.useCallback((function(){N(!0)}),[]),V={adornedStart:L,setAdornedStart:Q,color:s,disabled:h,error:d,filled:I,focused:F,fullWidth:m,hiddenLabel:y,size:_,onBlur:function(){B(!1)},onEmpty:e.useCallback((function(){N(!1)}),[]),onFilled:$,onFocus:function(){B(!0)},registerEffect:undefined,required:k,variant:M};return(0,qp.jsx)(KT.Provider,{value:V,children:(0,qp.jsx)(rE,Od({as:l,ownerState:P,className:Wp(C.root,o),ref:n},E,{children:i}))})})),oE=iE;function aE(e){return Up("MuiFormHelperText",e)}var sE=Hp("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),uE=["children","className","component","disabled","error","filled","focused","margin","required","variant"],lE=nb("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(tM(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return Od({color:n.palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,x.Z)(t,"&.".concat(sE.disabled),{color:n.palette.text.disabled}),(0,x.Z)(t,"&.".concat(sE.error),{color:n.palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),cE=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,o=n.component,a=void 0===o?"p":o,s=Np(n,uE),u=JT({props:n,muiFormControl:eM(),states:["variant","size","disabled","error","filled","focused","required"]}),l=Od({},n,{component:a,contained:"filled"===u.variant||"outlined"===u.variant,variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),c=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,o=e.error,a=e.filled,s=e.focused,u=e.required;return Bp({root:["root",i&&"disabled",o&&"error",r&&"size".concat(tM(r)),n&&"contained",s&&"focused",a&&"filled",u&&"required"]},aE,t)}(l);return(0,qp.jsx)(lE,Od({as:a,ownerState:l,className:Wp(c.root,i),ref:t},s,{children:" "===r?(0,qp.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):r}))})),hE=cE,fE=jb;var dE=e.createContext({});function pE(e){return Up("MuiList",e)}Hp("MuiList",["root","padding","dense","subheader"]);var vE=["children","className","component","dense","disablePadding","subheader"],mE=nb("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return Od({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),gE=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiList"}),i=r.children,o=r.className,a=r.component,s=void 0===a?"ul":a,u=r.dense,l=void 0!==u&&u,c=r.disablePadding,h=void 0!==c&&c,f=r.subheader,d=Np(r,vE),p=e.useMemo((function(){return{dense:l}}),[l]),v=Od({},r,{component:s,dense:l,disablePadding:h}),m=function(e){var t=e.classes;return Bp({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},pE,t)}(v);return(0,qp.jsx)(dE.Provider,{value:p,children:(0,qp.jsxs)(mE,Od({as:s,className:Wp(m.root,o),ref:n,ownerState:v},d,{children:[f,i]}))})})),yE=Ub,bE=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function OE(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function xE(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function wE(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function kE(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return!1;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&wE(s,o)&&!u)return s.focus(),!0;s=i(e,s,n)}return!1}var SE=e.forwardRef((function(t,n){var r=t.actions,i=t.autoFocus,o=void 0!==i&&i,a=t.autoFocusItem,s=void 0!==a&&a,u=t.children,l=t.className,c=t.disabledItemsFocusable,h=void 0!==c&&c,f=t.disableListWrap,d=void 0!==f&&f,p=t.onKeyDown,v=t.variant,m=void 0===v?"selectedMenu":v,g=Np(t,bE),y=e.useRef(null),b=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});nM((function(){o&&y.current.focus()}),[o]),e.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!y.current.style.width;if(e.clientHeight<y.current.clientHeight&&n){var r="".concat(yE(fE(e)),"px");y.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,y.current.style.width="calc(100% + ".concat(r,")")}return y.current}}}),[]);var O=Tb(y,n),x=-1;e.Children.forEach(u,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===m&&t.props.selected||-1===x)&&(x=n))}));var w=e.Children.map(u,(function(t,n){if(n===x){var r={};return s&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===m&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return(0,qp.jsx)(gE,Od({role:"menu",ref:O,className:l,onKeyDown:function(e){var t=y.current,n=e.key,r=fE(t).activeElement;if("ArrowDown"===n)e.preventDefault(),kE(t,r,d,h,OE);else if("ArrowUp"===n)e.preventDefault(),kE(t,r,d,h,xE);else if("Home"===n)e.preventDefault(),kE(t,null,d,h,OE);else if("End"===n)e.preventDefault(),kE(t,null,d,h,xE);else if(1===n.length){var i=b.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&wE(r,i);i.previousKeyMatched&&(s||kE(t,r,!1,h,OE,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:o?0:-1},g,{children:w}))})),_E=SE,TE=UT,ME=Vb,EE=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function PE(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var CE={entering:{opacity:1,transform:PE(1)},entered:{opacity:1,transform:"none"}},AE=e.forwardRef((function(t,n){var r=t.addEndListener,i=t.appear,o=void 0===i||i,a=t.children,s=t.easing,u=t.in,l=t.onEnter,c=t.onEntered,h=t.onEntering,f=t.onExit,d=t.onExited,p=t.onExiting,v=t.style,m=t.timeout,g=void 0===m?"auto":m,y=t.TransitionComponent,b=void 0===y?Ob:y,O=Np(t,EE),x=e.useRef(),w=e.useRef(),k=xb(),S=e.useRef(null),_=Tb(a.ref,n),T=Tb(S,_),M=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},E=M(h),P=M((function(e,t){wb(e);var n,r=kb({style:v,timeout:g,easing:s},{mode:"enter"}),i=r.duration,o=r.delay,a=r.easing;"auto"===g?(n=k.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=i,e.style.transition=[k.transitions.create("opacity",{duration:n,delay:o}),k.transitions.create("transform",{duration:.666*n,delay:o,easing:a})].join(","),l&&l(e,t)})),C=M(c),A=M(p),R=M((function(e){var t,n=kb({style:v,timeout:g,easing:s},{mode:"exit"}),r=n.duration,i=n.delay,o=n.easing;"auto"===g?(t=k.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[k.transitions.create("opacity",{duration:t,delay:i}),k.transitions.create("transform",{duration:.666*t,delay:i||.333*t,easing:o})].join(","),e.style.opacity="0",e.style.transform=PE(.75),f&&f(e)})),L=M(d);return e.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),(0,qp.jsx)(b,Od({appear:o,in:u,nodeRef:S,onEnter:P,onEntered:C,onEntering:E,onExit:R,onExited:L,onExiting:A,addEndListener:function(e){"auto"===g&&(x.current=setTimeout(e,w.current||0)),r&&r(S.current,e)},timeout:"auto"===g?null:g},O,{children:function(t,n){return e.cloneElement(a,Od({style:Od({opacity:0,transform:PE(.75),visibility:"exited"!==t||u?void 0:"hidden"},CE[t],v,a.props.style),ref:T},n))}}))}));AE.muiSupportAuto=!0;var RE=AE;function LE(e){return Up("MuiPopover",e)}Hp("MuiPopover",["root","paper"]);var QE=["onEntering"],DE=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function ZE(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function IE(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function NE(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function zE(e){return"function"===typeof e?e():e}var jE=nb(hO,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),WE=nb(w_,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),BE=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiPopover"}),i=r.action,o=r.anchorEl,a=r.anchorOrigin,s=void 0===a?{vertical:"top",horizontal:"left"}:a,u=r.anchorPosition,l=r.anchorReference,c=void 0===l?"anchorEl":l,h=r.children,f=r.className,d=r.container,p=r.elevation,v=void 0===p?8:p,m=r.marginThreshold,g=void 0===m?16:m,y=r.open,b=r.PaperProps,O=void 0===b?{}:b,x=r.transformOrigin,w=void 0===x?{vertical:"top",horizontal:"left"}:x,k=r.TransitionComponent,S=void 0===k?RE:k,_=r.transitionDuration,T=void 0===_?"auto":_,M=r.TransitionProps,E=(M=void 0===M?{}:M).onEntering,P=Np(r.TransitionProps,QE),C=Np(r,DE),A=e.useRef(),R=Tb(A,O.ref),L=Od({},r,{anchorOrigin:s,anchorReference:c,elevation:v,marginThreshold:g,PaperProps:O,transformOrigin:w,TransitionComponent:S,transitionDuration:T,TransitionProps:P}),Q=function(e){return Bp({root:["root"],paper:["paper"]},LE,e.classes)}(L),D=e.useCallback((function(){if("anchorPosition"===c)return u;var e=zE(o),t=(e&&1===e.nodeType?e:fE(A.current).body).getBoundingClientRect();return{top:t.top+ZE(t,s.vertical),left:t.left+IE(t,s.horizontal)}}),[o,s.horizontal,s.vertical,u,c]),Z=e.useCallback((function(e){return{vertical:ZE(e,w.vertical),horizontal:IE(e,w.horizontal)}}),[w.horizontal,w.vertical]),I=e.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=Z(t);if("none"===c)return{top:null,left:null,transformOrigin:NE(n)};var r=D(),i=r.top-n.vertical,a=r.left-n.horizontal,s=i+t.height,u=a+t.width,l=ME(zE(o)),h=l.innerHeight-g,f=l.innerWidth-g;if(i<g){var d=i-g;i-=d,n.vertical+=d}else if(s>h){var p=s-h;i-=p,n.vertical+=p}if(a<g){var v=a-g;a-=v,n.horizontal+=v}else if(u>f){var m=u-f;a-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:NE(n)}}),[o,c,D,Z,g]),N=e.useCallback((function(){var e=A.current;if(e){var t=I(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[I]);e.useEffect((function(){y&&N()})),e.useImperativeHandle(i,(function(){return y?{updatePosition:function(){N()}}:null}),[y,N]),e.useEffect((function(){if(y){var e=TE((function(){N()})),t=ME(o);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[o,y,N]);var z=T;"auto"!==T||S.muiSupportAuto||(z=void 0);var j=d||(o?fE(zE(o)).body:void 0);return(0,qp.jsx)(jE,Od({BackdropProps:{invisible:!0},className:Wp(Q.root,f),container:j,open:y,ref:n,ownerState:L},C,{children:(0,qp.jsx)(S,Od({appear:!0,in:y,onEntering:function(e,t){E&&E(e,t),N()},timeout:z},P,{children:(0,qp.jsx)(WE,Od({elevation:v},O,{ref:R,className:Wp(Q.paper,O.className),children:h}))}))}))})),FE=BE;function $E(e){return Up("MuiMenu",e)}Hp("MuiMenu",["root","paper","list"]);var VE=["onEntering"],UE=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],HE={vertical:"top",horizontal:"right"},GE={vertical:"top",horizontal:"left"},qE=nb(FE,{shouldForwardProp:function(e){return Ky(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),XE=nb(w_,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),YE=nb(_E,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),JE=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiMenu"}),i=r.autoFocus,o=void 0===i||i,a=r.children,s=r.disableAutoFocusItem,u=void 0!==s&&s,l=r.MenuListProps,c=void 0===l?{}:l,h=r.onClose,f=r.open,d=r.PaperProps,p=void 0===d?{}:d,v=r.PopoverClasses,m=r.transitionDuration,g=void 0===m?"auto":m,y=r.TransitionProps,b=(y=void 0===y?{}:y).onEntering,O=r.variant,x=void 0===O?"selectedMenu":O,w=Np(r.TransitionProps,VE),k=Np(r,UE),S=xb(),_="rtl"===S.direction,T=Od({},r,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:b,PaperProps:p,transitionDuration:g,TransitionProps:w,variant:x}),M=function(e){return Bp({root:["root"],paper:["paper"],list:["list"]},$E,e.classes)}(T),E=o&&!u&&f,P=e.useRef(null),C=-1;return e.Children.map(a,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===x&&t.props.selected||-1===C)&&(C=n))})),(0,qp.jsx)(qE,Od({classes:v,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?HE:GE,PaperProps:Od({component:XE},p,{classes:Od({},p.classes,{root:M.paper})}),className:M.root,open:f,ref:n,transitionDuration:g,TransitionProps:Od({onEntering:function(e,t){P.current&&P.current.adjustStyleForScrollbar(e,S),b&&b(e,t)}},w),ownerState:T},k,{children:(0,qp.jsx)(YE,Od({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:P,autoFocus:o&&(-1===C||u),autoFocusItem:E,variant:x},c,{className:Wp(M.list,c.className),children:a}))}))})),KE=JE;function eP(e){return Up("MuiNativeSelect",e)}var tP=Hp("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),nP=["className","disabled","IconComponent","inputRef","variant"],rP=function(e){var t,n=e.ownerState,r=e.theme;return Od((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},(0,x.Z)(t,"&.".concat(tP.disabled),{cursor:"default"}),(0,x.Z)(t,"&[multiple]",{height:"auto"}),(0,x.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),(0,x.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},iP=nb("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ky,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],(0,x.Z)({},"&.".concat(tP.multiple),t.multiple)]}})(rP),oP=function(e){var t=e.ownerState,n=e.theme;return Od((0,x.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(tP.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},aP=nb("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(tM(n.variant))],n.open&&t.iconOpen]}})(oP),sP=e.forwardRef((function(t,n){var r=t.className,i=t.disabled,o=t.IconComponent,a=t.inputRef,s=t.variant,u=void 0===s?"standard":s,l=Np(t,nP),c=Od({},t,{disabled:i,variant:u}),h=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open;return Bp({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(tM(n)),o&&"iconOpen",r&&"disabled"]},eP,t)}(c);return(0,qp.jsxs)(e.Fragment,{children:[(0,qp.jsx)(iP,Od({ownerState:c,className:Wp(h.select,r),disabled:i,ref:a||n},l)),t.multiple?null:(0,qp.jsx)(aP,{as:o,ownerState:c,className:h.icon})]})}));function uP(e){return Up("MuiSelect",e)}var lP=Hp("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),cP=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],hP=nb("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,x.Z)({},"&.".concat(lP.select),t.select),(0,x.Z)({},"&.".concat(lP.select),t[n.variant]),(0,x.Z)({},"&.".concat(lP.multiple),t.multiple)]}})(rP,(0,x.Z)({},"&.".concat(lP.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),fP=nb("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(tM(n.variant))],n.open&&t.iconOpen]}})(oP),dP=nb("input",{shouldForwardProp:function(e){return eb(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function pP(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function vP(e){return null==e||"string"===typeof e&&!e.trim()}var mP=e.forwardRef((function(t,n){var r=t["aria-describedby"],i=t["aria-label"],o=t.autoFocus,a=t.autoWidth,s=t.children,u=t.className,l=t.defaultOpen,c=t.defaultValue,h=t.disabled,f=t.displayEmpty,d=t.IconComponent,p=t.inputRef,v=t.labelId,m=t.MenuProps,g=void 0===m?{}:m,y=t.multiple,b=t.name,O=t.onBlur,x=t.onChange,k=t.onClose,S=t.onFocus,_=t.onOpen,T=t.open,M=t.readOnly,E=t.renderValue,P=t.SelectDisplayProps,C=void 0===P?{}:P,A=t.tabIndex,R=t.value,L=t.variant,Q=void 0===L?"standard":L,D=Np(t,cP),Z=__({controlled:R,default:c,name:"Select"}),I=(0,w.Z)(Z,2),N=I[0],z=I[1],j=__({controlled:T,default:l,name:"Select"}),W=(0,w.Z)(j,2),B=W[0],F=W[1],$=e.useRef(null),V=e.useRef(null),U=e.useState(null),H=(0,w.Z)(U,2),G=H[0],q=H[1],X=e.useRef(null!=T).current,Y=e.useState(),J=(0,w.Z)(Y,2),K=J[0],ee=J[1],te=Tb(n,p),ne=e.useCallback((function(e){V.current=e,e&&q(e)}),[]);e.useImperativeHandle(te,(function(){return{focus:function(){V.current.focus()},node:$.current,value:N}}),[N]),e.useEffect((function(){l&&B&&G&&!X&&(ee(a?null:G.clientWidth),V.current.focus())}),[G,a]),e.useEffect((function(){o&&V.current.focus()}),[o]),e.useEffect((function(){var e=fE(V.current).getElementById(v);if(e){var t=function(){getSelection().isCollapsed&&V.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}),[v]);var re,ie,oe=function(e,t){e?_&&_(t):k&&k(t),X||(ee(a?null:G.clientWidth),F(e))},ae=e.Children.toArray(s),se=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(N)?N.slice():[];var r=N.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),N!==n&&(z(n),x)){var i=t.nativeEvent||t,o=new i.constructor(i.type,i);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:b}}),x(o,e)}y||oe(!1,t)}}},ue=null!==G&&B;delete D["aria-invalid"];var le=[],ce=!1;(aM({value:N})||f)&&(E?re=E(N):ce=!0);var he=ae.map((function(t){if(!e.isValidElement(t))return null;var n;if(y){if(!Array.isArray(N))throw new Error(jm(2));(n=N.some((function(e){return pP(e,t.props.value)})))&&ce&&le.push(t.props.children)}else(n=pP(N,t.props.value))&&ce&&(ie=t.props.children);return n&&!0,e.cloneElement(t,{"aria-selected":n?"true":"false",onClick:se(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})}));ce&&(re=y?0===le.length?null:le.reduce((function(e,t,n){return e.push(t),n<le.length-1&&e.push(", "),e}),[]):ie);var fe,de=K;!a&&X&&G&&(de=G.clientWidth),fe="undefined"!==typeof A?A:h?null:0;var pe=C.id||(b?"mui-component-select-".concat(b):void 0),ve=Od({},t,{variant:Q,value:N,open:ue}),me=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open;return Bp({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(tM(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},uP,t)}(ve);return(0,qp.jsxs)(e.Fragment,{children:[(0,qp.jsx)(hP,Od({ref:ne,tabIndex:fe,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":ue?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!M){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),oe(!0,e))}},onMouseDown:h||M?null:function(e){0===e.button&&(e.preventDefault(),V.current.focus(),oe(!0,e))},onBlur:function(e){!ue&&O&&(Object.defineProperty(e,"target",{writable:!0,value:{value:N,name:b}}),O(e))},onFocus:S},C,{ownerState:ve,className:Wp(me.select,u,C.className),id:pe,children:vP(re)?(0,qp.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):re})),(0,qp.jsx)(dP,Od({value:Array.isArray(N)?N.join(","):N,name:b,ref:$,"aria-hidden":!0,onChange:function(e){var t=ae.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ae[t];z(n.props.value),x&&x(e,n)}},tabIndex:-1,disabled:h,className:me.nativeInput,autoFocus:o,ownerState:ve},D)),(0,qp.jsx)(fP,{as:d,className:me.icon,ownerState:ve}),(0,qp.jsx)(KE,Od({id:"menu-".concat(b||""),anchorEl:G,open:ue,onClose:function(e){oe(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:Od({"aria-labelledby":v,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:Od({},g.PaperProps,{style:Od({minWidth:de},null!=g.PaperProps?g.PaperProps.style:null)}),children:he}))]})})),gP=mP;function yP(e){return Up("MuiSvgIcon",e)}Hp("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var bP=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],OP=nb("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(tM(n.color))],t["fontSize".concat(tM(n.fontSize))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:r.transitions.create("fill",{duration:r.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:r.typography.pxToRem(20),medium:r.typography.pxToRem(24),large:r.typography.pxToRem(35)}[i.fontSize],color:null!=(t=null==(n=r.palette[i.color])?void 0:n.main)?t:{action:r.palette.action.active,disabled:r.palette.action.disabled,inherit:void 0}[i.color]}})),xP=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,o=n.color,a=void 0===o?"inherit":o,s=n.component,u=void 0===s?"svg":s,l=n.fontSize,c=void 0===l?"medium":l,h=n.htmlColor,f=n.inheritViewBox,d=void 0!==f&&f,p=n.titleAccess,v=n.viewBox,m=void 0===v?"0 0 24 24":v,g=Np(n,bP),y=Od({},n,{color:a,component:u,fontSize:c,inheritViewBox:d,viewBox:m}),b={};d||(b.viewBox=m);var O=function(e){var t=e.color,n=e.fontSize,r=e.classes;return Bp({root:["root","inherit"!==t&&"color".concat(tM(t)),"fontSize".concat(tM(n))]},yP,r)}(y);return(0,qp.jsxs)(OP,Od({as:u,className:Wp(O.root,i),ownerState:y,focusable:"false",color:h,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},b,g,{children:[r,p?(0,qp.jsx)("title",{children:p}):null]}))}));xP.muiName="SvgIcon";var wP=xP;function kP(t,n){var r=function(e,r){return(0,qp.jsx)(wP,Od({"data-testid":"".concat(n,"Icon"),ref:r},e,{children:t}))};return r.muiName=wP.muiName,e.memo(e.forwardRef(r))}var SP,_P,TP=kP((0,qp.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),MP=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],EP=e.forwardRef((function(t,n){var r=cb({name:"MuiSelect",props:t}),i=r.autoWidth,o=void 0!==i&&i,a=r.children,s=r.classes,u=void 0===s?{}:s,l=r.className,c=r.defaultOpen,h=void 0!==c&&c,f=r.displayEmpty,d=void 0!==f&&f,p=r.IconComponent,v=void 0===p?TP:p,m=r.id,g=r.input,y=r.inputProps,b=r.label,O=r.labelId,x=r.MenuProps,w=r.multiple,k=void 0!==w&&w,S=r.native,_=void 0!==S&&S,T=r.onClose,M=r.onOpen,E=r.open,P=r.renderValue,C=r.SelectDisplayProps,A=r.variant,R=void 0===A?"outlined":A,L=Np(r,MP),Q=_?sP:gP,D=JT({props:r,muiFormControl:eM(),states:["variant"]}).variant||R,Z=g||{standard:SP||(SP=(0,qp.jsx)(kM,{})),outlined:(0,qp.jsx)(WM,{label:b}),filled:_P||(_P=(0,qp.jsx)(CM,{}))}[D],I=function(e){return e.classes}(Od({},r,{classes:u})),N=Tb(n,Z.ref);return e.cloneElement(Z,Od({inputComponent:Q,inputProps:Od({children:a,IconComponent:v,variant:D,type:void 0,multiple:k},_?{id:m}:{autoWidth:o,defaultOpen:h,displayEmpty:d,labelId:O,MenuProps:x,onClose:T,onOpen:M,open:E,renderValue:P,SelectDisplayProps:Od({id:m},C)},y,{classes:y?Am(I,y.classes):I},g?g.props.inputProps:{})},k&&_&&"outlined"===D?{notched:!0}:{},{ref:N,className:Wp(Z.props.className,l)},L))}));EP.muiName="Select";var PP=EP;function CP(e){return Up("MuiTextField",e)}Hp("MuiTextField",["root"]);var AP=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],RP={standard:kM,filled:CM,outlined:WM},LP=nb(oE,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),QP=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,o=void 0!==i&&i,a=n.children,s=n.className,u=n.color,l=void 0===u?"primary":u,c=n.defaultValue,h=n.disabled,f=void 0!==h&&h,d=n.error,p=void 0!==d&&d,v=n.FormHelperTextProps,m=n.fullWidth,g=void 0!==m&&m,y=n.helperText,b=n.id,O=n.InputLabelProps,x=n.inputProps,w=n.InputProps,k=n.inputRef,S=n.label,_=n.maxRows,T=n.minRows,M=n.multiline,E=void 0!==M&&M,P=n.name,C=n.onBlur,A=n.onChange,R=n.onFocus,L=n.placeholder,Q=n.required,D=void 0!==Q&&Q,Z=n.rows,I=n.select,N=void 0!==I&&I,z=n.SelectProps,j=n.type,W=n.value,B=n.variant,F=void 0===B?"outlined":B,$=Np(n,AP),V=Od({},n,{autoFocus:o,color:l,disabled:f,error:p,fullWidth:g,multiline:E,required:D,select:N,variant:F}),U=function(e){return Bp({root:["root"]},CP,e.classes)}(V);var H={};"outlined"===F&&(O&&"undefined"!==typeof O.shrink&&(H.notched=O.shrink),H.label=S),N&&(z&&z.native||(H.id=void 0),H["aria-describedby"]=void 0);var G=VT(b),q=y&&G?"".concat(G,"-helper-text"):void 0,X=S&&G?"".concat(G,"-label"):void 0,Y=RP[F],J=(0,qp.jsx)(Y,Od({"aria-describedby":q,autoComplete:r,autoFocus:o,defaultValue:c,fullWidth:g,multiline:E,name:P,rows:Z,maxRows:_,minRows:T,type:j,value:W,id:G,inputRef:k,onBlur:C,onChange:A,onFocus:R,placeholder:L,inputProps:x},H,w));return(0,qp.jsxs)(LP,Od({className:Wp(U.root,s),disabled:f,error:p,fullWidth:g,ref:t,required:D,color:l,variant:F,ownerState:V},$,{children:[S&&(0,qp.jsx)(KM,Od({htmlFor:G,id:X},O,{children:S})),N?(0,qp.jsx)(PP,Od({"aria-describedby":q,id:G,labelId:X,value:W,input:J},z,{children:a})):J,y&&(0,qp.jsx)(hE,Od({id:q},v,{children:y}))]}))})),DP=QP,ZP=n(4004),IP=n.n(ZP),NP=n(9085),zP=n.n(NP),jP=n(1515),WP=n.n(jP),BP={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};$P.rankings=BP;var FP=function(e,t){return String(e.rankedValue).localeCompare(String(t.rankedValue))};function $P(e,t,n){void 0===n&&(n={});var r=n,i=r.keys,o=r.threshold,a=void 0===o?BP.MATCHES:o,s=r.baseSort,u=void 0===s?FP:s,l=r.sorter,c=void 0===l?function(e){return e.sort((function(e,t){return function(e,t,n){var r=-1,i=1,o=e.rank,a=e.keyIndex,s=t.rank,u=t.keyIndex;return o===s?a===u?n(e,t):a<u?r:i:o>s?r:i}(e,t,u)}))}:l,h=e.reduce((function(e,r,o){var s=function(e,t,n,r){if(!t){return{rankedValue:e,rank:VP(e,n,r),keyIndex:-1,keyThreshold:r.threshold}}return function(e,t){for(var n=[],r=0,i=t.length;r<i;r++)for(var o=t[r],a=qP(o),s=HP(e,o),u=0,l=s.length;u<l;u++)n.push({itemValue:s[u],attributes:a});return n}(e,t).reduce((function(e,t,i){var o=e.rank,a=e.rankedValue,s=e.keyIndex,u=e.keyThreshold,l=t.itemValue,c=t.attributes,h=VP(l,n,r),f=a,d=c.minRanking,p=c.maxRanking,v=c.threshold;return h<d&&h>=BP.MATCHES?h=d:h>p&&(h=p),h>o&&(o=h,s=i,u=v,f=l),{rankedValue:f,rank:o,keyIndex:s,keyThreshold:u}}),{rankedValue:e,rank:BP.NO_MATCH,keyIndex:-1,keyThreshold:r.threshold})}(r,i,t,n),u=s.rank,l=s.keyThreshold;u>=(void 0===l?a:l)&&e.push(Od({},s,{item:r,index:o}));return e}),[]);return c(h).map((function(e){return e.item}))}function VP(e,t,n){return e=UP(e,n),(t=UP(t,n)).length>e.length?BP.NO_MATCH:e===t?BP.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase())===(t=t.toLowerCase())?BP.EQUAL:e.startsWith(t)?BP.STARTS_WITH:e.includes(" "+t)?BP.WORD_STARTS_WITH:e.includes(t)?BP.CONTAINS:1===t.length?BP.NO_MATCH:function(e){var t="";return e.split(" ").forEach((function(e){e.split("-").forEach((function(e){t+=e.substr(0,1)}))})),t}(e).includes(t)?BP.ACRONYM:function(e,t){var n=0,r=0;function i(e,t,r){for(var i=r,o=t.length;i<o;i++){if(t[i]===e)return n+=1,i+1}return-1}function o(e){var r=1/e,i=n/t.length;return BP.MATCHES+i*r}var a=i(t[0],e,0);if(a<0)return BP.NO_MATCH;r=a;for(var s=1,u=t.length;s<u;s++){if(!((r=i(t[s],e,r))>-1))return BP.NO_MATCH}return o(r-a)}(e,t)}function UP(e,t){return e=""+e,t.keepDiacritics||(e=WP()(e)),e}function HP(e,t){var n;if("object"===typeof t&&(t=t.key),"function"===typeof t)n=t(e);else if(null==e)n=null;else if(Object.hasOwnProperty.call(e,t))n=e[t];else{if(t.includes("."))return function(e,t){for(var n=e.split("."),r=[t],i=0,o=n.length;i<o;i++){for(var a=n[i],s=[],u=0,l=r.length;u<l;u++){var c=r[u];if(null!=c)if(Object.hasOwnProperty.call(c,a)){var h=c[a];null!=h&&s.push(h)}else"*"===a&&(s=s.concat(c))}r=s}if(Array.isArray(r[0])){var f=[];return f.concat.apply(f,r)}return r}(t,e);n=null}return null==n?[]:Array.isArray(n)?n:[String(n)]}var GP={maxRanking:1/0,minRanking:-1/0};function qP(e){return"string"===typeof e?GP:Od({},GP,e)}function XP(e){return Up("MuiAutocomplete",e)}var YP=Hp("MuiAutocomplete",["root","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);function JP(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function KP(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var eC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,i=void 0===r||r,o=e.limit,a=e.matchFrom,s=void 0===a?"any":a,u=e.stringify,l=e.trim,c=void 0!==l&&l;return function(e,t){var r=t.inputValue,a=t.getOptionLabel,l=c?r.trim():r;i&&(l=l.toLowerCase()),n&&(l=JP(l));var h=e.filter((function(e){var t=(u||a)(e);return i&&(t=t.toLowerCase()),n&&(t=JP(t)),"start"===s?0===t.indexOf(l):t.indexOf(l)>-1}));return"number"===typeof o?h.slice(0,o):h}}();function tC(t){var n,r=t.autoComplete,i=void 0!==r&&r,o=t.autoHighlight,a=void 0!==o&&o,s=t.autoSelect,u=void 0!==s&&s,l=t.blurOnSelect,c=void 0!==l&&l,h=t.disabled,f=t.clearOnBlur,d=void 0===f?!t.freeSolo:f,p=t.clearOnEscape,v=void 0!==p&&p,m=t.componentName,g=void 0===m?"useAutocomplete":m,y=t.defaultValue,b=void 0===y?t.multiple?[]:null:y,O=t.disableClearable,x=void 0!==O&&O,k=t.disableCloseOnSelect,S=void 0!==k&&k,_=t.disabledItemsFocusable,T=void 0!==_&&_,M=t.disableListWrap,E=void 0!==M&&M,P=t.filterOptions,C=void 0===P?eC:P,A=t.filterSelectedOptions,R=void 0!==A&&A,L=t.freeSolo,Q=void 0!==L&&L,D=t.getOptionDisabled,Z=t.getOptionLabel,I=void 0===Z?function(e){var t;return null!=(t=e.label)?t:e}:Z,N=t.isOptionEqualToValue,z=void 0===N?function(e,t){return e===t}:N,j=t.groupBy,W=t.handleHomeEndKeys,B=void 0===W?!t.freeSolo:W,F=t.id,$=t.includeInputInList,V=void 0!==$&&$,U=t.inputValue,H=t.multiple,G=void 0!==H&&H,q=t.onChange,X=t.onClose,Y=t.onHighlightChange,J=t.onInputChange,K=t.onOpen,ee=t.open,te=t.openOnFocus,ne=void 0!==te&&te,re=t.options,ie=t.selectOnFocus,oe=void 0===ie?!t.freeSolo:ie,ae=t.value,se=VT(F);n=function(e){var t=I(e);return"string"!==typeof t?String(t):t};var ue=e.useRef(!1),le=e.useRef(!0),ce=e.useRef(null),he=e.useRef(null),fe=e.useState(null),de=(0,w.Z)(fe,2),pe=de[0],ve=de[1],me=e.useState(-1),ge=(0,w.Z)(me,2),ye=ge[0],be=ge[1],Oe=a?0:-1,xe=e.useRef(Oe),we=S_({controlled:ae,default:b,name:g}),ke=(0,w.Z)(we,2),Se=ke[0],_e=ke[1],Te=S_({controlled:U,default:"",name:g,state:"inputValue"}),Me=(0,w.Z)(Te,2),Ee=Me[0],Pe=Me[1],Ce=e.useState(!1),Ae=(0,w.Z)(Ce,2),Re=Ae[0],Le=Ae[1],Qe=e.useCallback((function(e,t){if((G?Se.length<t.length:null!==t)||d){var r;if(G)r="";else if(null==t)r="";else{var i=n(t);r="string"===typeof i?i:""}Ee!==r&&(Pe(r),J&&J(e,r,"reset"))}}),[n,Ee,G,J,Pe,d,Se]),De=e.useRef();e.useEffect((function(){var e=Se!==De.current;De.current=Se,Re&&!e||Q&&!e||Qe(null,Se)}),[Se,Qe,Re,De,Q]);var Ze=S_({controlled:ee,default:!1,name:g,state:"open"}),Ie=(0,w.Z)(Ze,2),Ne=Ie[0],ze=Ie[1],je=e.useState(!0),We=(0,w.Z)(je,2),Be=We[0],Fe=We[1],$e=!G&&null!=Se&&Ee===n(Se),Ve=Ne,Ue=Ve?C(re.filter((function(e){return!R||!(G?Se:[Se]).some((function(t){return null!==t&&z(e,t)}))})),{inputValue:$e&&Be?"":Ee,getOptionLabel:n}):[],He=Ne&&Ue.length>0,Ge=Bb((function(e){-1===e?ce.current.focus():pe.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));e.useEffect((function(){G&&ye>Se.length-1&&(be(-1),Ge(-1))}),[Se,G,ye,Ge]);var qe=Bb((function(e){var t=e.event,n=e.index,r=e.reason,i=void 0===r?"auto":r;if(xe.current=n,-1===n?ce.current.removeAttribute("aria-activedescendant"):ce.current.setAttribute("aria-activedescendant","".concat(se,"-option-").concat(n)),Y&&Y(t,-1===n?null:Ue[n],i),he.current){var o=he.current.querySelector('[role="option"].Mui-focused');o&&(o.classList.remove("Mui-focused"),o.classList.remove("Mui-focusVisible"));var a=he.current.parentElement.querySelector('[role="listbox"]');if(a)if(-1!==n){var s=he.current.querySelector('[data-option-index="'.concat(n,'"]'));if(s&&(s.classList.add("Mui-focused"),"keyboard"===i&&s.classList.add("Mui-focusVisible"),a.scrollHeight>a.clientHeight&&"mouse"!==i)){var u=s,l=a.clientHeight+a.scrollTop,c=u.offsetTop+u.offsetHeight;c>l?a.scrollTop=c-a.clientHeight:u.offsetTop-u.offsetHeight*(j?1.3:0)<a.scrollTop&&(a.scrollTop=u.offsetTop-u.offsetHeight*(j?1.3:0))}}else a.scrollTop=0}})),Xe=Bb((function(e){var t=e.event,r=e.diff,o=e.direction,a=void 0===o?"next":o,s=e.reason,u=void 0===s?"auto":s;if(Ve){var l=function(e,t){if(!he.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===Ue.length||"previous"===t&&-1===n)return-1;var r=he.current.querySelector('[data-option-index="'.concat(n,'"]')),i=!T&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(!(r&&!r.hasAttribute("tabindex")||i))return n;n+="next"===t?1:-1}}(function(){var e=Ue.length-1;if("reset"===r)return Oe;if("start"===r)return 0;if("end"===r)return e;var t=xe.current+r;return t<0?-1===t&&V?-1:E&&-1!==xe.current||Math.abs(r)>1?0:e:t>e?t===e+1&&V?-1:E||Math.abs(r)>1?e:0:t}(),a);if(qe({index:l,reason:u,event:t}),i&&"reset"!==r)if(-1===l)ce.current.value=Ee;else{var c=n(Ue[l]);ce.current.value=c,0===c.toLowerCase().indexOf(Ee.toLowerCase())&&Ee.length>0&&ce.current.setSelectionRange(Ee.length,c.length)}}})),Ye=e.useCallback((function(){if(Ve){var e=G?Se[0]:Se;if(0!==Ue.length&&null!=e){if(he.current)if(null==e)xe.current>=Ue.length-1?qe({index:Ue.length-1}):qe({index:xe.current});else{var t=Ue[xe.current];if(G&&t&&-1!==KP(Se,(function(e){return z(t,e)})))return;var n=KP(Ue,(function(t){return z(t,e)}));-1===n?Xe({diff:"reset"}):qe({index:n})}}else Xe({diff:"reset"})}}),[Ue.length,!G&&Se,R,Xe,qe,Ve,Ee,G]),Je=Bb((function(e){Sb(he,e),e&&Ye()}));e.useEffect((function(){Ye()}),[Ye]);var Ke=function(e){Ne||(ze(!0),Fe(!0),K&&K(e))},et=function(e,t){Ne&&(ze(!1),X&&X(e,t))},tt=function(e,t,n,r){if(Array.isArray(Se)){if(Se.length===t.length&&Se.every((function(e,n){return e===t[n]})))return}else if(Se===t)return;q&&q(e,t,n,r),_e(t)},nt=e.useRef(!1),rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",i=n,o=t;if(G){var a=KP(o=Array.isArray(Se)?Se.slice():[],(function(e){return z(t,e)}));-1===a?o.push(t):"freeSolo"!==r&&(o.splice(a,1),i="removeOption")}Qe(e,o),tt(e,o,i,{option:t}),S||e.ctrlKey||e.metaKey||et(e,i),(!0===c||"touch"===c&&nt.current||"mouse"===c&&!nt.current)&&ce.current.blur()};var it=function(e,t){if(G){et(e,"toggleInput");var n=ye;-1===ye?""===Ee&&"previous"===t&&(n=Se.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===Se.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===Se.length||"previous"===t&&-1===n)return-1;var r=pe.querySelector('[data-tag-index="'.concat(n,'"]'));if(r&&r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),be(n),Ge(n)}},ot=function(e){ue.current=!0,Pe(""),J&&J(e,"","clear"),tt(e,G?[]:null,"clear")},at=function(e){return function(t){if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==ye&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(be(-1),Ge(-1)),229!==t.which))switch(t.key){case"Home":Ve&&B&&(t.preventDefault(),Xe({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Ve&&B&&(t.preventDefault(),Xe({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),Xe({diff:-5,direction:"previous",reason:"keyboard",event:t}),Ke(t);break;case"PageDown":t.preventDefault(),Xe({diff:5,direction:"next",reason:"keyboard",event:t}),Ke(t);break;case"ArrowDown":t.preventDefault(),Xe({diff:1,direction:"next",reason:"keyboard",event:t}),Ke(t);break;case"ArrowUp":t.preventDefault(),Xe({diff:-1,direction:"previous",reason:"keyboard",event:t}),Ke(t);break;case"ArrowLeft":it(t,"previous");break;case"ArrowRight":it(t,"next");break;case"Enter":if(-1!==xe.current&&Ve){var n=Ue[xe.current],r=!!D&&D(n);if(t.preventDefault(),r)return;rt(t,n,"selectOption"),i&&ce.current.setSelectionRange(ce.current.value.length,ce.current.value.length)}else Q&&""!==Ee&&!1===$e&&(G&&t.preventDefault(),rt(t,Ee,"createOption","freeSolo"));break;case"Escape":Ve?(t.preventDefault(),t.stopPropagation(),et(t,"escape")):v&&(""!==Ee||G&&Se.length>0)&&(t.preventDefault(),t.stopPropagation(),ot(t));break;case"Backspace":if(G&&""===Ee&&Se.length>0){var o=-1===ye?Se.length-1:ye,a=Se.slice();a.splice(o,1),tt(t,a,"removeOption",{option:Se[o]})}}}},st=function(e){Le(!0),ne&&!ue.current&&Ke(e)},ut=function(e){null!==he.current&&he.current.parentElement.contains(document.activeElement)?ce.current.focus():(Le(!1),le.current=!0,ue.current=!1,u&&-1!==xe.current&&Ve?rt(e,Ue[xe.current],"blur"):u&&Q&&""!==Ee?rt(e,Ee,"blur","freeSolo"):d&&Qe(e,Se),et(e,"blur"))},lt=function(e){var t=e.target.value;Ee!==t&&(Pe(t),Fe(!1),J&&J(e,t,"input")),""===t?x||G||tt(e,null,"clear"):Ke(e)},ct=function(e){qe({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},ht=function(){nt.current=!0},ft=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));rt(e,Ue[t],"selectOption"),nt.current=!1},dt=function(e){return function(t){var n=Se.slice();n.splice(e,1),tt(t,n,"removeOption",{option:Se[e]})}},pt=function(e){Ne?et(e,"toggleInput"):Ke(e)},vt=function(e){e.target.getAttribute("id")!==se&&e.preventDefault()},mt=function(){ce.current.focus(),oe&&le.current&&ce.current.selectionEnd-ce.current.selectionStart===0&&ce.current.select(),le.current=!1},gt=function(e){""!==Ee&&Ne||pt(e)},yt=Q&&Ee.length>0;yt=yt||(G?Se.length>0:null!==Se);var bt=Ue;if(j){new Map;bt=Ue.reduce((function(e,t,n){var r=j(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return h&&Re&&ut(),{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Od({"aria-owns":He?"".concat(se,"-listbox"):null,role:"combobox","aria-expanded":He},e,{onKeyDown:at(e),onMouseDown:vt,onClick:mt})},getInputLabelProps:function(){return{id:"".concat(se,"-label"),htmlFor:se}},getInputProps:function(){return{id:se,value:Ee,onBlur:ut,onFocus:st,onChange:lt,onMouseDown:gt,"aria-activedescendant":Ve?"":null,"aria-autocomplete":i?"both":"list","aria-controls":He?"".concat(se,"-listbox"):void 0,autoComplete:"off",ref:ce,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:ot}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:pt}},getTagProps:function(e){var t=e.index;return{key:t,"data-tag-index":t,tabIndex:-1,onDelete:dt(t)}},getListboxProps:function(){return{role:"listbox",id:"".concat(se,"-listbox"),"aria-labelledby":"".concat(se,"-label"),ref:Je,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var t=e.index,r=e.option,i=(G?Se:[Se]).some((function(e){return null!=e&&z(r,e)})),o=!!D&&D(r);return{key:n(r),tabIndex:-1,role:"option",id:"".concat(se,"-option-").concat(t),onMouseOver:ct,onClick:ft,onTouchStart:ht,"data-option-index":t,"aria-disabled":o,"aria-selected":i}},id:se,inputValue:Ee,value:Se,dirty:yt,popupOpen:Ve,focused:Re||-1!==ye,anchorEl:pe,setAnchorEl:ve,focusedTag:ye,groupedOptions:bt}}function nC(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function rC(e){return e instanceof nC(e).Element||e instanceof Element}function iC(e){return e instanceof nC(e).HTMLElement||e instanceof HTMLElement}function oC(e){return"undefined"!==typeof ShadowRoot&&(e instanceof nC(e).ShadowRoot||e instanceof ShadowRoot)}var aC=Math.max,sC=Math.min,uC=Math.round;function lC(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(iC(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(r=uC(n.width)/a||1),o>0&&(i=uC(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function cC(e){var t=nC(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function hC(e){return e?(e.nodeName||"").toLowerCase():null}function fC(e){return((rC(e)?e.ownerDocument:e.document)||window.document).documentElement}function dC(e){return lC(fC(e)).left+cC(e).scrollLeft}function pC(e){return nC(e).getComputedStyle(e)}function vC(e){var t=pC(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function mC(e,t,n){void 0===n&&(n=!1);var r=iC(t),i=iC(t)&&function(e){var t=e.getBoundingClientRect(),n=uC(t.width)/e.offsetWidth||1,r=uC(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=fC(t),a=lC(e,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==hC(t)||vC(o))&&(s=function(e){return e!==nC(e)&&iC(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:cC(e);var t}(t)),iC(t)?((u=lC(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=dC(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function gC(e){var t=lC(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function yC(e){return"html"===hC(e)?e:e.assignedSlot||e.parentNode||(oC(e)?e.host:null)||fC(e)}function bC(e){return["html","body","#document"].indexOf(hC(e))>=0?e.ownerDocument.body:iC(e)&&vC(e)?e:bC(yC(e))}function OC(e,t){var n;void 0===t&&(t=[]);var r=bC(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=nC(r),a=i?[o].concat(o.visualViewport||[],vC(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(OC(yC(a)))}function xC(e){return["table","td","th"].indexOf(hC(e))>=0}function wC(e){return iC(e)&&"fixed"!==pC(e).position?e.offsetParent:null}function kC(e){for(var t=nC(e),n=wC(e);n&&xC(n)&&"static"===pC(n).position;)n=wC(n);return n&&("html"===hC(n)||"body"===hC(n)&&"static"===pC(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&iC(e)&&"fixed"===pC(e).position)return null;for(var n=yC(e);iC(n)&&["html","body"].indexOf(hC(n))<0;){var r=pC(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var SC="top",_C="bottom",TC="right",MC="left",EC="auto",PC=[SC,_C,TC,MC],CC="start",AC="end",RC="viewport",LC="popper",QC=PC.reduce((function(e,t){return e.concat([t+"-"+CC,t+"-"+AC])}),[]),DC=[].concat(PC,[EC]).reduce((function(e,t){return e.concat([t,t+"-"+CC,t+"-"+AC])}),[]),ZC=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function IC(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function NC(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var zC={placement:"bottom",modifiers:[],strategy:"absolute"};function jC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function WC(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?zC:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},zC,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:rC(e)?OC(e):e.contextElement?OC(e.contextElement):[],popper:OC(t)};var c=function(e){var t=IC(e);return ZC.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:u,options:r}),l=function(){};a.push(s||l)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(jC(t,n)){i.rects={reference:mC(t,kC(n),"fixed"===i.options.strategy),popper:gC(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,l=o.options,c=void 0===l?{}:l,h=o.name;"function"===typeof a&&(i=a({state:i,options:c,name:h,instance:u})||i)}else i.reset=!1,r=-1}}},update:NC((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){l(),s=!0}};if(!jC(e,t))return u;function l(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var BC={passive:!0};var FC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=nC(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,BC)})),s&&u.addEventListener("resize",n.update,BC),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,BC)})),s&&u.removeEventListener("resize",n.update,BC)}},data:{}};function $C(e){return e.split("-")[0]}function VC(e){return e.split("-")[1]}function UC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function HC(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?$C(i):null,a=i?VC(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case SC:t={x:s,y:n.y-r.height};break;case _C:t={x:s,y:n.y+n.height};break;case TC:t={x:n.x+n.width,y:u};break;case MC:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var l=o?UC(o):null;if(null!=l){var c="y"===l?"height":"width";switch(a){case CC:t[l]=t[l]-(n[c]/2-r[c]/2);break;case AC:t[l]=t[l]+(n[c]/2-r[c]/2)}}return t}var GC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qC(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,h=e.isFixed,f=a.x,d=void 0===f?0:f,p=a.y,v=void 0===p?0:p,m="function"===typeof c?c({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=MC,O=SC,x=window;if(l){var w=kC(n),k="clientHeight",S="clientWidth";if(w===nC(n)&&"static"!==pC(w=fC(n)).position&&"absolute"===s&&(k="scrollHeight",S="scrollWidth"),w=w,i===SC||(i===MC||i===TC)&&o===AC)O=_C,v-=(h&&x.visualViewport?x.visualViewport.height:w[k])-r.height,v*=u?1:-1;if(i===MC||(i===SC||i===_C)&&o===AC)b=TC,d-=(h&&x.visualViewport?x.visualViewport.width:w[S])-r.width,d*=u?1:-1}var _,T=Object.assign({position:s},l&&GC),M=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:uC(t*r)/r||0,y:uC(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=M.x,v=M.y,u?Object.assign({},T,((_={})[O]=y?"0":"",_[b]=g?"0":"",_.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",_)):Object.assign({},T,((t={})[O]=y?v+"px":"",t[b]=g?d+"px":"",t.transform="",t))}var XC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,l={placement:$C(t.placement),variation:VC(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,qC(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,qC(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var YC={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];iC(i)&&hC(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});iC(r)&&hC(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var JC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=DC.reduce((function(e,n){return e[n]=function(e,t,n){var r=$C(e),i=[MC,SC].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[MC,TC].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],u=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}},KC={left:"right",right:"left",bottom:"top",top:"bottom"};function eA(e){return e.replace(/left|right|bottom|top/g,(function(e){return KC[e]}))}var tA={start:"end",end:"start"};function nA(e){return e.replace(/start|end/g,(function(e){return tA[e]}))}function rA(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&oC(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function iA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oA(e,t){return t===RC?iA(function(e){var t=nC(e),n=fC(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+dC(e),y:s}}(e)):rC(t)?function(e){var t=lC(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):iA(function(e){var t,n=fC(e),r=cC(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=aC(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=aC(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+dC(e),u=-r.scrollTop;return"rtl"===pC(i||n).direction&&(s+=aC(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(fC(e)))}function aA(e,t,n){var r="clippingParents"===t?function(e){var t=OC(yC(e)),n=["absolute","fixed"].indexOf(pC(e).position)>=0&&iC(e)?kC(e):e;return rC(n)?t.filter((function(e){return rC(e)&&rA(e,n)&&"body"!==hC(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=oA(e,n);return t.top=aC(r.top,t.top),t.right=sC(r.right,t.right),t.bottom=sC(r.bottom,t.bottom),t.left=aC(r.left,t.left),t}),oA(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function sA(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function uA(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function lA(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,u=void 0===s?RC:s,l=n.elementContext,c=void 0===l?LC:l,h=n.altBoundary,f=void 0!==h&&h,d=n.padding,p=void 0===d?0:d,v=sA("number"!==typeof p?p:uA(p,PC)),m=c===LC?"reference":LC,g=e.rects.popper,y=e.elements[f?m:c],b=aA(rC(y)?y:y.contextElement||fC(e.elements.popper),a,u),O=lC(e.elements.reference),x=HC({reference:O,element:g,strategy:"absolute",placement:i}),w=iA(Object.assign({},g,x)),k=c===LC?w:O,S={top:b.top-k.top+v.top,bottom:k.bottom-b.bottom+v.bottom,left:b.left-k.left+v.left,right:k.right-b.right+v.right},_=e.modifiersData.offset;if(c===LC&&_){var T=_[i];Object.keys(S).forEach((function(e){var t=[TC,_C].indexOf(e)>=0?1:-1,n=[SC,_C].indexOf(e)>=0?"y":"x";S[e]+=T[n]*t}))}return S}var cA={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=$C(m),y=u||(g===m||!p?[eA(m)]:function(e){if($C(e)===EC)return[];var t=eA(e);return[nA(e),t,nA(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat($C(n)===EC?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?DC:u,c=VC(r),h=c?s?QC:QC.filter((function(e){return VC(e)===c})):PC,f=h.filter((function(e){return l.indexOf(e)>=0}));0===f.length&&(f=h);var d=f.reduce((function(t,n){return t[n]=lA(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[$C(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:c,rootBoundary:h,padding:l,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),O=t.rects.reference,x=t.rects.popper,w=new Map,k=!0,S=b[0],_=0;_<b.length;_++){var T=b[_],M=$C(T),E=VC(T)===CC,P=[SC,_C].indexOf(M)>=0,C=P?"width":"height",A=lA(t,{placement:T,boundary:c,rootBoundary:h,altBoundary:f,padding:l}),R=P?E?TC:MC:E?_C:SC;O[C]>x[C]&&(R=eA(R));var L=eA(R),Q=[];if(o&&Q.push(A[M]<=0),s&&Q.push(A[R]<=0,A[L]<=0),Q.every((function(e){return e}))){S=T,k=!1;break}w.set(T,Q)}if(k)for(var D=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},Z=p?3:1;Z>0;Z--){if("break"===D(Z))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function hA(e,t,n){return aC(e,sC(t,n))}var fA={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,h=n.padding,f=n.tether,d=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,m=lA(t,{boundary:u,rootBoundary:l,padding:h,altBoundary:c}),g=$C(t.placement),y=VC(t.placement),b=!y,O=UC(g),x="x"===O?"y":"x",w=t.modifiersData.popperOffsets,k=t.rects.reference,S=t.rects.popper,_="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,T="number"===typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(w){if(o){var P,C="y"===O?SC:MC,A="y"===O?_C:TC,R="y"===O?"height":"width",L=w[O],Q=L+m[C],D=L-m[A],Z=d?-S[R]/2:0,I=y===CC?k[R]:S[R],N=y===CC?-S[R]:-k[R],z=t.elements.arrow,j=d&&z?gC(z):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=W[C],F=W[A],$=hA(0,k[R],j[R]),V=b?k[R]/2-Z-$-B-T.mainAxis:I-$-B-T.mainAxis,U=b?-k[R]/2+Z+$+F+T.mainAxis:N+$+F+T.mainAxis,H=t.elements.arrow&&kC(t.elements.arrow),G=H?"y"===O?H.clientTop||0:H.clientLeft||0:0,q=null!=(P=null==M?void 0:M[O])?P:0,X=L+U-q,Y=hA(d?sC(Q,L+V-q-G):Q,L,d?aC(D,X):D);w[O]=Y,E[O]=Y-L}if(s){var J,K="x"===O?SC:MC,ee="x"===O?_C:TC,te=w[x],ne="y"===x?"height":"width",re=te+m[K],ie=te-m[ee],oe=-1!==[SC,MC].indexOf(g),ae=null!=(J=null==M?void 0:M[x])?J:0,se=oe?re:te-k[ne]-S[ne]-ae+T.altAxis,ue=oe?te+k[ne]+S[ne]-ae-T.altAxis:ie,le=d&&oe?function(e,t,n){var r=hA(e,t,n);return r>n?n:r}(se,te,ue):hA(d?se:re,te,d?ue:ie);w[x]=le,E[x]=le-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]};var dA={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=$C(n.placement),u=UC(s),l=[MC,TC].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return sA("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:uA(e,PC))}(i.padding,n),h=gC(o),f="y"===u?SC:MC,d="y"===u?_C:TC,p=n.rects.reference[l]+n.rects.reference[u]-a[u]-n.rects.popper[l],v=a[u]-n.rects.reference[u],m=kC(o),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=c[f],O=g-h[l]-c[d],x=g/2-h[l]/2+y,w=hA(b,x,O),k=u;n.modifiersData[r]=((t={})[k]=w,t.centerOffset=w-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&rA(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pA(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function vA(e){return[SC,TC,_C,MC].some((function(t){return e[t]>=0}))}var mA=WC({defaultModifiers:[FC,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=HC({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},XC,YC,JC,cA,fA,dA,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=lA(t,{elementContext:"reference"}),s=lA(t,{altBoundary:!0}),u=pA(a,r),l=pA(s,i,o),c=vA(u),h=vA(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}}]}),gA=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","TransitionProps"],yA=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function bA(e){return"function"===typeof e?e():e}var OA={},xA=e.forwardRef((function(t,n){var r=t.anchorEl,i=t.children,o=t.direction,a=t.disablePortal,s=t.modifiers,u=t.open,l=t.placement,c=t.popperOptions,h=t.popperRef,f=t.TransitionProps,d=Np(t,gA),p=e.useRef(null),v=_b(p,n),m=e.useRef(null),g=_b(m,h),y=e.useRef(g);Wb((function(){y.current=g}),[g]),e.useImperativeHandle(h,(function(){return m.current}),[]);var b=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(l,o),O=e.useState(b),x=(0,w.Z)(O,2),k=x[0],S=x[1];e.useEffect((function(){m.current&&m.current.forceUpdate()})),Wb((function(){if(r&&u){bA(r);var e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){!function(e){S(e.placement)}(e.state)}}];null!=s&&(e=e.concat(s)),c&&null!=c.modifiers&&(e=e.concat(c.modifiers));var t=mA(bA(r),p.current,Od({placement:b},c,{modifiers:e}));return y.current(t),function(){t.destroy(),y.current(null)}}}),[r,a,s,u,c,b]);var _={placement:k};return null!==f&&(_.TransitionProps=f),(0,qp.jsx)("div",Od({ref:v,role:"tooltip"},d,{children:"function"===typeof i?i(_):i}))})),wA=e.forwardRef((function(t,n){var r=t.anchorEl,i=t.children,o=t.container,a=t.direction,s=void 0===a?"ltr":a,u=t.disablePortal,l=void 0!==u&&u,c=t.keepMounted,h=void 0!==c&&c,f=t.modifiers,d=t.open,p=t.placement,v=void 0===p?"bottom":p,m=t.popperOptions,g=void 0===m?OA:m,y=t.popperRef,b=t.style,O=t.transition,x=void 0!==O&&O,k=Np(t,yA),S=e.useState(!0),_=(0,w.Z)(S,2),T=_[0],M=_[1];if(!h&&!d&&(!x||T))return null;var E=o||(r?jb(bA(r)).body:void 0);return(0,qp.jsx)($b,{disablePortal:l,container:E,children:(0,qp.jsx)(xA,Od({anchorEl:r,direction:s,disablePortal:l,modifiers:f,ref:n,open:x?!T:d,placement:v,popperOptions:g,popperRef:y},k,{style:Od({position:"fixed",top:0,left:0,display:d||!h||x&&!T?null:"none"},b),TransitionProps:x?{in:d,onEnter:function(){M(!1)},onExited:function(){M(!0)}}:null,children:i}))})})),kA=wA,SA=e.forwardRef((function(e,t){var n=sb();return(0,qp.jsx)(kA,Od({direction:null==n?void 0:n.direction},e,{ref:t}))}));function _A(e){return Up("MuiListSubheader",e)}Hp("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var TA=["className","color","component","disableGutters","disableSticky","inset"],MA=nb("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(tM(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((function(e){var t=e.theme,n=e.ownerState;return Od({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:t.palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:t.palette.background.paper})})),EA=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiListSubheader"}),r=n.className,i=n.color,o=void 0===i?"default":i,a=n.component,s=void 0===a?"li":a,u=n.disableGutters,l=void 0!==u&&u,c=n.disableSticky,h=void 0!==c&&c,f=n.inset,d=void 0!==f&&f,p=Np(n,TA),v=Od({},n,{color:o,component:s,disableGutters:l,disableSticky:h,inset:d}),m=function(e){var t=e.classes,n=e.color,r=e.disableGutters,i=e.inset,o=e.disableSticky;return Bp({root:["root","default"!==n&&"color".concat(tM(n)),!r&&"gutters",i&&"inset",!o&&"sticky"]},_A,t)}(v);return(0,qp.jsx)(MA,Od({as:s,className:Wp(m.root,r),ref:t,ownerState:v},p))})),PA=EA;function CA(e){return Up("MuiIconButton",e)}var AA=Hp("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),RA=["edge","children","className","color","disabled","disableFocusRipple","size"],LA=nb(xT,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(tM(n.color))],n.edge&&t["edge".concat(tM(n.edge))],t["size".concat(tM(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return Od({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:Oy(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return Od({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&Od({color:t.palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:Oy(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,x.Z)({},"&.".concat(AA.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),QA=e.forwardRef((function(e,t){var n=cb({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,o=n.children,a=n.className,s=n.color,u=void 0===s?"default":s,l=n.disabled,c=void 0!==l&&l,h=n.disableFocusRipple,f=void 0!==h&&h,d=n.size,p=void 0===d?"medium":d,v=Np(n,RA),m=Od({},n,{edge:i,color:u,disabled:c,disableFocusRipple:f,size:p}),g=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,o=e.size;return Bp({root:["root",n&&"disabled","default"!==r&&"color".concat(tM(r)),i&&"edge".concat(tM(i)),"size".concat(tM(o))]},CA,t)}(m);return(0,qp.jsx)(LA,Od({className:Wp(g.root,a),centerRipple:!0,focusRipple:!f,disabled:c,ref:t,ownerState:m},v,{children:o}))})),DA=QA,ZA=kP((0,qp.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function IA(e){return Up("MuiChip",e)}var NA=Hp("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]),zA=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],jA=nb("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.color,i=n.clickable,o=n.onDelete,a=n.size,s=n.variant;return[(0,x.Z)({},"& .".concat(NA.avatar),t.avatar),(0,x.Z)({},"& .".concat(NA.avatar),t["avatar".concat(tM(a))]),(0,x.Z)({},"& .".concat(NA.avatar),t["avatarColor".concat(tM(r))]),(0,x.Z)({},"& .".concat(NA.icon),t.icon),(0,x.Z)({},"& .".concat(NA.icon),t["icon".concat(tM(a))]),(0,x.Z)({},"& .".concat(NA.icon),t["iconColor".concat(tM(r))]),(0,x.Z)({},"& .".concat(NA.deleteIcon),t.deleteIcon),(0,x.Z)({},"& .".concat(NA.deleteIcon),t["deleteIcon".concat(tM(a))]),(0,x.Z)({},"& .".concat(NA.deleteIcon),t["deleteIconColor".concat(tM(r))]),(0,x.Z)({},"& .".concat(NA.deleteIcon),t["deleteIconOutlinedColor".concat(tM(r))]),t.root,t["size".concat(tM(a))],t["color".concat(tM(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat(tM(r),")")],o&&t.deletable,o&&"default"!==r&&t["deletableColor".concat(tM(r))],t[s],"outlined"===s&&t["outlined".concat(tM(r))]]}})((function(e){var t,n=e.theme,r=e.ownerState,i=Oy(n.palette.text.primary,.26);return Od((t={fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:n.palette.text.primary,backgroundColor:n.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},(0,x.Z)(t,"&.".concat(NA.disabled),{opacity:n.palette.action.disabledOpacity,pointerEvents:"none"}),(0,x.Z)(t,"& .".concat(NA.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],fontSize:n.typography.pxToRem(12)}),(0,x.Z)(t,"& .".concat(NA.avatarColorPrimary),{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.dark}),(0,x.Z)(t,"& .".concat(NA.avatarColorSecondary),{color:n.palette.secondary.contrastText,backgroundColor:n.palette.secondary.dark}),(0,x.Z)(t,"& .".concat(NA.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)}),(0,x.Z)(t,"& .".concat(NA.icon),Od({color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],marginLeft:5,marginRight:-6},"small"===r.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==r.color&&{color:"inherit"})),(0,x.Z)(t,"& .".concat(NA.deleteIcon),Od({WebkitTapHighlightColor:"transparent",color:i,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Oy(i,.4)}},"small"===r.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==r.color&&{color:Oy(n.palette[r.color].contrastText,.7),"&:hover, &:active":{color:n.palette[r.color].contrastText}})),t),"small"===r.size&&{height:24},"default"!==r.color&&{backgroundColor:n.palette[r.color].main,color:n.palette[r.color].contrastText},r.onDelete&&(0,x.Z)({},"&.".concat(NA.focusVisible),{backgroundColor:Oy(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),r.onDelete&&"default"!==r.color&&(0,x.Z)({},"&.".concat(NA.focusVisible),{backgroundColor:n.palette[r.color].dark}))}),(function(e){var t,n=e.theme,r=e.ownerState;return Od({},r.clickable&&(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:Oy(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}},(0,x.Z)(t,"&.".concat(NA.focusVisible),{backgroundColor:Oy(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),(0,x.Z)(t,"&:active",{boxShadow:n.shadows[1]}),t),r.clickable&&"default"!==r.color&&(0,x.Z)({},"&:hover, &.".concat(NA.focusVisible),{backgroundColor:n.palette[r.color].dark}))}),(function(e){var t,n,r=e.theme,i=e.ownerState;return Od({},"outlined"===i.variant&&(t={backgroundColor:"transparent",border:"1px solid ".concat("light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[700])},(0,x.Z)(t,"&.".concat(NA.clickable,":hover"),{backgroundColor:r.palette.action.hover}),(0,x.Z)(t,"&.".concat(NA.focusVisible),{backgroundColor:r.palette.action.focus}),(0,x.Z)(t,"& .".concat(NA.avatar),{marginLeft:4}),(0,x.Z)(t,"& .".concat(NA.avatarSmall),{marginLeft:2}),(0,x.Z)(t,"& .".concat(NA.icon),{marginLeft:4}),(0,x.Z)(t,"& .".concat(NA.iconSmall),{marginLeft:2}),(0,x.Z)(t,"& .".concat(NA.deleteIcon),{marginRight:5}),(0,x.Z)(t,"& .".concat(NA.deleteIconSmall),{marginRight:3}),t),"outlined"===i.variant&&"default"!==i.color&&(n={color:r.palette[i.color].main,border:"1px solid ".concat(Oy(r.palette[i.color].main,.7))},(0,x.Z)(n,"&.".concat(NA.clickable,":hover"),{backgroundColor:Oy(r.palette[i.color].main,r.palette.action.hoverOpacity)}),(0,x.Z)(n,"&.".concat(NA.focusVisible),{backgroundColor:Oy(r.palette[i.color].main,r.palette.action.focusOpacity)}),(0,x.Z)(n,"& .".concat(NA.deleteIcon),{color:Oy(r.palette[i.color].main,.7),"&:hover, &:active":{color:r.palette[i.color].main}}),n))})),WA=nb("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var n=e.ownerState.size;return[t.label,t["label".concat(tM(n))]]}})((function(e){return Od({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===e.ownerState.size&&{paddingLeft:8,paddingRight:8})}));function BA(e){return"Backspace"===e.key||"Delete"===e.key}var FA,$A,VA=e.forwardRef((function(t,n){var r=cb({props:t,name:"MuiChip"}),i=r.avatar,o=r.className,a=r.clickable,s=r.color,u=void 0===s?"default":s,l=r.component,c=r.deleteIcon,h=r.disabled,f=void 0!==h&&h,d=r.icon,p=r.label,v=r.onClick,m=r.onDelete,g=r.onKeyDown,y=r.onKeyUp,b=r.size,O=void 0===b?"medium":b,x=r.variant,w=void 0===x?"filled":x,k=Np(r,zA),S=e.useRef(null),_=Tb(S,n),T=function(e){e.stopPropagation(),m&&m(e)},M=!(!1===a||!v)||a,E="small"===O,P=M||m?xT:l||"div",C=Od({},r,{component:P,disabled:f,size:O,color:u,onDelete:!!m,clickable:M,variant:w}),A=function(e){var t=e.classes,n=e.disabled,r=e.size,i=e.color,o=e.onDelete,a=e.clickable,s=e.variant;return Bp({root:["root",s,n&&"disabled","size".concat(tM(r)),"color".concat(tM(i)),a&&"clickable",a&&"clickableColor".concat(tM(i)),o&&"deletable",o&&"deletableColor".concat(tM(i)),"".concat(s).concat(tM(i))],label:["label","label".concat(tM(r))],avatar:["avatar","avatar".concat(tM(r)),"avatarColor".concat(tM(i))],icon:["icon","icon".concat(tM(r)),"iconColor".concat(tM(i))],deleteIcon:["deleteIcon","deleteIcon".concat(tM(r)),"deleteIconColor".concat(tM(i)),"deleteIconOutlinedColor".concat(tM(i))]},IA,t)}(C),R=P===xT?Od({component:l||"div",focusVisibleClassName:A.focusVisible},m&&{disableRipple:!0}):{},L=null;if(m){var Q=Wp("default"!==u&&("outlined"===w?A["deleteIconOutlinedColor".concat(tM(u))]:A["deleteIconColor".concat(tM(u))]),E&&A.deleteIconSmall);L=c&&e.isValidElement(c)?e.cloneElement(c,{className:Wp(c.props.className,A.deleteIcon,Q),onClick:T}):(0,qp.jsx)(ZA,{className:Wp(A.deleteIcon,Q),onClick:T})}var D=null;i&&e.isValidElement(i)&&(D=e.cloneElement(i,{className:Wp(A.avatar,i.props.className)}));var Z=null;return d&&e.isValidElement(d)&&(Z=e.cloneElement(d,{className:Wp(A.icon,d.props.className)})),(0,qp.jsxs)(jA,Od({as:P,className:Wp(A.root,o),disabled:!(!M||!f)||void 0,onClick:v,onKeyDown:function(e){e.currentTarget===e.target&&BA(e)&&e.preventDefault(),g&&g(e)},onKeyUp:function(e){e.currentTarget===e.target&&(m&&BA(e)?m(e):"Escape"===e.key&&S.current&&S.current.blur()),y&&y(e)},ref:_,ownerState:C},R,k,{children:[D||Z,(0,qp.jsx)(WA,{className:Wp(A.label),ownerState:C,children:p}),L]}))})),UA=VA,HA=kP((0,qp.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),GA=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"],qA=nb("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.fullWidth,i=n.hasClearIcon,o=n.hasPopupIcon,a=n.inputFocused,s=n.size;return[(0,x.Z)({},"& .".concat(YP.tag),t.tag),(0,x.Z)({},"& .".concat(YP.tag),t["tagSize".concat(tM(s))]),(0,x.Z)({},"& .".concat(YP.inputRoot),t.inputRoot),(0,x.Z)({},"& .".concat(YP.input),t.input),(0,x.Z)({},"& .".concat(YP.input),a&&t.inputFocused),t.root,r&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})((function(e){var t,n,r,i,o,a=e.ownerState;return Od((t={},(0,x.Z)(t,"&.".concat(YP.focused," .").concat(YP.clearIndicator),{visibility:"visible"}),(0,x.Z)(t,"@media (pointer: fine)",(0,x.Z)({},"&:hover .".concat(YP.clearIndicator),{visibility:"visible"})),t),a.fullWidth&&{width:"100%"},(o={},(0,x.Z)(o,"& .".concat(YP.tag),Od({margin:3,maxWidth:"calc(100% - 6px)"},"small"===a.size&&{margin:2,maxWidth:"calc(100% - 4px)"})),(0,x.Z)(o,"& .".concat(YP.inputRoot),(n={flexWrap:"wrap"},(0,x.Z)(n,".".concat(YP.hasPopupIcon,"&, .").concat(YP.hasClearIcon,"&"),{paddingRight:30}),(0,x.Z)(n,".".concat(YP.hasPopupIcon,".").concat(YP.hasClearIcon,"&"),{paddingRight:56}),(0,x.Z)(n,"& .".concat(YP.input),{width:0,minWidth:30}),n)),(0,x.Z)(o,"& .".concat(yM.root),{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}}),(0,x.Z)(o,"& .".concat(yM.root,".").concat(uM.sizeSmall),(0,x.Z)({},"& .".concat(yM.input),{padding:"2px 4px 3px 0"})),(0,x.Z)(o,"& .".concat(DM.root),(r={padding:9},(0,x.Z)(r,".".concat(YP.hasPopupIcon,"&, .").concat(YP.hasClearIcon,"&"),{paddingRight:39}),(0,x.Z)(r,".".concat(YP.hasPopupIcon,".").concat(YP.hasClearIcon,"&"),{paddingRight:65}),(0,x.Z)(r,"& .".concat(YP.input),{padding:"7.5px 4px 7.5px 6px"}),(0,x.Z)(r,"& .".concat(YP.endAdornment),{right:9}),r)),(0,x.Z)(o,"& .".concat(DM.root,".").concat(uM.sizeSmall),(0,x.Z)({padding:6},"& .".concat(YP.input),{padding:"2.5px 4px 2.5px 6px"})),(0,x.Z)(o,"& .".concat(_M.root),(i={paddingTop:19,paddingLeft:8},(0,x.Z)(i,".".concat(YP.hasPopupIcon,"&, .").concat(YP.hasClearIcon,"&"),{paddingRight:39}),(0,x.Z)(i,".".concat(YP.hasPopupIcon,".").concat(YP.hasClearIcon,"&"),{paddingRight:65}),(0,x.Z)(i,"& .".concat(_M.input),{padding:"7px 4px"}),(0,x.Z)(i,"& .".concat(YP.endAdornment),{right:9}),i)),(0,x.Z)(o,"& .".concat(_M.root,".").concat(uM.sizeSmall),(0,x.Z)({paddingBottom:1},"& .".concat(_M.input),{padding:"2.5px 4px"})),(0,x.Z)(o,"& .".concat(uM.hiddenLabel),{paddingTop:8}),(0,x.Z)(o,"& .".concat(YP.input),Od({flexGrow:1,textOverflow:"ellipsis",opacity:0},a.inputFocused&&{opacity:1})),o))})),XA=nb("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:function(e,t){return t.endAdornment}})({position:"absolute",right:0,top:"calc(50% - 14px)"}),YA=nb(DA,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:function(e,t){return t.clearIndicator}})({marginRight:-2,padding:4,visibility:"hidden"}),JA=nb(DA,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:function(e,t){var n=e.ownerState;return Od({},t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen)}})((function(e){return Od({padding:2,marginRight:-2},e.ownerState.popupOpen&&{transform:"rotate(180deg)"})})),KA=nb(SA,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[(0,x.Z)({},"& .".concat(YP.option),t.option),t.popper,n.disablePortal&&t.popperDisablePortal]}})((function(e){var t=e.theme,n=e.ownerState;return Od({zIndex:t.zIndex.modal},n.disablePortal&&{position:"absolute"})})),eR=nb(w_,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:function(e,t){return t.paper}})((function(e){return Od({},e.theme.typography.body1,{overflow:"auto"})})),tR=nb("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:function(e,t){return t.loading}})((function(e){return{color:e.theme.palette.text.secondary,padding:"14px 16px"}})),nR=nb("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:function(e,t){return t.noOptions}})((function(e){return{color:e.theme.palette.text.secondary,padding:"14px 16px"}})),rR=nb("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:function(e,t){return t.listbox}})((function(e){var t,n,r=e.theme;return(0,x.Z)({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},"& .".concat(YP.option),(n={minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},(0,x.Z)(n,r.breakpoints.up("sm"),{minHeight:"auto"}),(0,x.Z)(n,"&.".concat(YP.focused),{backgroundColor:r.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}),(0,x.Z)(n,'&[aria-disabled="true"]',{opacity:r.palette.action.disabledOpacity,pointerEvents:"none"}),(0,x.Z)(n,"&.".concat(YP.focusVisible),{backgroundColor:r.palette.action.focus}),(0,x.Z)(n,'&[aria-selected="true"]',(t={backgroundColor:Oy(r.palette.primary.main,r.palette.action.selectedOpacity)},(0,x.Z)(t,"&.".concat(YP.focused),{backgroundColor:Oy(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.palette.action.selected}}),(0,x.Z)(t,"&.".concat(YP.focusVisible),{backgroundColor:Oy(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}),t)),n))})),iR=nb(PA,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:function(e,t){return t.groupLabel}})((function(e){return{backgroundColor:e.theme.palette.background.paper,top:-8}})),oR=nb("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:function(e,t){return t.groupUl}})((0,x.Z)({padding:0},"& .".concat(YP.option),{paddingLeft:24})),aR=e.forwardRef((function(t,n){var r,i,o,a=cb({props:t,name:"MuiAutocomplete"}),s=(a.autoComplete,a.autoHighlight,a.autoSelect,a.blurOnSelect,a.ChipProps),u=a.className,l=a.clearIcon,c=void 0===l?FA||(FA=(0,qp.jsx)(HA,{fontSize:"small"})):l,h=a.clearOnBlur,f=(void 0===h&&a.freeSolo,a.clearOnEscape,a.clearText),d=void 0===f?"Clear":f,p=a.closeText,v=void 0===p?"Close":p,m=a.componentsProps,g=void 0===m?{}:m,y=a.defaultValue,b=(void 0===y&&a.multiple,a.disableClearable),O=void 0!==b&&b,x=(a.disableCloseOnSelect,a.disabled),w=void 0!==x&&x,k=(a.disabledItemsFocusable,a.disableListWrap,a.disablePortal),S=void 0!==k&&k,_=(a.filterSelectedOptions,a.forcePopupIcon),T=void 0===_?"auto":_,M=a.freeSolo,E=void 0!==M&&M,P=a.fullWidth,C=void 0!==P&&P,A=a.getLimitTagsText,R=void 0===A?function(e){return"+".concat(e)}:A,L=a.getOptionLabel,Q=void 0===L?function(e){var t;return null!=(t=e.label)?t:e}:L,D=a.groupBy,Z=a.handleHomeEndKeys,I=(void 0===Z&&a.freeSolo,a.includeInputInList,a.limitTags),N=void 0===I?-1:I,z=a.ListboxComponent,j=void 0===z?"ul":z,W=a.ListboxProps,B=a.loading,F=void 0!==B&&B,$=a.loadingText,V=void 0===$?"Loading\u2026":$,U=a.multiple,H=void 0!==U&&U,G=a.noOptionsText,q=void 0===G?"No options":G,X=(a.openOnFocus,a.openText),Y=void 0===X?"Open":X,J=a.PaperComponent,K=void 0===J?w_:J,ee=a.PopperComponent,te=void 0===ee?SA:ee,ne=a.popupIcon,re=void 0===ne?$A||($A=(0,qp.jsx)(TP,{})):ne,ie=a.renderGroup,oe=a.renderInput,ae=a.renderOption,se=a.renderTags,ue=a.selectOnFocus,le=(void 0===ue&&a.freeSolo,a.size),ce=void 0===le?"medium":le,he=Np(a,GA),fe=tC(Od({},a,{componentName:"Autocomplete"})),de=fe.getRootProps,pe=fe.getInputProps,ve=fe.getInputLabelProps,me=fe.getPopupIndicatorProps,ge=fe.getClearProps,ye=fe.getTagProps,be=fe.getListboxProps,Oe=fe.getOptionProps,xe=fe.value,we=fe.dirty,ke=fe.id,Se=fe.popupOpen,_e=fe.focused,Te=fe.focusedTag,Me=fe.anchorEl,Ee=fe.setAnchorEl,Pe=fe.inputValue,Ce=fe.groupedOptions,Ae=!O&&!w&&we,Re=(!E||!0===T)&&!1!==T,Le=Od({},a,{disablePortal:S,focused:_e,fullWidth:C,hasClearIcon:Ae,hasPopupIcon:Re,inputFocused:-1===Te,popupOpen:Se,size:ce}),Qe=function(e){var t=e.classes,n=e.disablePortal,r=e.focused,i=e.fullWidth,o=e.hasClearIcon,a=e.hasPopupIcon,s=e.inputFocused,u=e.popupOpen,l=e.size;return Bp({root:["root",r&&"focused",i&&"fullWidth",o&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag","tagSize".concat(tM(l))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]},XP,t)}(Le);if(H&&xe.length>0){var De=function(e){return Od({className:Wp(Qe.tag),disabled:w},ye(e))};o=se?se(xe,De):xe.map((function(e,t){return(0,qp.jsx)(UA,Od({label:Q(e),size:ce},De({index:t}),s))}))}if(N>-1&&Array.isArray(o)){var Ze=o.length-N;!_e&&Ze>0&&(o=o.splice(0,N)).push((0,qp.jsx)("span",{className:Qe.tag,children:R(Ze)},o.length))}var Ie=ie||function(e){return(0,qp.jsxs)("li",{children:[(0,qp.jsx)(iR,{className:Qe.groupLabel,ownerState:Le,component:"div",children:e.group}),(0,qp.jsx)(oR,{className:Qe.groupUl,ownerState:Le,children:e.children})]},e.key)},Ne=ae||function(e,t){return(0,qp.jsx)("li",Od({},e,{children:Q(t)}))},ze=function(e,t){var n=Oe({option:e,index:t});return Ne(Od({},n,{className:Qe.option}),e,{selected:n["aria-selected"],inputValue:Pe})};return(0,qp.jsxs)(e.Fragment,{children:[(0,qp.jsx)(qA,Od({ref:n,className:Wp(Qe.root,u),ownerState:Le},de(he),{children:oe({id:ke,disabled:w,fullWidth:!0,size:"small"===ce?"small":void 0,InputLabelProps:ve(),InputProps:{ref:Ee,className:Qe.inputRoot,startAdornment:o,endAdornment:(0,qp.jsxs)(XA,{className:Qe.endAdornment,ownerState:Le,children:[Ae?(0,qp.jsx)(YA,Od({},ge(),{"aria-label":d,title:d,ownerState:Le},g.clearIndicator,{className:Wp(Qe.clearIndicator,null==(r=g.clearIndicator)?void 0:r.className),children:c})):null,Re?(0,qp.jsx)(JA,Od({},me(),{disabled:w,"aria-label":Se?v:Y,title:Se?v:Y,className:Wp(Qe.popupIndicator),ownerState:Le,children:re})):null]})},inputProps:Od({className:Wp(Qe.input),disabled:w},pe())})})),Se&&Me?(0,qp.jsx)(KA,{as:te,className:Wp(Qe.popper),disablePortal:S,style:{width:Me?Me.clientWidth:null},ownerState:Le,role:"presentation",anchorEl:Me,open:!0,children:(0,qp.jsxs)(eR,Od({ownerState:Le,as:K},g.paper,{className:Wp(Qe.paper,null==(i=g.paper)?void 0:i.className),children:[F&&0===Ce.length?(0,qp.jsx)(tR,{className:Qe.loading,ownerState:Le,children:V}):null,0!==Ce.length||E||F?null:(0,qp.jsx)(nR,{className:Qe.noOptions,ownerState:Le,role:"presentation",onMouseDown:function(e){e.preventDefault()},children:q}),Ce.length>0?(0,qp.jsx)(rR,Od({as:j,className:Qe.listbox,ownerState:Le},be(),W,{children:Ce.map((function(e,t){return D?Ie({key:e.key,group:e.group,children:e.options.map((function(t,n){return ze(t,e.index+n)}))}):ze(e,t)}))})):null]}))}):null]})})),sR=aR,uR=nb(SA)((0,x.Z)({},"& .".concat(YP.listbox),{backgroundColor:"#30303d",paddingLeft:"1rem",paddingTop:"1rem"})),lR=function(t){var n=function(){var t=(0,e.useRef)(null);return[t,function(){t.current&&t.current.focus()}]}(),r=(0,w.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(null),s=(0,w.Z)(a,2),u=(s[0],s[1],(0,e.useState)("")),l=(0,w.Z)(u,2),c=l[0],h=l[1],f=(0,e.useState)(!1),d=(0,w.Z)(f,2),p=(d[0],d[1]),v=(0,e.useState)(null),m=(0,w.Z)(v,2),g=m[0],y=m[1],b=t.data.nodes.map((function(e){return{title:e.id,node:e}}));return(0,qp.jsxs)("div",{className:"flex flex-col items-center justify-center h-full border-0 border-red-500",children:[o(),(0,qp.jsxs)("div",{className:"mb-4 font-bold text-gray-100",children:["Source: ",t.source.id]}),(0,qp.jsx)(sR,{disablePortal:!0,PopperComponent:uR,autoComplete:!0,autoHighlight:!0,onChange:function(e,t){y(t.title)},onKeyDown:function(e){y(e.target.value),console.log(e.target.value,"the valueee"),"Enter"==e.code&&setTimeout((function(){b.map((function(e){return e.title})).includes(e.target.value)&&(p(!0),y(e.target.value))}),0)},id:"combo-box-demo",autoFocus:!0,options:b,getOptionLabel:function(e){return e.title},sx:{width:"100%",pl:2,pr:2,marginTop:"-0.4rem",color:"white !important","& .MuiAutocomplete-endAdornment":{display:"none"},"& .MuiAutocomplete-root":{color:"white"},"& .MuiAutocomplete-input":{color:"#f5f5f5"},"& .MuiAutocomplete-inputRoot":{color:"#f5f5f5"},"& .MuiAutocomplete-paper":{color:"#f5f5f5"}},classes:{},renderInput:function(e){return(0,qp.jsx)(DP,(0,T.Z)((0,T.Z)({},e),{},{label:"Edge target",autoFocus:!0,margin:"normal",sx:{},ref:i}))},renderOption:function(e,t,n){var r=n.inputValue,i=zP()(t.title,r),o=IP()(t.title,i);return(0,qp.jsx)("div",{className:"h-full m-0 text-gray-300",children:(0,qp.jsx)("li",(0,T.Z)((0,T.Z)({},e),{},{className:"mb-2",children:(0,qp.jsx)("div",{children:o.map((function(e,t){return(0,qp.jsx)("span",{style:{fontWeight:e.highlight?700:400},children:e.text},t)}))})}))})}}),(0,qp.jsx)("div",{className:"mt-4 font-bold text-gray-100",children:"Edge content"}),(0,qp.jsx)(n_,{value:c,theme:"dark",width:"24.2rem",onChange:function(e){h(e)},extensions:[(0,r_.markdown)({base:r_.markdownLanguage,codeLanguages:a_})],className:"mt-4"}),(0,qp.jsx)("div",{className:"flex items-center justify-center mt-5",children:(0,qp.jsx)("div",{className:"p-2 mb-2 text-gray-200 bg-indigo-900 rounded-lg pr-7 pl-7 hover:bg-indigo-800 transition-all",onClick:function(){console.log(b.map((function(e){return e.title})),g),b.map((function(e){return e.title})).includes(g)&&(console.log("sugmitt"),t.handleLinkSubmit({source:t.source.id,target:g,value:1,Content:c}))},children:"Add"})})]})},cR={width:"30rem",height:"25rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid #000",borderRadius:"8px",outline:"none",backgroundColor:"#202024",p:4},hR=function(t){var n=(0,e.useState)(t.node.content),r=(0,w.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(t.node.id),s=(0,w.Z)(a,2),u=s[0],l=s[1],c=(0,e.useState)(String(t.node.group)),h=(0,w.Z)(c,2),f=h[0],d=h[1],p=(0,e.useState)(!1),v=(0,w.Z)(p,2),m=v[0],g=v[1];return(0,qp.jsxs)("div",{className:"h-full overflow-auto border-0 border-red-400",children:[(0,qp.jsxs)("div",{className:"",children:[(0,qp.jsx)("div",{className:"pb-4 pl-0 text-xl font-bold text-gray-100",children:(0,qp.jsx)("div",{className:"flex flex-row",children:(0,qp.jsxs)("div",{className:"flex flex-row items-center",children:[(0,qp.jsx)("p",{className:"mr-4",children:"Vertex "}),(0,qp.jsx)(n_,{value:u,editable:!1,theme:"dark",onChange:function(e){l(e)},extensions:[(0,r_.markdown)({base:r_.markdownLanguage,codeLanguages:a_})]})]})})}),(0,qp.jsx)(n_,{value:i,theme:"dark",onChange:function(e){o(e)},extensions:[(0,r_.markdown)({base:r_.markdownLanguage,codeLanguages:a_})]})]}),(0,qp.jsx)("p",{className:"pb-4 pl-0 mt-4 text-xl font-bold text-gray-100",children:"Edges"}),t.data.links.filter((function(e){if(e.source.id==t.node.id||e.target.id==t.node.id)return e})).map((function(e,n){return(0,qp.jsx)("div",{className:"mb-3",children:(0,qp.jsxs)(A_,{sx:{background:"#313140",color:"#d7d7ee",fontWeight:"700"},children:[(0,qp.jsx)(ET,{expandIcon:(0,qp.jsx)(jT,{className:"text-gray-100"}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{paddingTop:"10px",paddingBottom:"10px"},children:(0,qp.jsxs)("div",{className:"flex flex-row",children:[(0,qp.jsx)(BT,{className:"mt-1 mr-1"}),(0,qp.jsx)("p",{className:"pl-1 pr-1 rounded-sm hover:bg-gray-700 transition-all",onClick:function(){t.nav(e.source.id)},children:e.source.id}),(0,qp.jsx)(WT,{className:"mt-0 ml-4 mr-5 text-2xl"}),(0,qp.jsx)("p",{className:"pl-1 pr-1 rounded-sm hover:bg-gray-700 transition-all",onClick:function(){t.nav(e.target.id)},children:e.target.id})]})}),(0,qp.jsx)(RT,{children:(0,qp.jsx)("div",{className:"-mt-4 font-normal",children:(0,qp.jsx)(n_,{value:e.Content,theme:"dark",extensions:[(0,r_.markdown)({base:r_.markdownLanguage,codeLanguages:a_})]})})})]})},n)})),(0,qp.jsx)("div",{style:{height:"3rem",justifyContent:"center",alignItems:"center",textAlign:"center",display:"flex",borderRadius:"3px",padding:"1rem",color:"#d7d7ee",fontWeight:"700"},className:"mb-4 addLink",onClick:function(){g(!0)},children:"Add a edge"}),(0,qp.jsxs)("div",{className:"flex flex-row items-center mt-3",children:[(0,qp.jsx)("p",{className:"mr-2 text-gray-100",children:" Group: "}),(0,qp.jsx)(n_,{value:f,theme:"dark",width:"10rem",onChange:function(e){d(e)},extensions:[(0,r_.markdown)({base:r_.markdownLanguage,codeLanguages:a_})]}),(0,qp.jsx)("div",{className:"items-center justify-center p-2 ml-4 text-sm font-bold text-center text-gray-300 align-middle rounded bg-slate-700 hover:bg-slate-600 transition",onClick:function(){t.handleNodeUpdate({id:u,group:f,content:i})},children:"Push Changes"})]}),(0,qp.jsx)(hO,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:m,onClose:function(){g(!1)},closeAfterTransition:!0,BackdropComponent:Qb,BackdropProps:{timeout:200},children:(0,qp.jsx)(Ab,{in:m,children:(0,qp.jsx)(zb,{sx:cR,children:(0,qp.jsx)(lR,{data:t.data,handleLinkSubmit:function(e){t.handleLinkSubmit(e)},source:t.node})})})})]})},fR=nb(SA)((0,x.Z)({},"& .".concat(YP.listbox),{backgroundColor:"#30303d",paddingLeft:"1rem",paddingTop:"1rem","& ul":{}})),dR=function(t){var n=function(){var t=(0,e.useRef)(null);return[t,function(){t.current&&t.current.focus()}]}(),r=(0,w.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(null),s=(0,w.Z)(a,2),u=(s[0],s[1],t.data.nodes.map((function(e){return{title:e.id,node:e}})));return(0,qp.jsxs)("div",{className:"flex items-center justify-center h-full border-0 border-red-500",children:[o(),(0,qp.jsx)(sR,{disablePortal:!0,PopperComponent:fR,autoComplete:!0,autoHighlight:!0,onKeyDown:function(e){"Enter"==e.code&&setTimeout((function(){console.log(e.target.value),u.map((function(e){return e.title})).includes(e.target.value)&&t.handleSearchSubmit(e.target.value)}),0)},id:"combo-box-demo",autoFocus:!0,options:u,getOptionLabel:function(e){return e.title},sx:{width:"100%",pl:2,pr:2,marginTop:"-0.4rem",color:"white !important","& .MuiAutocomplete-endAdornment":{display:"none"},"& .MuiAutocomplete-root":{color:"white"},"& .MuiAutocomplete-input":{color:"#f5f5f5"},"& .MuiAutocomplete-inputRoot":{color:"#f5f5f5"},"& .MuiAutocomplete-paper":{color:"#f5f5f5"}},classes:{},renderInput:function(e){return(0,qp.jsx)(DP,(0,T.Z)((0,T.Z)({},e),{},{label:"Search",autoFocus:!0,margin:"normal",sx:{},ref:i}))},renderOption:function(e,t,n){var r=n.inputValue,i=zP()(t.title,r),o=IP()(t.title,i);return(0,qp.jsx)("div",{className:"h-full m-0 text-gray-300",children:(0,qp.jsx)("li",(0,T.Z)((0,T.Z)({},e),{},{className:"mb-2",children:(0,qp.jsx)("div",{children:o.map((function(e,t){return(0,qp.jsx)("span",{style:{fontWeight:e.highlight?700:400},children:e.text},t)}))})}))})}})]})},pR=function(t){var n=(0,e.useState)("Vertex Name"),r=(0,w.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)("1"),s=(0,w.Z)(a,2),u=s[0],l=(s[1],(0,e.useState)("# Title \nThe content of the vertex!")),c=(0,w.Z)(l,2),h=c[0],f=c[1];return(0,qp.jsxs)("div",{className:"flex flex-col h-full overflow-auto border-0 border-red-400 space-y-4",children:[(0,qp.jsxs)("div",{className:"flex flex-row items-center justify-center w-full border-0 space-x-4",children:[(0,qp.jsx)("p",{className:"font-bold text-gray-100",children:"Name: "}),(0,qp.jsx)(n_,{value:i,theme:"dark",width:"15rem",onChange:function(e){o(e)},extensions:[(0,r_.markdown)({base:r_.markdownLanguage,codeLanguages:a_})]})]}),(0,qp.jsxs)("div",{className:"flex flex-row items-center justify-center w-full border-0 space-x-4",children:[(0,qp.jsx)("p",{className:"font-bold text-gray-100",children:"Group: "}),(0,qp.jsx)(n_,{value:u,theme:"dark",width:"15rem",onChange:function(e){o(e)},extensions:[(0,r_.markdown)({base:r_.markdownLanguage,codeLanguages:a_})]})]}),(0,qp.jsx)("div",{className:"flex flex-col items-center justify-center w-full border-0 space-x-4",children:(0,qp.jsx)("p",{className:"font-bold text-gray-100",children:"Content: "})}),(0,qp.jsx)(n_,{value:h,theme:"dark",onChange:function(e){f(e)},extensions:[(0,r_.markdown)({base:r_.markdownLanguage,codeLanguages:a_})]}),(0,qp.jsx)("div",{className:"flex items-center justify-center",children:(0,qp.jsx)("div",{className:"p-2 mb-2 text-gray-200 bg-indigo-900 rounded-lg pr-7 pl-7 hover:bg-indigo-800 transition-all",onClick:function(){t.handleNodeAddition({id:i,group:u,content:h})},children:"Save"})})]})},vR={"X-Client-Info":"supabase-js/".concat("1.29.3")};var mR=n(4255),gR=n.n(mR),yR=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},bR=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},OR=function(e,t){if("function"!==typeof e.json)return t(e);e.json().then((function(n){return t({message:bR(n),status:(null===e||void 0===e?void 0:e.status)||500})}))},xR=function(e,t,n){var r={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e||(r.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),r.body=JSON.stringify(n)),r};function wR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gR(),t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return yR(this,void 0,void 0,L().mark((function o(){return L().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Promise((function(o,a){e(n,xR(t,r,i)).then((function(e){if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?o:e.json()})).then((function(e){return o(e)})).catch((function(e){return OR(e,a)}))})));case 1:case"end":return o.stop()}}),o)})))}function kR(e,t,n){return yR(this,void 0,void 0,L().mark((function r(){return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",wR(e,"GET",t,n));case 1:case"end":return r.stop()}}),r)})))}function SR(e,t,n,r){return yR(this,void 0,void 0,L().mark((function i(){return L().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",wR(e,"POST",t,r,n));case 1:case"end":return i.stop()}}),i)})))}function _R(e,t,n,r){return yR(this,void 0,void 0,L().mark((function i(){return L().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",wR(e,"PUT",t,r,n));case 1:case"end":return i.stop()}}),i)})))}function TR(e,t,n,r){return yR(this,void 0,void 0,L().mark((function i(){return L().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",wR(e,"DELETE",t,r,n));case 1:case"end":return i.stop()}}),i)})))}var MR={"X-Client-Info":"gotrue-js/".concat("1.22.0")},ER="supabase.auth.token",PR={name:"sb:token",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function CR(e,t){var n,r,i;return function(e,t,n){var r=n||{},i=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!==typeof i)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var a=i(t);if(a&&!o.test(a))throw new TypeError("argument val is invalid");var s=e+"="+a;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(u)}if(r.domain){if(!o.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!o.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}(e.name,e.value,{maxAge:e.maxAge,expires:new Date(Date.now()+1e3*e.maxAge),httpOnly:!0,secure:t,path:null!==(n=e.path)&&void 0!==n?n:"/",domain:null!==(r=e.domain)&&void 0!==r?r:"",sameSite:null!==(i=e.sameSite)&&void 0!==i?i:"lax"})}function AR(e,t,n){var r=n.map((function(t){return CR(t,function(e){if(!e||!e.headers||!e.headers.host)throw new Error('The "host" request header is not available');var t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}(e))})),i=t.getHeader("Set-Cookie");i&&(i instanceof Array?Array.prototype.push.apply(r,i):"string"===typeof i&&r.push(i)),t.setHeader("Set-Cookie",r)}function RR(e,t,n){AR(e,t,[n])}function LR(e){return Math.round(Date.now()/1e3)+e}var QR=function(){return"undefined"!==typeof window};function DR(e,t){var n;t||(t=(null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}var ZR=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},IR=function(){function e(t){var n=t.url,r=void 0===n?"":n,i=t.headers,o=void 0===i?{}:i,a=t.cookieOptions,s=t.fetch;(0,C.Z)(this,e),this.url=r,this.headers=o,this.cookieOptions=Object.assign(Object.assign({},PR),a),this.fetch=s}return(0,A.Z)(e,[{key:"_createRequestHeaders",value:function(e){var t=Object.assign({},this.headers);return t.Authorization="Bearer ".concat(e),t}},{key:"cookieName",value:function(){var e;return null!==(e=this.cookieOptions.name)&&void 0!==e?e:""}},{key:"getUrlForProvider",value:function(e,t){var n=["provider=".concat(encodeURIComponent(e))];return(null===t||void 0===t?void 0:t.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(t.redirectTo))),(null===t||void 0===t?void 0:t.scopes)&&n.push("scopes=".concat(encodeURIComponent(t.scopes))),"".concat(this.url,"/authorize?").concat(n.join("&"))}},{key:"signUpWithEmail",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ZR(this,void 0,void 0,L().mark((function r(){var i,o,a,s;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=Object.assign({},this.headers),o="",n.redirectTo&&(o="?redirect_to="+encodeURIComponent(n.redirectTo)),r.next=6,SR(this.fetch,"".concat(this.url,"/signup").concat(o),{email:e,password:t,data:n.data,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:i});case 6:return a=r.sent,(s=Object.assign({},a)).expires_in&&(s.expires_at=LR(a.expires_in)),r.abrupt("return",{data:s,error:null});case 12:return r.prev=12,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 15:case"end":return r.stop()}}),r,this,[[0,12]])})))}},{key:"signInWithEmail",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ZR(this,void 0,void 0,L().mark((function r(){var i,o,a,s;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=Object.assign({},this.headers),o="?grant_type=password",n.redirectTo&&(o+="&redirect_to="+encodeURIComponent(n.redirectTo)),r.next=6,SR(this.fetch,"".concat(this.url,"/token").concat(o),{email:e,password:t},{headers:i});case 6:return a=r.sent,(s=Object.assign({},a)).expires_in&&(s.expires_at=LR(a.expires_in)),r.abrupt("return",{data:s,error:null});case 12:return r.prev=12,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 15:case"end":return r.stop()}}),r,this,[[0,12]])})))}},{key:"signUpWithPhone",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ZR(this,void 0,void 0,L().mark((function r(){var i,o,a;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=Object.assign({},this.headers),r.next=4,SR(this.fetch,"".concat(this.url,"/signup"),{phone:e,password:t,data:n.data,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:i});case 4:return o=r.sent,(a=Object.assign({},o)).expires_in&&(a.expires_at=LR(o.expires_in)),r.abrupt("return",{data:a,error:null});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 13:case"end":return r.stop()}}),r,this,[[0,10]])})))}},{key:"signInWithPhone",value:function(e,t){return ZR(this,void 0,void 0,L().mark((function n(){var r,i,o;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=Object.assign({},this.headers),"?grant_type=password",n.next=5,SR(this.fetch,"".concat(this.url,"/token").concat("?grant_type=password"),{phone:e,password:t},{headers:r});case 5:return i=n.sent,(o=Object.assign({},i)).expires_in&&(o.expires_at=LR(i.expires_in)),n.abrupt("return",{data:o,error:null});case 11:return n.prev=11,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 14:case"end":return n.stop()}}),n,this,[[0,11]])})))}},{key:"sendMagicLinkEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ZR(this,void 0,void 0,L().mark((function n(){var r,i,o;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=Object.assign({},this.headers),i="",t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),n.next=6,SR(this.fetch,"".concat(this.url,"/magiclink").concat(i),{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r});case 6:return o=n.sent,n.abrupt("return",{data:o,error:null});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 13:case"end":return n.stop()}}),n,this,[[0,10]])})))}},{key:"sendMobileOTP",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ZR(this,void 0,void 0,L().mark((function n(){var r,i;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=Object.assign({},this.headers),n.next=4,SR(this.fetch,"".concat(this.url,"/otp"),{phone:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r});case 4:return i=n.sent,n.abrupt("return",{data:i,error:null});case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 11:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"signOut",value:function(e){return ZR(this,void 0,void 0,L().mark((function t(){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,SR(this.fetch,"".concat(this.url,"/logout"),{},{headers:this._createRequestHeaders(e),noResolveJson:!0});case 3:return t.abrupt("return",{error:null});case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"verifyMobileOTP",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ZR(this,void 0,void 0,L().mark((function r(){var i,o;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=Object.assign({},this.headers),r.next=4,SR(this.fetch,"".concat(this.url,"/verify"),{phone:e,token:t,type:"sms",redirect_to:n.redirectTo},{headers:i});case 4:return o=r.sent,r.abrupt("return",{data:o,error:null});case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 11:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"inviteUserByEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ZR(this,void 0,void 0,L().mark((function n(){var r,i,o;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=Object.assign({},this.headers),i="",t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),n.next=6,SR(this.fetch,"".concat(this.url,"/invite").concat(i),{email:e,data:t.data},{headers:r});case 6:return o=n.sent,n.abrupt("return",{data:o,error:null});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 13:case"end":return n.stop()}}),n,this,[[0,10]])})))}},{key:"resetPasswordForEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ZR(this,void 0,void 0,L().mark((function n(){var r,i,o;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=Object.assign({},this.headers),i="",t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),n.next=6,SR(this.fetch,"".concat(this.url,"/recover").concat(i),{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r});case 6:return o=n.sent,n.abrupt("return",{data:o,error:null});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 13:case"end":return n.stop()}}),n,this,[[0,10]])})))}},{key:"refreshAccessToken",value:function(e){return ZR(this,void 0,void 0,L().mark((function t(){var n,r;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,SR(this.fetch,"".concat(this.url,"/token?grant_type=refresh_token"),{refresh_token:e},{headers:this.headers});case 3:return n=t.sent,(r=Object.assign({},n)).expires_in&&(r.expires_at=LR(n.expires_in)),t.abrupt("return",{data:r,error:null});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"setAuthCookie",value:function(e,t){var n;"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));var r=e.body,i=r.event,o=r.session;if(!i)throw new Error("Auth event missing!");if("SIGNED_IN"===i){if(!o)throw new Error("Auth session missing!");RR(e,t,{name:this.cookieName(),value:o.access_token,domain:this.cookieOptions.domain,maxAge:null!==(n=this.cookieOptions.lifetime)&&void 0!==n?n:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}"SIGNED_OUT"===i&&function(e,t,n){RR(e,t,{name:n,value:"",maxAge:-1})}(e,t,this.cookieName()),t.status(200).json({})}},{key:"generateLink",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ZR(this,void 0,void 0,L().mark((function r(){var i;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,SR(this.fetch,"".concat(this.url,"/admin/generate_link"),{type:e,email:t,password:n.password,data:n.data,redirect_to:n.redirectTo},{headers:this.headers});case 3:return i=r.sent,r.abrupt("return",{data:i,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"createUser",value:function(e){return ZR(this,void 0,void 0,L().mark((function t(){var n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,SR(this.fetch,"".concat(this.url,"/admin/users"),e,{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{user:n,data:n,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{user:null,data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"listUsers",value:function(){return ZR(this,void 0,void 0,L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kR(this.fetch,"".concat(this.url,"/admin/users"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t.users,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getUserById",value:function(e){return ZR(this,void 0,void 0,L().mark((function t(){var n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,kR(this.fetch,"".concat(this.url,"/admin/users/").concat(e),{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"getUserByCookie",value:function(e){return ZR(this,void 0,void 0,L().mark((function t(){var n,r,i,o;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.cookies){t.next=3;break}throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");case 3:if(n=e.cookies[this.cookieName()]){t.next=6;break}throw new Error("No cookie found!");case 6:return t.next=8,this.getUser(n);case 8:if(r=t.sent,i=r.user,!(o=r.error)){t.next=13;break}throw o;case 13:return t.abrupt("return",{token:n,user:i,data:i,error:null});case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",{token:null,user:null,data:null,error:t.t0});case 19:case"end":return t.stop()}}),t,this,[[0,16]])})))}},{key:"updateUserById",value:function(e,t){return ZR(this,void 0,void 0,L().mark((function n(){var r;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=4,_R(this.fetch,"".concat(this.url,"/admin/users/").concat(e),t,{headers:this.headers});case 4:return r=n.sent,n.abrupt("return",{user:r,data:r,error:null});case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",{user:null,data:null,error:n.t0});case 11:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"deleteUser",value:function(e){return ZR(this,void 0,void 0,L().mark((function t(){var n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,TR(this.fetch,"".concat(this.url,"/admin/users/").concat(e),{},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{user:n,data:n,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{user:null,data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"getUser",value:function(e){return ZR(this,void 0,void 0,L().mark((function t(){var n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,kR(this.fetch,"".concat(this.url,"/user"),{headers:this._createRequestHeaders(e)});case 3:return n=t.sent,t.abrupt("return",{user:n,data:n,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{user:null,data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"updateUser",value:function(e,t){return ZR(this,void 0,void 0,L().mark((function n(){var r;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_R(this.fetch,"".concat(this.url,"/user"),t,{headers:this._createRequestHeaders(e)});case 3:return r=n.sent,n.abrupt("return",{user:r,data:r,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{user:null,data:null,error:n.t0});case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}}]),e}();var NR=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();var zR,jR={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:MR},WR=function(){function e(t){(0,C.Z)(this,e),this.stateChangeEmitters=new Map;var n=Object.assign(Object.assign({},jR),t);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.multiTab=n.multiTab,this.localStorage=n.localStorage||globalThis.localStorage,this.api=new IR({url:n.url,headers:n.headers,cookieOptions:n.cookieOptions,fetch:n.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),n.detectSessionInUrl&&QR()&&DR("access_token")&&this.getSessionFromUrl({storeSession:!0}).then((function(e){var t=e.error;t&&console.error("Error getting session from URL.",t)}))}return(0,A.Z)(e,[{key:"signUp",value:function(e){var t=e.email,n=e.password,r=e.phone,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return NR(this,void 0,void 0,L().mark((function e(){var o,a,s,u,l;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._removeSession(),!r||!n){e.next=8;break}return e.next=5,this.api.signUpWithPhone(r,n,{data:i.data,captchaToken:i.captchaToken});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.api.signUpWithEmail(t,n,{redirectTo:i.redirectTo,data:i.data,captchaToken:i.captchaToken});case 10:e.t0=e.sent;case 11:if(o=e.t0,a=o.data,!(s=o.error)){e.next=16;break}throw s;case 16:if(a){e.next=18;break}throw"An error occurred on sign up.";case 18:return u=null,l=null,a.access_token&&(l=(u=a).user,this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN")),a.id&&(l=a),e.abrupt("return",{user:l,session:u,error:null});case 25:return e.prev=25,e.t1=e.catch(0),e.abrupt("return",{user:null,session:null,error:e.t1});case 28:case"end":return e.stop()}}),e,this,[[0,25]])})))}},{key:"signIn",value:function(e){var t=e.email,n=e.phone,r=e.password,i=e.refreshToken,o=e.provider,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return NR(this,void 0,void 0,L().mark((function e(){var s,u,l,c,h,f;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._removeSession(),!t||r){e.next=8;break}return e.next=5,this.api.sendMagicLinkEmail(t,{redirectTo:a.redirectTo,captchaToken:a.captchaToken});case 5:return s=e.sent,u=s.error,e.abrupt("return",{user:null,session:null,error:u});case 8:if(!t||!r){e.next=10;break}return e.abrupt("return",this._handleEmailSignIn(t,r,{redirectTo:a.redirectTo}));case 10:if(!n||r){e.next=16;break}return e.next=13,this.api.sendMobileOTP(n,{captchaToken:a.captchaToken});case 13:return l=e.sent,c=l.error,e.abrupt("return",{user:null,session:null,error:c});case 16:if(!n||!r){e.next=18;break}return e.abrupt("return",this._handlePhoneSignIn(n,r));case 18:if(!i){e.next=26;break}return e.next=21,this._callRefreshToken(i);case 21:if(h=e.sent,!(f=h.error)){e.next=25;break}throw f;case 25:return e.abrupt("return",{user:this.currentUser,session:this.currentSession,error:null});case 26:if(!o){e.next=28;break}return e.abrupt("return",this._handleProviderSignIn(o,{redirectTo:a.redirectTo,scopes:a.scopes}));case 28:throw new Error("You must provide either an email, phone number or a third-party provider.");case 31:return e.prev=31,e.t0=e.catch(0),e.abrupt("return",{user:null,session:null,error:e.t0});case 34:case"end":return e.stop()}}),e,this,[[0,31]])})))}},{key:"verifyOTP",value:function(e){var t=e.phone,n=e.token,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return NR(this,void 0,void 0,L().mark((function e(){var i,o,a,s,u;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._removeSession(),e.next=4,this.api.verifyMobileOTP(t,n,r);case 4:if(i=e.sent,o=i.data,!(a=i.error)){e.next=9;break}throw a;case 9:if(o){e.next=11;break}throw"An error occurred on token verification.";case 11:return s=null,u=null,o.access_token&&(u=(s=o).user,this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),o.id&&(u=o),e.abrupt("return",{user:u,session:s,error:null});case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",{user:null,session:null,error:e.t0});case 21:case"end":return e.stop()}}),e,this,[[0,18]])})))}},{key:"user",value:function(){return this.currentUser}},{key:"session",value:function(){return this.currentSession}},{key:"refreshSession",value:function(){var e;return NR(this,void 0,void 0,L().mark((function t(){var n,r;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null===(e=this.currentSession)||void 0===e?void 0:e.access_token){t.next=3;break}throw new Error("Not logged in.");case 3:return t.next=5,this._callRefreshToken();case 5:if(n=t.sent,!(r=n.error)){t.next=9;break}throw r;case 9:return t.abrupt("return",{data:this.currentSession,user:this.currentUser,error:null});case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{data:null,user:null,error:t.t0});case 15:case"end":return t.stop()}}),t,this,[[0,12]])})))}},{key:"update",value:function(e){var t;return NR(this,void 0,void 0,L().mark((function n(){var r,i,o,a;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,null===(t=this.currentSession)||void 0===t?void 0:t.access_token){n.next=3;break}throw new Error("Not logged in.");case 3:return n.next=5,this.api.updateUser(this.currentSession.access_token,e);case 5:if(r=n.sent,i=r.user,!(o=r.error)){n.next=10;break}throw o;case 10:if(i){n.next=12;break}throw Error("Invalid user data.");case 12:return a=Object.assign(Object.assign({},this.currentSession),{user:i}),this._saveSession(a),this._notifyAllSubscribers("USER_UPDATED"),n.abrupt("return",{data:i,user:i,error:null});case 18:return n.prev=18,n.t0=n.catch(0),n.abrupt("return",{data:null,user:null,error:n.t0});case 21:case"end":return n.stop()}}),n,this,[[0,18]])})))}},{key:"setSession",value:function(e){return NR(this,void 0,void 0,L().mark((function t(){var n,r,i;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("No current session.");case 3:return t.next=5,this.api.refreshAccessToken(e);case 5:if(n=t.sent,r=n.data,!(i=n.error)){t.next=10;break}return t.abrupt("return",{session:null,error:i});case 10:return this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"),t.abrupt("return",{session:r,error:null});case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",{error:t.t0,session:null});case 18:case"end":return t.stop()}}),t,this,[[0,15]])})))}},{key:"setAuth",value:function(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}},{key:"getSessionFromUrl",value:function(e){return NR(this,void 0,void 0,L().mark((function t(){var n,r,i,o,a,s,u,l,c,h,f,d,p;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,QR()){t.next=3;break}throw new Error("No browser detected.");case 3:if(!(n=DR("error_description"))){t.next=6;break}throw new Error(n);case 6:if(r=DR("provider_token"),i=DR("access_token")){t.next=10;break}throw new Error("No access_token detected.");case 10:if(o=DR("expires_in")){t.next=13;break}throw new Error("No expires_in detected.");case 13:if(a=DR("refresh_token")){t.next=16;break}throw new Error("No refresh_token detected.");case 16:if(s=DR("token_type")){t.next=19;break}throw new Error("No token_type detected.");case 19:return u=Math.round(Date.now()/1e3),l=u+parseInt(o),t.next=23,this.api.getUser(i);case 23:if(c=t.sent,h=c.user,!(f=c.error)){t.next=28;break}throw f;case 28:return d={provider_token:r,access_token:i,expires_in:parseInt(o),expires_at:l,refresh_token:a,token_type:s,user:h},(null===e||void 0===e?void 0:e.storeSession)&&(this._saveSession(d),p=DR("type"),this._notifyAllSubscribers("SIGNED_IN"),"recovery"===p&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",t.abrupt("return",{data:d,error:null});case 34:return t.prev=34,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 37:case"end":return t.stop()}}),t,this,[[0,34]])})))}},{key:"signOut",value:function(){var e;return NR(this,void 0,void 0,L().mark((function t(){var n,r,i;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null===(e=this.currentSession)||void 0===e?void 0:e.access_token,this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),!n){t.next=10;break}return t.next=6,this.api.signOut(n);case 6:if(r=t.sent,!(i=r.error)){t.next=10;break}return t.abrupt("return",{error:i});case 10:return t.abrupt("return",{error:null});case 11:case"end":return t.stop()}}),t,this)})))}},{key:"onAuthStateChange",value:function(e){var t=this;try{var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:n,callback:e,unsubscribe:function(){t.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,r),{data:r,error:null}}catch(i){return{data:null,error:i}}}},{key:"_handleEmailSignIn",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return NR(this,void 0,void 0,L().mark((function o(){var a,s,u;return L().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,this.api.signInWithEmail(e,t,{redirectTo:i.redirectTo});case 3:if(a=o.sent,s=a.data,!(u=a.error)&&s){o.next=8;break}return o.abrupt("return",{data:null,user:null,session:null,error:u});case 8:return((null===(n=null===s||void 0===s?void 0:s.user)||void 0===n?void 0:n.confirmed_at)||(null===(r=null===s||void 0===s?void 0:s.user)||void 0===r?void 0:r.email_confirmed_at))&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),o.abrupt("return",{data:s,user:s.user,session:s,error:null});case 12:return o.prev=12,o.t0=o.catch(0),o.abrupt("return",{data:null,user:null,session:null,error:o.t0});case 15:case"end":return o.stop()}}),o,this,[[0,12]])})))}},{key:"_handlePhoneSignIn",value:function(e,t){var n;return NR(this,void 0,void 0,L().mark((function r(){var i,o,a;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.api.signInWithPhone(e,t);case 3:if(i=r.sent,o=i.data,!(a=i.error)&&o){r.next=8;break}return r.abrupt("return",{data:null,user:null,session:null,error:a});case 8:return(null===(n=null===o||void 0===o?void 0:o.user)||void 0===n?void 0:n.phone_confirmed_at)&&(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),r.abrupt("return",{data:o,user:o.user,session:o,error:null});case 12:return r.prev=12,r.t0=r.catch(0),r.abrupt("return",{data:null,user:null,session:null,error:r.t0});case 15:case"end":return r.stop()}}),r,this,[[0,12]])})))}},{key:"_handleProviderSignIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return QR()&&(window.location.href=n),{provider:e,url:n,data:null,session:null,user:null,error:null}}catch(r){return n?{provider:e,url:n,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:r}}}},{key:"_recoverSession",value:function(){var e;try{var t=QR()&&(null===(e=this.localStorage)||void 0===e?void 0:e.getItem(ER));if(!t||"string"!==typeof t)return null;var n=JSON.parse(t),r=n.currentSession;n.expiresAt>=Math.round(Date.now()/1e3)&&(null===r||void 0===r?void 0:r.user)&&(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"))}catch(i){console.log("error",i)}}},{key:"_recoverAndRefresh",value:function(){return NR(this,void 0,void 0,L().mark((function e(){var t,n,r,i,o,a,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=QR(),!e.t0){e.next=6;break}return e.next=5,this.localStorage.getItem(ER);case 5:e.t0=e.sent;case 6:if(t=e.t0){e.next=9;break}return e.abrupt("return",null);case 9:if(n=JSON.parse(t),r=n.currentSession,i=n.expiresAt,o=Math.round(Date.now()/1e3),!(i<o)){e.next=27;break}if(!this.autoRefreshToken||!r.refresh_token){e.next=24;break}return e.next=16,this._callRefreshToken(r.refresh_token);case 16:if(a=e.sent,!(s=a.error)){e.next=22;break}return console.log(s.message),e.next=22,this._removeSession();case 22:e.next=25;break;case 24:this._removeSession();case 25:e.next=28;break;case 27:r&&r.user?(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession());case 28:e.next=34;break;case 30:return e.prev=30,e.t1=e.catch(0),console.error(e.t1),e.abrupt("return",null);case 34:case"end":return e.stop()}}),e,this,[[0,30]])})))}},{key:"_callRefreshToken",value:function(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),NR(this,void 0,void 0,L().mark((function t(){var n,r,i;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("No current session.");case 3:return t.next=5,this.api.refreshAccessToken(e);case 5:if(n=t.sent,r=n.data,!(i=n.error)){t.next=10;break}throw i;case 10:if(r){t.next=12;break}throw Error("Invalid session data.");case 12:return this._saveSession(r),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),t.abrupt("return",{data:r,error:null});case 18:return t.prev=18,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 21:case"end":return t.stop()}}),t,this,[[0,18]])})))}},{key:"_notifyAllSubscribers",value:function(e){var t=this;this.stateChangeEmitters.forEach((function(n){return n.callback(e,t.currentSession)}))}},{key:"_saveSession",value:function(e){this.currentSession=e,this.currentUser=e.user;var t=e.expires_at;if(t){var n=t-Math.round(Date.now()/1e3),r=n>60?60:.5;this._startAutoRefreshToken(1e3*(n-r))}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}},{key:"_persistSession",value:function(e){var t={currentSession:e,expiresAt:e.expires_at};QR()&&this.localStorage.setItem(ER,JSON.stringify(t))}},{key:"_removeSession",value:function(){return NR(this,void 0,void 0,L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e.t0=QR(),!e.t0){e.next=7;break}return e.next=7,this.localStorage.removeItem(ER);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"_startAutoRefreshToken",value:function(e){var t=this;this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((function(){return t._callRefreshToken()}),e),"function"===typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}},{key:"_listenForMultiTabEvents",value:function(){var e=this;if(!this.multiTab||!QR()||!(null===window||void 0===window?void 0:window.addEventListener))return!1;try{null===window||void 0===window||window.addEventListener("storage",(function(t){var n;if(t.key===ER){var r=JSON.parse(String(t.newValue));(null===(n=null===r||void 0===r?void 0:r.currentSession)||void 0===n?void 0:n.access_token)?(e._recoverAndRefresh(),e._notifyAllSubscribers("SIGNED_IN")):(e._removeSession(),e._notifyAllSubscribers("SIGNED_OUT"))}}))}catch(t){console.error("_listenForMultiTabEvents",t)}}}]),e}(),BR=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){return(0,C.Z)(this,n),t.call(this,e)}return(0,A.Z)(n)}(WR),FR=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},$R=function(){function e(t){(0,C.Z)(this,e),this.shouldThrowOnError=!1,Object.assign(this,t),this.fetch=t.fetch||gR()}return(0,A.Z)(e,[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"then",value:function(e,t){var n=this;"undefined"===typeof this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");var r=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((function(e){return FR(n,void 0,void 0,L().mark((function t(){var n,r,i,o,a,s,u,l,c,h,f,d;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null,a=null,s=null,!e.ok){t.next=15;break}if(u=null===(n=this.headers.Prefer)||void 0===n?void 0:n.split(",").includes("return=minimal"),"HEAD"===this.method||u){t.next=10;break}return t.next=8,e.text();case 8:(l=t.sent)&&(a="text/csv"===this.headers.Accept?l:JSON.parse(l));case 10:c=null===(r=this.headers.Prefer)||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),h=null===(i=e.headers.get("content-range"))||void 0===i?void 0:i.split("/"),c&&h&&h.length>1&&(s=parseInt(h[1])),t.next=21;break;case 15:return t.next=17,e.text();case 17:f=t.sent;try{o=JSON.parse(f)}catch(p){o={message:f}}if(!o||!this.shouldThrowOnError){t.next=21;break}throw o;case 21:return d={error:o,data:a,count:s,status:e.status,statusText:e.statusText,body:a},t.abrupt("return",d);case 23:case"end":return t.stop()}}),t,this)})))}));return this.shouldThrowOnError||(r=r.catch((function(e){return{error:{message:"FetchError: ".concat(e.message),details:"",hint:"",code:e.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}}))),r.then(e,t)}}]),e}(),VR=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,C.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n,[{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=!1,n=e.split("").map((function(e){return/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)})).join("");return this.url.searchParams.set("select",n),this}},{key:"order",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ascending,r=void 0===n||n,i=t.nullsFirst,o=void 0!==i&&i,a=t.foreignTable,s="undefined"===typeof a?"order":"".concat(a,".order"),u=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(u?"".concat(u,","):"").concat(e,".").concat(r?"asc":"desc",".").concat(o?"nullsfirst":"nullslast")),this}},{key:"limit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.foreignTable,r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}},{key:"range",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.foreignTable,i="undefined"===typeof r?"offset":"".concat(r,".offset"),o="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(i,"".concat(e)),this.url.searchParams.set(o,"".concat(t-e+1)),this}},{key:"abortSignal",value:function(e){return this.signal=e,this}},{key:"single",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this}},{key:"maybeSingle",value:function(){var e=this;this.headers.Accept="application/vnd.pgrst.object+json";var t=new n(this);return t.then=function(t,n){return e.then((function(e){var n,r;return(null===(r=null===(n=e.error)||void 0===n?void 0:n.details)||void 0===r?void 0:r.includes("Results contain 0 rows"))?t({error:null,data:null,count:e.count,status:200,statusText:"OK",body:null}):t(e)}),n)},t}},{key:"csv",value:function(){return this.headers.Accept="text/csv",this}}]),n}($R),UR=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,C.Z)(this,n),(e=t.apply(this,arguments)).cs=e.contains,e.cd=e.containedBy,e.sl=e.rangeLt,e.sr=e.rangeGt,e.nxl=e.rangeGte,e.nxr=e.rangeLte,e.adj=e.rangeAdjacent,e.ov=e.overlaps,e}return(0,A.Z)(n,[{key:"not",value:function(e,t,n){return this.url.searchParams.append("".concat(e),"not.".concat(t,".").concat(n)),this}},{key:"or",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.foreignTable,r="undefined"===typeof n?"or":"".concat(n,".or");return this.url.searchParams.append(r,"(".concat(e,")")),this}},{key:"eq",value:function(e,t){return this.url.searchParams.append("".concat(e),"eq.".concat(t)),this}},{key:"neq",value:function(e,t){return this.url.searchParams.append("".concat(e),"neq.".concat(t)),this}},{key:"gt",value:function(e,t){return this.url.searchParams.append("".concat(e),"gt.".concat(t)),this}},{key:"gte",value:function(e,t){return this.url.searchParams.append("".concat(e),"gte.".concat(t)),this}},{key:"lt",value:function(e,t){return this.url.searchParams.append("".concat(e),"lt.".concat(t)),this}},{key:"lte",value:function(e,t){return this.url.searchParams.append("".concat(e),"lte.".concat(t)),this}},{key:"like",value:function(e,t){return this.url.searchParams.append("".concat(e),"like.".concat(t)),this}},{key:"ilike",value:function(e,t){return this.url.searchParams.append("".concat(e),"ilike.".concat(t)),this}},{key:"is",value:function(e,t){return this.url.searchParams.append("".concat(e),"is.".concat(t)),this}},{key:"in",value:function(e,t){var n=t.map((function(e){return"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)})).join(",");return this.url.searchParams.append("".concat(e),"in.(".concat(n,")")),this}},{key:"contains",value:function(e,t){return"string"===typeof t?this.url.searchParams.append("".concat(e),"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append("".concat(e),"cs.{".concat(t.join(","),"}")):this.url.searchParams.append("".concat(e),"cs.".concat(JSON.stringify(t))),this}},{key:"containedBy",value:function(e,t){return"string"===typeof t?this.url.searchParams.append("".concat(e),"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append("".concat(e),"cd.{".concat(t.join(","),"}")):this.url.searchParams.append("".concat(e),"cd.".concat(JSON.stringify(t))),this}},{key:"rangeLt",value:function(e,t){return this.url.searchParams.append("".concat(e),"sl.".concat(t)),this}},{key:"rangeGt",value:function(e,t){return this.url.searchParams.append("".concat(e),"sr.".concat(t)),this}},{key:"rangeGte",value:function(e,t){return this.url.searchParams.append("".concat(e),"nxl.".concat(t)),this}},{key:"rangeLte",value:function(e,t){return this.url.searchParams.append("".concat(e),"nxr.".concat(t)),this}},{key:"rangeAdjacent",value:function(e,t){return this.url.searchParams.append("".concat(e),"adj.".concat(t)),this}},{key:"overlaps",value:function(e,t){return"string"===typeof t?this.url.searchParams.append("".concat(e),"ov.".concat(t)):this.url.searchParams.append("".concat(e),"ov.{".concat(t.join(","),"}")),this}},{key:"textSearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,i=n.type,o=void 0===i?null:i,a="";"plain"===o?a="pl":"phrase"===o?a="ph":"websearch"===o&&(a="w");var s=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"".concat(a,"fts").concat(s,".").concat(t)),this}},{key:"fts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,i="undefined"===typeof r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"fts".concat(i,".").concat(t)),this}},{key:"plfts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,i="undefined"===typeof r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"plfts".concat(i,".").concat(t)),this}},{key:"phfts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,i="undefined"===typeof r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"phfts".concat(i,".").concat(t)),this}},{key:"wfts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,i="undefined"===typeof r?"":"(".concat(r,")");return this.url.searchParams.append("".concat(e),"wfts".concat(i,".").concat(t)),this}},{key:"filter",value:function(e,t,n){return this.url.searchParams.append("".concat(e),"".concat(t,".").concat(n)),this}},{key:"match",value:function(e){var t=this;return Object.keys(e).forEach((function(n){t.url.searchParams.append("".concat(n),"eq.".concat(e[n]))})),this}}]),n}(VR),HR=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.headers,a=void 0===o?{}:o,s=i.schema,u=i.fetch;return(0,C.Z)(this,n),(r=t.call(this,{fetch:u})).url=new URL(e),r.headers=Object.assign({},a),r.schema=s,r}return(0,A.Z)(n,[{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.head,r=void 0!==n&&n,i=t.count,o=void 0===i?null:i;this.method="GET";var a=!1,s=e.split("").map((function(e){return/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)})).join("");return this.url.searchParams.set("select",s),o&&(this.headers.Prefer="count=".concat(o)),r&&(this.method="HEAD"),new UR(this)}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.upsert,r=void 0!==n&&n,i=t.onConflict,o=t.returning,a=void 0===o?"representation":o,s=t.count,u=void 0===s?null:s;this.method="POST";var l=["return=".concat(a)];if(r&&l.push("resolution=merge-duplicates"),r&&void 0!==i&&this.url.searchParams.set("on_conflict",i),this.body=e,u&&l.push("count=".concat(u)),this.headers.Prefer=l.join(","),Array.isArray(e)){var c=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(c.length>0){var h=(0,Jp.Z)(new Set(c)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",h.join(","))}}return new UR(this)}},{key:"upsert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onConflict,r=t.returning,i=void 0===r?"representation":r,o=t.count,a=void 0===o?null:o,s=t.ignoreDuplicates,u=void 0!==s&&s;this.method="POST";var l=["resolution=".concat(u?"ignore":"merge","-duplicates"),"return=".concat(i)];return void 0!==n&&this.url.searchParams.set("on_conflict",n),this.body=e,a&&l.push("count=".concat(a)),this.headers.Prefer=l.join(","),new UR(this)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.returning,r=void 0===n?"representation":n,i=t.count,o=void 0===i?null:i;this.method="PATCH";var a=["return=".concat(r)];return this.body=e,o&&a.push("count=".concat(o)),this.headers.Prefer=a.join(","),new UR(this)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.returning,n=void 0===t?"representation":t,r=e.count,i=void 0===r?null:r;this.method="DELETE";var o=["return=".concat(n)];return i&&o.push("count=".concat(i)),this.headers.Prefer=o.join(","),new UR(this)}}]),n}($R),GR=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.headers,a=void 0===o?{}:o,s=i.schema,u=i.fetch;return(0,C.Z)(this,n),(r=t.call(this,{fetch:u})).url=new URL(e),r.headers=Object.assign({},a),r.schema=s,r}return(0,A.Z)(n,[{key:"rpc",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.head,i=void 0!==r&&r,o=n.count,a=void 0===o?null:o;return i?(this.method="HEAD",e&&Object.entries(e).forEach((function(e){var n=(0,w.Z)(e,2),r=n[0],i=n[1];t.url.searchParams.append(r,i)}))):(this.method="POST",this.body=e),a&&(void 0!==this.headers.Prefer?this.headers.Prefer+=",count=".concat(a):this.headers.Prefer="count=".concat(a)),new UR(this)}}]),n}($R),qR={"X-Client-Info":"postgrest-js/".concat("0.35.1")},XR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.headers,i=void 0===r?{}:r,o=n.schema,a=n.fetch;(0,C.Z)(this,e),this.url=t,this.headers=Object.assign(Object.assign({},qR),i),this.schema=o,this.fetch=a}return(0,A.Z)(e,[{key:"auth",value:function(e){return this.headers.Authorization="Bearer ".concat(e),this}},{key:"from",value:function(e){var t="".concat(this.url,"/").concat(e);return new HR(t,{headers:this.headers,schema:this.schema,fetch:this.fetch})}},{key:"rpc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.head,i=void 0!==r&&r,o=n.count,a=void 0===o?null:o,s="".concat(this.url,"/rpc/").concat(e);return new GR(s,{headers:this.headers,schema:this.schema,fetch:this.fetch}).rpc(t,{head:i,count:a})}}]),e}();!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(zR||(zR={}));var YR,JR,KR,eL,tL=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((function(n,r){return n[r]=nL(r,e,t,i),n}),{})},nL=function(e,t,n,r){var i=t.find((function(t){return t.name===e})),o=null===i||void 0===i?void 0:i.type,a=n[e];return o&&!r.includes(o)?rL(o,a):iL(a)},rL=function(e,t){if("_"===e.charAt(0)){var n=e.slice(1,e.length);return uL(t,n)}switch(e){case zR.bool:return oL(t);case zR.float4:case zR.float8:case zR.int2:case zR.int4:case zR.int8:case zR.numeric:case zR.oid:return aL(t);case zR.json:case zR.jsonb:return sL(t);case zR.timestamp:return lL(t);case zR.abstime:case zR.date:case zR.daterange:case zR.int4range:case zR.int8range:case zR.money:case zR.reltime:case zR.text:case zR.time:case zR.timestamptz:case zR.timetz:case zR.tsrange:case zR.tstzrange:default:return iL(t)}},iL=function(e){return e},oL=function(e){switch(e){case"t":return!0;case"f":return!1;default:return e}},aL=function(e){if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sL=function(e){if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},uL=function(e,t){if("string"!==typeof e)return e;var n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){var i,o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch(a){i=o?o.split(","):[]}return i.map((function(e){return rL(t,e)}))}return e},lL=function(e){return"string"===typeof e?e.replace(" ","T"):e},cL={"X-Client-Info":"realtime-js/".concat("1.3.5")},hL=1e4;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(YR||(YR={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(JR||(JR={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(KR||(KR={})),function(e){e.websocket="websocket"}(eL||(eL={}));var fL=function(){function e(t,n){(0,C.Z)(this,e),this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}return(0,A.Z)(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),dL=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:hL;(0,C.Z)(this,e),this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}return(0,A.Z)(e,[{key:"resend",value:function(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}},{key:"updatePayload",value:function(e){this.payload=Object.assign(Object.assign({},this.payload),e)}},{key:"receive",value:function(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}},{key:"startTimeout",value:function(){var e=this;this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(function(t){e._cancelRefEvent(),e._cancelTimeout(),e.receivedResp=t,e._matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout))}},{key:"trigger",value:function(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}},{key:"destroy",value:function(){this._cancelRefEvent(),this._cancelTimeout()}},{key:"_cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"_cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}},{key:"_matchReceive",value:function(e){var t=e.status,n=e.response;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(n)}))}},{key:"_hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}}]),e}(),pL=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;(0,C.Z)(this,e),this.topic=t,this.params=r,this.socket=i,this.bindings=[],this.state=JR.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new dL(this,KR.join,this.params,this.timeout),this.rejoinTimer=new fL((function(){return n.rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(function(){n.state=JR.joined,n.rejoinTimer.reset(),n.pushBuffer.forEach((function(e){return e.send()})),n.pushBuffer=[]})),this.onClose((function(){n.rejoinTimer.reset(),n.socket.log("channel","close ".concat(n.topic," ").concat(n.joinRef())),n.state=JR.closed,n.socket.remove(n)})),this.onError((function(e){n.isLeaving()||n.isClosed()||(n.socket.log("channel","error ".concat(n.topic),e),n.state=JR.errored,n.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(function(){n.isJoining()&&(n.socket.log("channel","timeout ".concat(n.topic),n.joinPush.timeout),n.state=JR.errored,n.rejoinTimer.scheduleTimeout())})),this.on(KR.reply,(function(e,t){n.trigger(n.replyEventName(t),e)}))}return(0,A.Z)(e,[{key:"rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}},{key:"onClose",value:function(e){this.on(KR.close,e)}},{key:"onError",value:function(e){this.on(KR.error,(function(t){return e(t)}))}},{key:"on",value:function(e,t){this.bindings.push({event:e,callback:t})}},{key:"off",value:function(e){this.bindings=this.bindings.filter((function(t){return t.event!==e}))}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");var r=new dL(this,e,t,n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}},{key:"updateJoinPayload",value:function(e){this.joinPush.updatePayload(e)}},{key:"unsubscribe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=JR.leaving;var n=function(){e.socket.log("channel","leave ".concat(e.topic)),e.trigger(KR.close,"leave",e.joinRef())};this.joinPush.destroy();var r=new dL(this,KR.leave,{},t);return r.receive("ok",(function(){return n()})).receive("timeout",(function(){return n()})),r.send(),this.canPush()||r.trigger("ok",{}),r}},{key:"onMessage",value:function(e,t,n){return t}},{key:"isMember",value:function(e){return this.topic===e}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=JR.joining,this.joinPush.resend(e))}},{key:"trigger",value:function(e,t,n){var r=KR.close,i=KR.error,o=KR.leave,a=KR.join;if(!(n&&[r,i,o,a].indexOf(e)>=0&&n!==this.joinRef())){var s=this.onMessage(e,t,n);if(t&&!s)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((function(n){return"*"===n.event?e===(null===t||void 0===t?void 0:t.type):n.event===e})).map((function(e){return e.callback(s,n)}))}}},{key:"replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"isClosed",value:function(){return this.state===JR.closed}},{key:"isErrored",value:function(){return this.state===JR.errored}},{key:"isJoined",value:function(){return this.state===JR.joined}},{key:"isJoining",value:function(){return this.state===JR.joining}},{key:"isLeaving",value:function(){return this.state===JR.leaving}}]),e}(),vL=n(5087),mL=function(){function e(){(0,C.Z)(this,e),this.HEADER_LENGTH=1}return(0,A.Z)(e,[{key:"decode",value:function(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}},{key:"_binaryDecode",value:function(e){var t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}},{key:"_decodeBroadcast",value:function(e,t,n){var r=t.getUint8(1),i=t.getUint8(2),o=this.HEADER_LENGTH+2,a=n.decode(e.slice(o,o+r));o+=r;var s=n.decode(e.slice(o,o+i));return o+=i,{ref:null,topic:a,event:s,payload:JSON.parse(n.decode(e.slice(o,e.byteLength)))}}}]),e}(),gL=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},yL=function(){},bL=function(){function e(t,n){var r=this;(0,C.Z)(this,e),this.accessToken=null,this.channels=[],this.endPoint="",this.headers=cL,this.params={},this.timeout=hL,this.transport=vL.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=yL,this.conn=null,this.sendBuffer=[],this.serializer=new mL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint="".concat(t,"/").concat(eL.websocket),(null===n||void 0===n?void 0:n.params)&&(this.params=n.params),(null===n||void 0===n?void 0:n.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),(null===n||void 0===n?void 0:n.timeout)&&(this.timeout=n.timeout),(null===n||void 0===n?void 0:n.logger)&&(this.logger=n.logger),(null===n||void 0===n?void 0:n.transport)&&(this.transport=n.transport),(null===n||void 0===n?void 0:n.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs),(null===n||void 0===n?void 0:n.longpollerTimeout)&&(this.longpollerTimeout=n.longpollerTimeout),this.reconnectAfterMs=(null===n||void 0===n?void 0:n.reconnectAfterMs)?n.reconnectAfterMs:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.encode=(null===n||void 0===n?void 0:n.encode)?n.encode:function(e,t){return t(JSON.stringify(e))},this.decode=(null===n||void 0===n?void 0:n.decode)?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fL((function(){return gL(r,void 0,void 0,L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.disconnect();case 2:this.connect();case 3:case"end":return e.stop()}}),e,this)})))}),this.reconnectAfterMs)}return(0,A.Z)(e,[{key:"connect",value:function(){var e=this;this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=function(){return e._onConnOpen()},this.conn.onerror=function(t){return e._onConnError(t)},this.conn.onmessage=function(t){return e.onConnMessage(t)},this.conn.onclose=function(t){return e._onConnClose(t)}))}},{key:"disconnect",value:function(e,t){var n=this;return new Promise((function(r,i){try{n.conn&&(n.conn.onclose=function(){},e?n.conn.close(e,t||""):n.conn.close(),n.conn=null,n.heartbeatTimer&&clearInterval(n.heartbeatTimer),n.reconnectTimer.reset()),r({error:null,data:!0})}catch(o){r({error:o,data:!1})}}))}},{key:"log",value:function(e,t,n){this.logger(e,t,n)}},{key:"onOpen",value:function(e){this.stateChangeCallbacks.open.push(e)}},{key:"onClose",value:function(e){this.stateChangeCallbacks.close.push(e)}},{key:"onError",value:function(e){this.stateChangeCallbacks.error.push(e)}},{key:"onMessage",value:function(e){this.stateChangeCallbacks.message.push(e)}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case YR.connecting:return"connecting";case YR.open:return"open";case YR.closing:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(e){this.channels=this.channels.filter((function(t){return t.joinRef()!==e.joinRef()}))}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new pL(e,t,this);return this.channels.push(n),n}},{key:"push",value:function(e){var t=this,n=e.topic,r=e.event,i=e.payload,o=e.ref,a=function(){t.encode(e,(function(e){var n;null===(n=t.conn)||void 0===n||n.send(e)}))};this.log("push","".concat(n," ").concat(r," (").concat(o,")"),i),this.isConnected()?a():this.sendBuffer.push(a)}},{key:"onConnMessage",value:function(e){var t=this;this.decode(e.data,(function(e){var n=e.topic,r=e.event,i=e.payload,o=e.ref;o&&o===t.pendingHeartbeatRef?t.pendingHeartbeatRef=null:r===(null===i||void 0===i?void 0:i.type)&&t._resetHeartbeat(),t.log("receive","".concat(i.status||""," ").concat(n," ").concat(r," ").concat(o&&"("+o+")"||""),i),t.channels.filter((function(e){return e.isMember(n)})).forEach((function(e){return e.trigger(r,i,o)})),t.stateChangeCallbacks.message.forEach((function(t){return t(e)}))}))}},{key:"endPointURL",value:function(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}},{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"setAuth",value:function(e){this.accessToken=e;try{this.channels.forEach((function(t){e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(KR.access_token,{access_token:e})}))}catch(t){console.log("setAuth error",t)}}},{key:"leaveOpenTopic",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t.isJoined()||t.isJoining())}));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}},{key:"_onConnOpen",value:function(){this.log("transport","connected to ".concat(this.endPointURL())),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:"_onConnClose",value:function(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:"_onConnError",value:function(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:"_triggerChanError",value:function(){this.channels.forEach((function(e){return e.trigger(KR.error)}))}},{key:"_appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}},{key:"_flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"_resetHeartbeat",value:function(){var e=this;this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e._sendHeartbeat()}),this.heartbeatIntervalMs)}},{key:"_sendHeartbeat",value:function(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}]),e}(),OL=function(){function e(t,n,r,i){(0,C.Z)(this,e);var o={},a="*"===i?"realtime:".concat(r):"realtime:".concat(r,":").concat(i),s=n.Authorization.split(" ")[1];s&&(o.user_token=s),this.subscription=t.channel(a,o)}return(0,A.Z)(e,[{key:"getPayloadRecords",value:function(e){var t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=tL(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=tL(e.columns,e.old_record)),t}},{key:"on",value:function(e,t){var n=this;return this.subscription.on(e,(function(e){var r={schema:e.schema,table:e.table,commit_timestamp:e.commit_timestamp,eventType:e.type,new:{},old:{},errors:e.errors};r=Object.assign(Object.assign({},r),n.getPayloadRecords(e)),t(r)})),this}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.subscription.onError((function(t){return e("SUBSCRIPTION_ERROR",t)})),this.subscription.onClose((function(){return e("CLOSED")})),this.subscription.subscribe().receive("ok",(function(){return e("SUBSCRIBED")})).receive("error",(function(t){return e("SUBSCRIPTION_ERROR",t)})).receive("timeout",(function(){return e("RETRYING_AFTER_TIMEOUT")})),this.subscription}}]),e}(),xL=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e,r){var i,o=r.headers,a=void 0===o?{}:o,s=r.schema,u=r.realtime,l=r.table,c=r.fetch;return(0,C.Z)(this,n),(i=t.call(this,e,{headers:a,schema:s,fetch:c}))._subscription=null,i._realtime=u,i._headers=a,i._schema=s,i._table=l,i}return(0,A.Z)(n,[{key:"on",value:function(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new OL(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}]),n}(HR),wL=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},kL=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},SL=function(e,t){if("function"!==typeof e.json)return t(e);e.json().then((function(n){return t({message:kL(n),status:(null===e||void 0===e?void 0:e.status)||500})}))},_L=function(e,t,n,r){var i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function TL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gR(),t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return wL(this,void 0,void 0,L().mark((function a(){return L().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise((function(a,s){e(n,_L(t,r,i,o)).then((function(e){if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?a(e):e.json()})).then((function(e){return a(e)})).catch((function(e){return SL(e,s)}))})));case 1:case"end":return a.stop()}}),a)})))}function ML(e,t,n,r){return wL(this,void 0,void 0,L().mark((function i(){return L().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",TL(e,"GET",t,n,r));case 1:case"end":return i.stop()}}),i)})))}function EL(e,t,n,r,i){return wL(this,void 0,void 0,L().mark((function o(){return L().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",TL(e,"POST",t,r,i,n));case 1:case"end":return o.stop()}}),o)})))}function PL(e,t,n,r,i){return wL(this,void 0,void 0,L().mark((function o(){return L().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",TL(e,"PUT",t,r,i,n));case 1:case"end":return o.stop()}}),o)})))}function CL(e,t,n,r,i){return wL(this,void 0,void 0,L().mark((function o(){return L().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",TL(e,"DELETE",t,r,i,n));case 1:case"end":return o.stop()}}),o)})))}var AL,RL=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},LL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},QL={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},DL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;(0,C.Z)(this,e),this.url=t,this.headers=n,this.bucketId=r,this.fetch=i}return(0,A.Z)(e,[{key:"uploadOrUpdate",value:function(e,t,n,r){return RL(this,void 0,void 0,L().mark((function i(){var o,a,s,u,l,c,h;return L().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,a=Object.assign(Object.assign({},QL),r),s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)}),"undefined"!==typeof Blob&&n instanceof Blob?((o=new FormData).append("cacheControl",a.cacheControl),o.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(o=n).append("cacheControl",a.cacheControl):(o=n,s["cache-control"]="max-age=".concat(a.cacheControl),s["content-type"]=a.contentType),u=this._removeEmptyFolders(t),l=this._getFinalPath(u),i.next=8,gR()("".concat(this.url,"/object/").concat(l),{method:e,body:o,headers:s});case 8:if(!(c=i.sent).ok){i.next=13;break}return i.abrupt("return",{data:{Key:l},error:null});case 13:return i.next=15,c.json();case 15:return h=i.sent,i.abrupt("return",{data:null,error:h});case 17:i.next=22;break;case 19:return i.prev=19,i.t0=i.catch(0),i.abrupt("return",{data:null,error:i.t0});case 22:case"end":return i.stop()}}),i,this,[[0,19]])})))}},{key:"upload",value:function(e,t,n){return RL(this,void 0,void 0,L().mark((function r(){return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.uploadOrUpdate("POST",e,t,n));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"update",value:function(e,t,n){return RL(this,void 0,void 0,L().mark((function r(){return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.uploadOrUpdate("PUT",e,t,n));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"move",value:function(e,t){return RL(this,void 0,void 0,L().mark((function n(){var r;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,EL(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return r=n.sent,n.abrupt("return",{data:r,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"createSignedUrl",value:function(e,t){return RL(this,void 0,void 0,L().mark((function n(){var r,i,o;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=this._getFinalPath(e),n.next=4,EL(this.fetch,"".concat(this.url,"/object/sign/").concat(r),{expiresIn:t},{headers:this.headers});case 4:return i=n.sent,o="".concat(this.url).concat(i.signedURL),i={signedURL:o},n.abrupt("return",{data:i,error:null,signedURL:o});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0,signedURL:null});case 13:case"end":return n.stop()}}),n,this,[[0,10]])})))}},{key:"download",value:function(e){return RL(this,void 0,void 0,L().mark((function t(){var n,r,i;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=this._getFinalPath(e),t.next=4,ML(this.fetch,"".concat(this.url,"/object/").concat(n),{headers:this.headers,noResolveJson:!0});case 4:return r=t.sent,t.next=7,r.blob();case 7:return i=t.sent,t.abrupt("return",{data:i,error:null});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))}},{key:"getPublicUrl",value:function(e){try{var t=this._getFinalPath(e),n="".concat(this.url,"/object/public/").concat(t);return{data:{publicURL:n},error:null,publicURL:n}}catch(r){return{data:null,error:r,publicURL:null}}}},{key:"remove",value:function(e){return RL(this,void 0,void 0,L().mark((function t(){var n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,CL(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"list",value:function(e,t,n){return RL(this,void 0,void 0,L().mark((function r(){var i,o;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=Object.assign(Object.assign(Object.assign({},LL),t),{prefix:e||""}),r.next=4,EL(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),i,{headers:this.headers},n);case 4:return o=r.sent,r.abrupt("return",{data:o,error:null});case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 11:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"_getFinalPath",value:function(e){return"".concat(this.bucketId,"/").concat(e)}},{key:"_removeEmptyFolders",value:function(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}]),e}(),ZL={"X-Client-Info":"storage-js/".concat("0.0.0")},IL=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},NL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;(0,C.Z)(this,e),this.url=t,this.headers=Object.assign(Object.assign({},ZL),n),this.fetch=r}return(0,A.Z)(e,[{key:"listBuckets",value:function(){return IL(this,void 0,void 0,L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ML(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getBucket",value:function(e){return IL(this,void 0,void 0,L().mark((function t(){var n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ML(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"createBucket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return IL(this,void 0,void 0,L().mark((function n(){var r;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,EL(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return r=n.sent,n.abrupt("return",{data:r.name,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"updateBucket",value:function(e,t){return IL(this,void 0,void 0,L().mark((function n(){var r;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,PL(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return r=n.sent,n.abrupt("return",{data:r,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"emptyBucket",value:function(e){return IL(this,void 0,void 0,L().mark((function t(){var n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,EL(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"deleteBucket",value:function(e){return IL(this,void 0,void 0,L().mark((function t(){var n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,CL(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}(),zL=function(e){(0,E.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return(0,C.Z)(this,n),t.call(this,e,r,i)}return(0,A.Z)(n,[{key:"from",value:function(e){return new DL(this.url,this.headers,e,this.fetch)}}]),n}(NL),jL=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},WL={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:vR},BL=function(){function e(t,n,r){if((0,C.Z)(this,e),this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");t=t.replace(/\/$/,"");var i=Object.assign(Object.assign({},WL),r);this.restUrl="".concat(t,"/rest/v1"),this.realtimeUrl="".concat(t,"/realtime/v1").replace("http","ws"),this.authUrl="".concat(t,"/auth/v1"),this.storageUrl="".concat(t,"/storage/v1"),this.schema=i.schema,this.multiTab=i.multiTab,this.fetch=i.fetch,this.headers=Object.assign(Object.assign({},vR),null===r||void 0===r?void 0:r.headers),this.auth=this._initSupabaseAuthClient(i),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},i.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}return(0,A.Z)(e,[{key:"storage",get:function(){return new zL(this.storageUrl,this._getAuthHeaders(),this.fetch)}},{key:"from",value:function(e){var t="".concat(this.restUrl,"/").concat(e);return new xL(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch})}},{key:"rpc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.head,i=void 0!==r&&r,o=n.count,a=void 0===o?null:o,s=this._initPostgRESTClient();return s.rpc(e,t,{head:i,count:a})}},{key:"removeAllSubscriptions",value:function(){return jL(this,void 0,void 0,L().mark((function e(){var t,n,r=this;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.realtime.channels.slice(),n=t.map((function(e){return r.removeSubscription(e).then((function(){return{status:"fulfilled",value:{error:null}}})).catch((function(e){return{status:"rejected",reason:e}}))})),e.abrupt("return",Promise.all(n));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"removeSubscription",value:function(e){var t=this;return new Promise((function(n,r){return jL(t,void 0,void 0,L().mark((function t(){var i,o,a,s,u,l;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._closeSubscription(e);case 2:if(i=t.sent,!(o=i.error)){t.next=6;break}return t.abrupt("return",r({error:o}));case 6:if(a=this.getSubscriptions(),s=a.filter((function(e){return e.isJoined()})).length,0!==a.length){t.next=15;break}return t.next=11,this.realtime.disconnect();case 11:if(u=t.sent,!(l=u.error)){t.next=15;break}return t.abrupt("return",r({error:l}));case 15:return t.abrupt("return",n({data:{openSubscriptions:s},error:null}));case 16:case"end":return t.stop()}}),t,this)})))}))}},{key:"_closeSubscription",value:function(e){return jL(this,void 0,void 0,L().mark((function t(){var n=this;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isClosed()){t.next=4;break}return t.next=3,this._closeChannel(e);case 3:return t.abrupt("return",t.sent);case 4:return t.abrupt("return",new Promise((function(t){return n.realtime.remove(e),t({error:null})})));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getSubscriptions",value:function(){return this.realtime.channels}},{key:"_initSupabaseAuthClient",value:function(e){var t=e.autoRefreshToken,n=e.persistSession,r=e.detectSessionInUrl,i=e.localStorage,o=e.headers,a=e.fetch,s={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new BR({url:this.authUrl,headers:Object.assign(Object.assign({},o),s),autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,localStorage:i,fetch:a})}},{key:"_initRealtimeClient",value:function(e){return new bL(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},null===e||void 0===e?void 0:e.params),{apikey:this.supabaseKey})}))}},{key:"_initPostgRESTClient",value:function(){return new XR(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch})}},{key:"_getAuthHeaders",value:function(){var e,t,n=this.headers,r=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return n.apikey=this.supabaseKey,n.Authorization="Bearer ".concat(r),n}},{key:"_closeChannel",value:function(e){return new Promise((function(t,n){e.unsubscribe().receive("ok",(function(){return t({error:null})})).receive("error",(function(e){return n({error:e})})).receive("timeout",(function(){return n({error:"timed out"})}))}))}},{key:"_listenForMultiTabEvents",value:function(){var e=this;if(!this.multiTab||"undefined"===typeof window||!(null===window||void 0===window?void 0:window.addEventListener))return null;try{return null===window||void 0===window?void 0:window.addEventListener("storage",(function(t){var n,r,i;if("supabase.auth.token"===t.key){var o=JSON.parse(String(t.newValue)),a=null!==(r=null===(n=null===o||void 0===o?void 0:o.currentSession)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,s=null===(i=e.auth.session())||void 0===i?void 0:i.access_token;a?!s&&a?e._handleTokenChanged("SIGNED_IN",a,"STORAGE"):s!==a&&e._handleTokenChanged("TOKEN_REFRESHED",a,"STORAGE"):e._handleTokenChanged("SIGNED_OUT",a,"STORAGE")}}))}catch(t){return console.error("_listenForMultiTabEvents",t),null}}},{key:"_listenForAuthEvents",value:function(){var e=this;return this.auth.onAuthStateChange((function(t,n){e._handleTokenChanged(t,null===n||void 0===n?void 0:n.access_token,"CLIENT")})).data}},{key:"_handleTokenChanged",value:function(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?"SIGNED_OUT"!==e&&"USER_DELETED"!==e||(this.removeAllSubscriptions(),"STORAGE"==n&&this.auth.signOut()):(this.realtime.setAuth(t),"STORAGE"==n&&this.auth.setAuth(t),this.changedAccessToken=t)}}]),e}(),FL=n(8961),$L=n.n(FL),VL=new BL("https://xowgdbirlorbplkgstmz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQyNzQzNzcxLCJleHAiOjE5NTgzMTk3NzF9.auplOVy4eqa0s4FkemmdScRGXqSXkADqpcD6OBTKbPA",AL);function UL(){return(UL=y(L().mark((function e(t){var n,r,i;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VL.from("nodes").insert([{id:t.id,group:t.group,content:t.content}]);case 2:if(n=e.sent,r=n.d,!(i=n.e)){e.next=7;break}throw i;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HL(){return(HL=y(L().mark((function e(t){var n,r,i;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VL.from("nodes").update({group:t.group,content:t.content}).match({id:t.id});case 2:if(n=e.sent,r=n.d,!(i=n.e)){e.next=7;break}throw i;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GL(){return(GL=y(L().mark((function e(t){var n,r,i;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"!==typeof t.source&&(t.source=t.source.id),"string"!==typeof t.target&&(t.target=t.target.id),e.next=4,VL.from("links").insert([{source:t.source,target:t.target,value:t.value,Content:t.Content}]);case 4:if(n=e.sent,r=n.d,!(i=n.e)){e.next=9;break}throw i;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qL=function(){var t=(0,e.useReducer)((function(e,t){switch(console.log("reducing",e,t),t.eventType){case"INSERT":return $L()(e,(0,x.Z)({},t.table,{$push:[t.new]}));case"UPDATE":switch(t.table){case"nodes":return(0,T.Z)((0,T.Z)({},e),{},{nodes:e.nodes.map((function(e){return e.id==t.old.id?t.new:e}))});case"links":return(0,T.Z)((0,T.Z)({},e),{},{links:e.links.map((function(e){return e.source==t.old.source&&e.target==t.old.target?t.new:e}))})}}return console.log("after reduce",e),e}),{nodes:[],links:[]}),n=(0,w.Z)(t,2),r=n[0],i=n[1];return(0,e.useEffect)((function(){VL.from("*").on("*",i).subscribe()})),(0,e.useEffect)(y(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return function(t){i({eventType:"INSERT",table:e,new:t})}},e.next=3,VL.from("nodes").select().then((function(e){return e.body.forEach(t("nodes"))}));case 3:return e.next=5,VL.from("links").select().then((function(e){return e.body.forEach(t("links"))}));case 5:case"end":return e.stop()}}),e)}))),[]),console.log("data state",r),r};function XL(e){return NT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368.5 240H272v-96.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-96.5c-8.8 0-16 7.2-16 16 0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7H240v96.5c0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7 8.8 0 16-7.2 16-16V272h96.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"}}]})(e)}var YL={position:"absolute",top:"3rem",right:"3rem",bottom:"3rem",minWidth:"40%",width:"40%",bgcolor:"background.paper",border:"0px solid #000",borderRadius:"8px",outline:"none",backgroundColor:"#202024",p:4},JL={position:"absolute",top:"4rem",width:"35rem",height:"5rem",left:"0",right:"0",margin:"auto",bgcolor:"background.paper",border:"0px solid #000",borderRadius:"8px",outline:"none",backgroundColor:"#202024"},KL={width:"30rem",height:"30rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"0px solid #000",borderRadius:"8px",outline:"none",backgroundColor:"#202024",p:4},eQ=function(t){var n=(0,e.useState)(!1),r=(0,w.Z)(n,2),i=r[0],o=r[1],a=(0,e.useState)(!1),s=(0,w.Z)(a,2),u=s[0],l=s[1],c=(0,e.useState)(null),h=(0,w.Z)(c,2),f=h[0],d=h[1],p=qL(),v=(0,e.useState)(!1),m=(0,w.Z)(v,2),g=m[0],y=m[1],b=function(e){o(!1)},x=function(e){l(!1)},k=(0,e.useRef)(),S=function(e){var t,n=k.current.scene().children[3].children,r=(0,O.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("node"==i.__graphObjType&&i.__data.id==e)return i.__data}}catch(o){r.e(o)}finally{r.f()}},_=(0,e.useCallback)((function(e){d(e),o(!0);var t=1+40/Math.hypot(e.x,e.y,e.z);k.current.cameraPosition({x:e.x*t,y:e.y*t,z:e.z*t},e,1e3)}),[k]),T=(0,e.useCallback)((function(e){_(e)}),[k]),M=function(e){console.log(e),e.ctrlKey&&69==e.which&&y(!0),(e.ctrlKey&&75===e.which||e.metaKey&&75==e.which)&&l(!0)};return(0,e.useEffect)((function(){document.addEventListener("keydown",M.bind(undefined))}),[]),(0,qp.jsxs)(qp.Fragment,{children:[(0,qp.jsx)(Ip,{ref:k,graphData:p,nodeLabel:"id",nodeAutoColorBy:"group",onNodeClick:T,nodeResolution:50,linkDirectionalParticles:1,linkDirectionalParticleResolution:12,scene:function(e){console.log(e)}}),(0,qp.jsxs)("div",{children:[(0,qp.jsxs)("div",{className:"flex flex-row fab space-x-5",children:[(0,qp.jsxs)("div",{className:"flex flex-row items-center justify-center",onClick:function(){return l(!0)},children:[(0,qp.jsx)(FT,{className:"mr-1"}),(0,qp.jsx)("span",{className:"rounded-sm bg-zinc-700",style:{paddingLeft:"2px",paddingRight:"2px"},children:"<C-k>"})]}),(0,qp.jsxs)("div",{className:"flex flex-row items-center justify-center",onClick:function(){return y(!0)},children:[(0,qp.jsx)(XL,{className:"mr-1",style:{fontSize:"13px"}}),(0,qp.jsx)("span",{className:"rounded-sm bg-zinc-700",style:{paddingLeft:"2px",paddingRight:"2px"},children:"<C-e>"})]})]}),(0,qp.jsx)(hO,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:i,onClose:b,closeAfterTransition:!0,BackdropComponent:Qb,BackdropProps:{timeout:500},children:(0,qp.jsx)(Ab,{in:i,children:(0,qp.jsx)(zb,{sx:YL,children:(0,qp.jsx)(hR,{node:f,nav:function(e){b(),setTimeout((function(){_(S(e))}),250)},handleNodeUpdate:function(e){!function(e){HL.apply(this,arguments)}(e)},data:p,handleLinkSubmit:function(e){!function(e){GL.apply(this,arguments)}(e)}})})})}),(0,qp.jsx)(hO,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:u,onClose:x,closeAfterTransition:!0,BackdropComponent:Qb,BackdropProps:{timeout:200},children:(0,qp.jsx)(Ab,{in:u,children:(0,qp.jsx)(zb,{sx:JL,children:(0,qp.jsx)(dR,{handleSearchSubmit:function(e){b(),x(),setTimeout((function(){_(S(e))}),187)},data:p})})})}),(0,qp.jsx)(hO,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:g,onClose:function(e){y(!1)},closeAfterTransition:!0,BackdropComponent:Qb,BackdropProps:{timeout:200},children:(0,qp.jsx)(Ab,{in:g,children:(0,qp.jsx)(zb,{sx:KL,children:(0,qp.jsx)(pR,{handleNodeAddition:function(e){y(!1),function(e){UL.apply(this,arguments)}(e)}})})})})]})]})};var tQ=function(){return(0,qp.jsx)("div",{className:"",children:(0,qp.jsx)(eQ,{})})},nQ=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.render((0,qp.jsx)(e.StrictMode,{children:(0,qp.jsx)(tQ,{})}),document.getElementById("root")),nQ()}()}();
//# sourceMappingURL=main.792ec082.js.map